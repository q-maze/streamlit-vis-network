/*! For license information please see main.249804f0.js.LICENSE.txt */
(()=>{var t={219:(t,e,i)=>{"use strict";var n=i(86),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return n.isMemo(t)?s:a[t.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var h=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(p){var r=f(i);r&&r!==p&&t(e,r,n)}var s=c(i);u&&(s=s.concat(u(i)));for(var a=l(e),v=l(i),y=0;y<s.length;++y){var g=s[y];if(!o[g]&&(!n||!n[g])&&(!v||!v[g])&&(!a||!a[g])){var b=d(i,g);try{h(e,g,b)}catch(m){}}}}return e}},123:t=>{"use strict";var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var o,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var h in o=Object(arguments[l]))i.call(o,h)&&(a[h]=o[h]);if(e){s=e(o);for(var c=0;c<s.length;c++)n.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},82:(t,e)=>{"use strict";var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,g=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,m=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case c:case u:case o:case a:case s:case f:return t;default:switch(t=t&&t.$$typeof){case h:case d:case y:case v:case l:return t;default:return e}}case r:return e}}}function x(t){return _(t)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=h,e.ContextProvider=l,e.Element=n,e.ForwardRef=d,e.Fragment=o,e.Lazy=y,e.Memo=v,e.Portal=r,e.Profiler=a,e.StrictMode=s,e.Suspense=f,e.isAsyncMode=function(t){return x(t)||_(t)===c},e.isConcurrentMode=x,e.isContextConsumer=function(t){return _(t)===h},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===v},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===a},e.isStrictMode=function(t){return _(t)===s},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===u||t===a||t===s||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===v||t.$$typeof===l||t.$$typeof===h||t.$$typeof===d||t.$$typeof===b||t.$$typeof===m||t.$$typeof===w||t.$$typeof===g)},e.typeOf=_},86:(t,e,i)=>{"use strict";t.exports=i(82)},202:(t,e,i)=>{"use strict";var n=i(123),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,h=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function w(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||b}function _(){}function x(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var k=x.prototype=new _;k.constructor=x,n(k,w.prototype),k.isPureReactComponent=!0;var S={current:null},O=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,i){var n,r={},s=null,a=null;if(null!=e)for(n in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)O.call(e,n)&&!E.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];r.children=h}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:o,type:t,key:s,ref:a,props:r,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var C=/\/+/g,D=[];function A(t,e,i,n){if(D.length){var r=D.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function B(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var a=!1;if(null===t)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case o:case s:a=!0}}if(a)return i(n,t,""===e?"."+P(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var h=e+P(r=t[l],l);a+=B(r,h,i,n)}else if(null===t||"object"!==typeof t?h=null:h="function"===typeof(h=y&&t[y]||t["@@iterator"])?h:null,"function"===typeof h)for(t=h.call(t),l=0;!(r=t.next()).done;)a+=B(r=r.value,h=e+P(r,l++),i,n);else if("object"===r)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return a}function F(t,e,i){return null==t?0:B(t,"",e,i)}function P(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?z(t,n,i,(function(t){return t})):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+i)),n.push(t))}function z(t,e,i,n,r){var o="";null!=i&&(o=(""+i).replace(C,"$&/")+"/"),F(t,j,e=A(e,o,n,r)),M(e)}var L={current:null};function R(){var t=L.current;if(null===t)throw Error(g(321));return t}var U={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:n};e.PureComponent=x},43:(t,e,i)=>{"use strict";t.exports=i(202)},114:function(t,e,i){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:"undefined"!==typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o={exports:{}},s=function(t){return t&&t.Math===Math&&t},a=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),l=function(t){try{return!!t()}catch(e){return!0}},h=!l((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=h,u=Function.prototype,d=u.apply,f=u.call,p="object"==typeof Reflect&&Reflect.apply||(c?f.bind(d):function(){return f.apply(d,arguments)}),v=h,y=Function.prototype,g=y.call,b=v&&y.bind.bind(g,g),m=v?b:function(t){return function(){return g.apply(t,arguments)}},w=m,_=w({}.toString),x=w("".slice),k=function(t){return x(_(t),8,-1)},S=k,O=m,E=function(t){if("Function"===S(t))return O(t)},I="object"==typeof document&&document.all,T="undefined"==typeof I&&void 0!==I,C={all:I,IS_HTMLDDA:T},D=C,A=D.all,M=D.IS_HTMLDDA?function(t){return"function"==typeof t||t===A}:function(t){return"function"==typeof t},B={},F=!l((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),P=h,N=Function.prototype.call,j=P?N.bind(N):function(){return N.apply(N,arguments)},z={},L={}.propertyIsEnumerable,R=Object.getOwnPropertyDescriptor,U=R&&!L.call({1:2},1);z.f=U?function(t){var e=R(this,t);return!!e&&e.enumerable}:L;var H,V,W=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Y=l,q=k,X=Object,G=m("".split),K=Y((function(){return!X("z").propertyIsEnumerable(0)}))?function(t){return"String"===q(t)?G(t,""):X(t)}:X,$=function(t){return null===t||void 0===t},J=$,Z=TypeError,Q=function(t){if(J(t))throw new Z("Can't call method on "+t);return t},tt=K,et=Q,it=function(t){return tt(et(t))},nt=M,rt=C,ot=rt.all,st=rt.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:nt(t)||t===ot}:function(t){return"object"==typeof t?null!==t:nt(t)},at={},lt=at,ht=a,ct=M,ut=function(t){return ct(t)?t:void 0},dt=function(t,e){return arguments.length<2?ut(lt[t])||ut(ht[t]):lt[t]&&lt[t][e]||ht[t]&&ht[t][e]},ft=m({}.isPrototypeOf),pt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",vt=a,yt=pt,gt=vt.process,bt=vt.Deno,mt=gt&&gt.versions||bt&&bt.version,wt=mt&&mt.v8;wt&&(V=(H=wt.split("."))[0]>0&&H[0]<4?1:+(H[0]+H[1])),!V&&yt&&(!(H=yt.match(/Edge\/(\d+)/))||H[1]>=74)&&(H=yt.match(/Chrome\/(\d+)/))&&(V=+H[1]);var _t=V,xt=_t,kt=l,St=a.String,Ot=!!Object.getOwnPropertySymbols&&!kt((function(){var t=Symbol("symbol detection");return!St(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&xt&&xt<41})),Et=Ot&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,It=dt,Tt=M,Ct=ft,Dt=Object,At=Et?function(t){return"symbol"==typeof t}:function(t){var e=It("Symbol");return Tt(e)&&Ct(e.prototype,Dt(t))},Mt=String,Bt=function(t){try{return Mt(t)}catch(e){return"Object"}},Ft=M,Pt=Bt,Nt=TypeError,jt=function(t){if(Ft(t))return t;throw new Nt(Pt(t)+" is not a function")},zt=jt,Lt=$,Rt=function(t,e){var i=t[e];return Lt(i)?void 0:zt(i)},Ut=j,Ht=M,Vt=st,Wt=TypeError,Yt=function(t,e){var i,n;if("string"===e&&Ht(i=t.toString)&&!Vt(n=Ut(i,t)))return n;if(Ht(i=t.valueOf)&&!Vt(n=Ut(i,t)))return n;if("string"!==e&&Ht(i=t.toString)&&!Vt(n=Ut(i,t)))return n;throw new Wt("Can't convert object to primitive value")},qt={exports:{}},Xt=!0,Gt=a,Kt=Object.defineProperty,$t=function(t,e){try{Kt(Gt,t,{value:e,configurable:!0,writable:!0})}catch(i){Gt[t]=e}return e},Jt="__core-js_shared__",Zt=a[Jt]||$t(Jt,{}),Qt=Zt;(qt.exports=function(t,e){return Qt[t]||(Qt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var te=qt.exports,ee=Q,ie=Object,ne=function(t){return ie(ee(t))},re=ne,oe=m({}.hasOwnProperty),se=Object.hasOwn||function(t,e){return oe(re(t),e)},ae=m,le=0,he=Math.random(),ce=ae(1..toString),ue=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ce(++le+he,36)},de=te,fe=se,pe=ue,ve=Ot,ye=Et,ge=a.Symbol,be=de("wks"),me=ye?ge.for||ge:ge&&ge.withoutSetter||pe,we=function(t){return fe(be,t)||(be[t]=ve&&fe(ge,t)?ge[t]:me("Symbol."+t)),be[t]},_e=j,xe=st,ke=At,Se=Rt,Oe=Yt,Ee=TypeError,Ie=we("toPrimitive"),Te=function(t,e){if(!xe(t)||ke(t))return t;var i,n=Se(t,Ie);if(n){if(void 0===e&&(e="default"),i=_e(n,t,e),!xe(i)||ke(i))return i;throw new Ee("Can't convert object to primitive value")}return void 0===e&&(e="number"),Oe(t,e)},Ce=At,De=function(t){var e=Te(t,"string");return Ce(e)?e:e+""},Ae=st,Me=a.document,Be=Ae(Me)&&Ae(Me.createElement),Fe=function(t){return Be?Me.createElement(t):{}},Pe=l,Ne=Fe,je=!F&&!Pe((function(){return 7!==Object.defineProperty(Ne("div"),"a",{get:function(){return 7}}).a})),ze=F,Le=j,Re=z,Ue=W,He=it,Ve=De,We=se,Ye=je,qe=Object.getOwnPropertyDescriptor;B.f=ze?qe:function(t,e){if(t=He(t),e=Ve(e),Ye)try{return qe(t,e)}catch(i){}if(We(t,e))return Ue(!Le(Re.f,t,e),t[e])};var Xe=l,Ge=M,Ke=/#|\.prototype\./,$e=function(t,e){var i=Ze[Je(t)];return i===ti||i!==Qe&&(Ge(e)?Xe(e):!!e)},Je=$e.normalize=function(t){return String(t).replace(Ke,".").toLowerCase()},Ze=$e.data={},Qe=$e.NATIVE="N",ti=$e.POLYFILL="P",ei=$e,ii=jt,ni=h,ri=E(E.bind),oi=function(t,e){return ii(t),void 0===e?t:ni?ri(t,e):function(){return t.apply(e,arguments)}},si={},ai=l,li=F&&ai((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),hi=st,ci=String,ui=TypeError,di=function(t){if(hi(t))return t;throw new ui(ci(t)+" is not an object")},fi=F,pi=je,vi=li,yi=di,gi=De,bi=TypeError,mi=Object.defineProperty,wi=Object.getOwnPropertyDescriptor,_i="enumerable",xi="configurable",ki="writable";si.f=fi?vi?function(t,e,i){if(yi(t),e=gi(e),yi(i),"function"===typeof t&&"prototype"===e&&"value"in i&&ki in i&&!i[ki]){var n=wi(t,e);n&&n[ki]&&(t[e]=i.value,i={configurable:xi in i?i[xi]:n[xi],enumerable:_i in i?i[_i]:n[_i],writable:!1})}return mi(t,e,i)}:mi:function(t,e,i){if(yi(t),e=gi(e),yi(i),pi)try{return mi(t,e,i)}catch(n){}if("get"in i||"set"in i)throw new bi("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var Si=si,Oi=W,Ei=F?function(t,e,i){return Si.f(t,e,Oi(1,i))}:function(t,e,i){return t[e]=i,t},Ii=a,Ti=p,Ci=E,Di=M,Ai=B.f,Mi=ei,Bi=at,Fi=oi,Pi=Ei,Ni=se,ji=function(t){var e=function(i,n,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,n)}return new t(i,n,r)}return Ti(t,this,arguments)};return e.prototype=t.prototype,e},zi=function(t,e){var i,n,r,o,s,a,l,h,c,u=t.target,d=t.global,f=t.stat,p=t.proto,v=d?Ii:f?Ii[u]:(Ii[u]||{}).prototype,y=d?Bi:Bi[u]||Pi(Bi,u,{})[u],g=y.prototype;for(o in e)n=!(i=Mi(d?o:u+(f?".":"#")+o,t.forced))&&v&&Ni(v,o),a=y[o],n&&(l=t.dontCallGetSet?(c=Ai(v,o))&&c.value:v[o]),s=n&&l?l:e[o],n&&typeof a==typeof s||(h=t.bind&&n?Fi(s,Ii):t.wrap&&n?ji(s):p&&Di(s)?Ci(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Pi(h,"sham",!0),Pi(y,o,h),p&&(Ni(Bi,r=u+"Prototype")||Pi(Bi,r,{}),Pi(Bi[r],o,s),t.real&&g&&(i||!g[o])&&Pi(g,o,s)))},Li=zi,Ri=F,Ui=si.f;Li({target:"Object",stat:!0,forced:Object.defineProperty!==Ui,sham:!Ri},{defineProperty:Ui});var Hi=at.Object,Vi=o.exports=function(t,e,i){return Hi.defineProperty(t,e,i)};Hi.defineProperty.sham&&(Vi.sham=!0);var Wi=o.exports,Yi=Wi,qi=r(Yi),Xi=k,Gi=Array.isArray||function(t){return"Array"===Xi(t)},Ki=Math.ceil,$i=Math.floor,Ji=Math.trunc||function(t){var e=+t;return(e>0?$i:Ki)(e)},Zi=function(t){var e=+t;return e!==e||0===e?0:Ji(e)},Qi=Zi,tn=Math.min,en=function(t){return t>0?tn(Qi(t),9007199254740991):0},nn=function(t){return en(t.length)},rn=TypeError,on=9007199254740991,sn=function(t){if(t>on)throw rn("Maximum allowed index exceeded");return t},an=De,ln=si,hn=W,cn=function(t,e,i){var n=an(e);n in t?ln.f(t,n,hn(0,i)):t[n]=i},un=we("toStringTag"),dn={};dn[un]="z";var fn="[object z]"===String(dn),pn=fn,vn=M,yn=k,gn=we("toStringTag"),bn=Object,mn="Arguments"===yn(function(){return arguments}()),wn=function(t,e){try{return t[e]}catch(i){}},_n=pn?yn:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=wn(e=bn(t),gn))?i:mn?yn(e):"Object"===(n=yn(e))&&vn(e.callee)?"Arguments":n},xn=M,kn=Zt,Sn=m(Function.toString);xn(kn.inspectSource)||(kn.inspectSource=function(t){return Sn(t)});var On=kn.inspectSource,En=m,In=l,Tn=M,Cn=_n,Dn=On,An=function(){},Mn=[],Bn=dt("Reflect","construct"),Fn=/^\s*(?:class|function)\b/,Pn=En(Fn.exec),Nn=!Fn.test(An),jn=function(t){if(!Tn(t))return!1;try{return Bn(An,Mn,t),!0}catch(e){return!1}},zn=function(t){if(!Tn(t))return!1;switch(Cn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Nn||!!Pn(Fn,Dn(t))}catch(e){return!0}};zn.sham=!0;var Ln=!Bn||In((function(){var t;return jn(jn.call)||!jn(Object)||!jn((function(){t=!0}))||t}))?zn:jn,Rn=Gi,Un=Ln,Hn=st,Vn=we("species"),Wn=Array,Yn=function(t){var e;return Rn(t)&&(e=t.constructor,(Un(e)&&(e===Wn||Rn(e.prototype))||Hn(e)&&null===(e=e[Vn]))&&(e=void 0)),void 0===e?Wn:e},qn=function(t,e){return new(Yn(t))(0===e?0:e)},Xn=l,Gn=_t,Kn=we("species"),$n=function(t){return Gn>=51||!Xn((function(){var e=[];return(e.constructor={})[Kn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Jn=zi,Zn=l,Qn=Gi,tr=st,er=ne,ir=nn,nr=sn,rr=cn,or=qn,sr=$n,ar=_t,lr=we("isConcatSpreadable"),hr=ar>=51||!Zn((function(){var t=[];return t[lr]=!1,t.concat()[0]!==t})),cr=function(t){if(!tr(t))return!1;var e=t[lr];return void 0!==e?!!e:Qn(t)},ur=!hr||!sr("concat");Jn({target:"Array",proto:!0,arity:1,forced:ur},{concat:function(t){var e,i,n,r,o,s=er(this),a=or(s,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(cr(o=-1===e?s:arguments[e]))for(r=ir(o),nr(l+r),i=0;i<r;i++,l++)i in o&&rr(a,l,o[i]);else nr(l+1),rr(a,l++,o);return a.length=l,a}});var dr=_n,fr=String,pr=function(t){if("Symbol"===dr(t))throw new TypeError("Cannot convert a Symbol value to a string");return fr(t)},vr={},yr=Zi,gr=Math.max,br=Math.min,mr=function(t,e){var i=yr(t);return i<0?gr(i+e,0):br(i,e)},wr=it,_r=mr,xr=nn,kr=function(t){return function(e,i,n){var r,o=wr(e),s=xr(o),a=_r(n,s);if(t&&i!==i){for(;s>a;)if((r=o[a++])!==r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===i)return t||a||0;return!t&&-1}},Sr={includes:kr(!0),indexOf:kr(!1)},Or={},Er=m,Ir=se,Tr=it,Cr=Sr.indexOf,Dr=Or,Ar=Er([].push),Mr=function(t,e){var i,n=Tr(t),r=0,o=[];for(i in n)!Ir(Dr,i)&&Ir(n,i)&&Ar(o,i);for(;e.length>r;)Ir(n,i=e[r++])&&(~Cr(o,i)||Ar(o,i));return o},Br=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fr=Mr,Pr=Br,Nr=Object.keys||function(t){return Fr(t,Pr)},jr=F,zr=li,Lr=si,Rr=di,Ur=it,Hr=Nr;vr.f=jr&&!zr?Object.defineProperties:function(t,e){Rr(t);for(var i,n=Ur(e),r=Hr(e),o=r.length,s=0;o>s;)Lr.f(t,i=r[s++],n[i]);return t};var Vr,Wr=dt("document","documentElement"),Yr=ue,qr=te("keys"),Xr=function(t){return qr[t]||(qr[t]=Yr(t))},Gr=di,Kr=vr,$r=Br,Jr=Or,Zr=Wr,Qr=Fe,to=">",eo="<",io="prototype",no="script",ro=Xr("IE_PROTO"),oo=function(){},so=function(t){return eo+no+to+t+eo+"/"+no+to},ao=function(t){t.write(so("")),t.close();var e=t.parentWindow.Object;return t=null,e},lo=function(){var t,e=Qr("iframe"),i="java"+no+":";return e.style.display="none",Zr.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(so("document.F=Object")),t.close(),t.F},ho=function(){try{Vr=new ActiveXObject("htmlfile")}catch(e){}ho="undefined"!=typeof document?document.domain&&Vr?ao(Vr):lo():ao(Vr);for(var t=$r.length;t--;)delete ho[io][$r[t]];return ho()};Jr[ro]=!0;var co=Object.create||function(t,e){var i;return null!==t?(oo[io]=Gr(t),i=new oo,oo[io]=null,i[ro]=t):i=ho(),void 0===e?i:Kr.f(i,e)},uo={},fo=Mr,po=Br.concat("length","prototype");uo.f=Object.getOwnPropertyNames||function(t){return fo(t,po)};var vo={},yo=mr,go=nn,bo=cn,mo=Array,wo=Math.max,_o=function(t,e,i){for(var n=go(t),r=yo(e,n),o=yo(void 0===i?n:i,n),s=mo(wo(o-r,0)),a=0;r<o;r++,a++)bo(s,a,t[r]);return s.length=a,s},xo=k,ko=it,So=uo.f,Oo=_o,Eo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Io=function(t){try{return So(t)}catch(e){return Oo(Eo)}};vo.f=function(t){return Eo&&"Window"===xo(t)?Io(t):So(ko(t))};var To={};To.f=Object.getOwnPropertySymbols;var Co=Ei,Do=function(t,e,i,n){return n&&n.enumerable?t[e]=i:Co(t,e,i),t},Ao=si,Mo=function(t,e,i){return Ao.f(t,e,i)},Bo={},Fo=we;Bo.f=Fo;var Po,No,jo,zo=at,Lo=se,Ro=Bo,Uo=si.f,Ho=function(t){var e=zo.Symbol||(zo.Symbol={});Lo(e,t)||Uo(e,t,{value:Ro.f(t)})},Vo=j,Wo=dt,Yo=we,qo=Do,Xo=function(){var t=Wo("Symbol"),e=t&&t.prototype,i=e&&e.valueOf,n=Yo("toPrimitive");e&&!e[n]&&qo(e,n,(function(t){return Vo(i,this)}),{arity:1})},Go=_n,Ko=fn?{}.toString:function(){return"[object "+Go(this)+"]"},$o=fn,Jo=si.f,Zo=Ei,Qo=se,ts=Ko,es=we("toStringTag"),is=function(t,e,i,n){if(t){var r=i?t:t.prototype;Qo(r,es)||Jo(r,es,{configurable:!0,value:e}),n&&!$o&&Zo(r,"toString",ts)}},ns=M,rs=a.WeakMap,os=ns(rs)&&/native code/.test(String(rs)),ss=a,as=st,ls=Ei,hs=se,cs=Zt,us=Xr,ds=Or,fs="Object already initialized",ps=ss.TypeError,vs=ss.WeakMap,ys=function(t){return jo(t)?No(t):Po(t,{})},gs=function(t){return function(e){var i;if(!as(e)||(i=No(e)).type!==t)throw new ps("Incompatible receiver, "+t+" required");return i}};if(os||cs.state){var bs=cs.state||(cs.state=new vs);bs.get=bs.get,bs.has=bs.has,bs.set=bs.set,Po=function(t,e){if(bs.has(t))throw new ps(fs);return e.facade=t,bs.set(t,e),e},No=function(t){return bs.get(t)||{}},jo=function(t){return bs.has(t)}}else{var ms=us("state");ds[ms]=!0,Po=function(t,e){if(hs(t,ms))throw new ps(fs);return e.facade=t,ls(t,ms,e),e},No=function(t){return hs(t,ms)?t[ms]:{}},jo=function(t){return hs(t,ms)}}var ws={set:Po,get:No,has:jo,enforce:ys,getterFor:gs},_s=oi,xs=K,ks=ne,Ss=nn,Os=qn,Es=m([].push),Is=function(t){var e=1===t,i=2===t,n=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(l,h,c,u){for(var d,f,p=ks(l),v=xs(p),y=_s(h,c),g=Ss(v),b=0,m=u||Os,w=e?m(l,g):i||s?m(l,0):void 0;g>b;b++)if((a||b in v)&&(f=y(d=v[b],b,p),t))if(e)w[b]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:Es(w,d)}else switch(t){case 4:return!1;case 7:Es(w,d)}return o?-1:n||r?r:w}},Ts={forEach:Is(0),map:Is(1),filter:Is(2),some:Is(3),every:Is(4),find:Is(5),findIndex:Is(6),filterReject:Is(7)},Cs=zi,Ds=a,As=j,Ms=m,Bs=F,Fs=Ot,Ps=l,Ns=se,js=ft,zs=di,Ls=it,Rs=De,Us=pr,Hs=W,Vs=co,Ws=Nr,Ys=uo,qs=vo,Xs=To,Gs=B,Ks=si,$s=vr,Js=z,Zs=Do,Qs=Mo,ta=te,ea=Xr,ia=Or,na=ue,ra=we,oa=Bo,sa=Ho,aa=Xo,la=is,ha=ws,ca=Ts.forEach,ua=ea("hidden"),da="Symbol",fa="prototype",pa=ha.set,va=ha.getterFor(da),ya=Object[fa],ga=Ds.Symbol,ba=ga&&ga[fa],ma=Ds.RangeError,wa=Ds.TypeError,_a=Ds.QObject,xa=Gs.f,ka=Ks.f,Sa=qs.f,Oa=Js.f,Ea=Ms([].push),Ia=ta("symbols"),Ta=ta("op-symbols"),Ca=ta("wks"),Da=!_a||!_a[fa]||!_a[fa].findChild,Aa=function(t,e,i){var n=xa(ya,e);n&&delete ya[e],ka(t,e,i),n&&t!==ya&&ka(ya,e,n)},Ma=Bs&&Ps((function(){return 7!==Vs(ka({},"a",{get:function(){return ka(this,"a",{value:7}).a}})).a}))?Aa:ka,Ba=function(t,e){var i=Ia[t]=Vs(ba);return pa(i,{type:da,tag:t,description:e}),Bs||(i.description=e),i},Fa=function(t,e,i){t===ya&&Fa(Ta,e,i),zs(t);var n=Rs(e);return zs(i),Ns(Ia,n)?(i.enumerable?(Ns(t,ua)&&t[ua][n]&&(t[ua][n]=!1),i=Vs(i,{enumerable:Hs(0,!1)})):(Ns(t,ua)||ka(t,ua,Hs(1,{})),t[ua][n]=!0),Ma(t,n,i)):ka(t,n,i)},Pa=function(t,e){zs(t);var i=Ls(e),n=Ws(i).concat(Ra(i));return ca(n,(function(e){Bs&&!As(ja,i,e)||Fa(t,e,i[e])})),t},Na=function(t,e){return void 0===e?Vs(t):Pa(Vs(t),e)},ja=function(t){var e=Rs(t),i=As(Oa,this,e);return!(this===ya&&Ns(Ia,e)&&!Ns(Ta,e))&&(!(i||!Ns(this,e)||!Ns(Ia,e)||Ns(this,ua)&&this[ua][e])||i)},za=function(t,e){var i=Ls(t),n=Rs(e);if(i!==ya||!Ns(Ia,n)||Ns(Ta,n)){var r=xa(i,n);return!r||!Ns(Ia,n)||Ns(i,ua)&&i[ua][n]||(r.enumerable=!0),r}},La=function(t){var e=Sa(Ls(t)),i=[];return ca(e,(function(t){Ns(Ia,t)||Ns(ia,t)||Ea(i,t)})),i},Ra=function(t){var e=t===ya,i=Sa(e?Ta:Ls(t)),n=[];return ca(i,(function(t){!Ns(Ia,t)||e&&!Ns(ya,t)||Ea(n,Ia[t])})),n};Fs||(ga=function(){if(js(ba,this))throw new wa("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Us(arguments[0]):void 0,e=na(t),i=function(t){var n=void 0===this?Ds:this;n===ya&&As(i,Ta,t),Ns(n,ua)&&Ns(n[ua],e)&&(n[ua][e]=!1);var r=Hs(1,t);try{Ma(n,e,r)}catch(o){if(!(o instanceof ma))throw o;Aa(n,e,r)}};return Bs&&Da&&Ma(ya,e,{configurable:!0,set:i}),Ba(e,t)},Zs(ba=ga[fa],"toString",(function(){return va(this).tag})),Zs(ga,"withoutSetter",(function(t){return Ba(na(t),t)})),Js.f=ja,Ks.f=Fa,$s.f=Pa,Gs.f=za,Ys.f=qs.f=La,Xs.f=Ra,oa.f=function(t){return Ba(ra(t),t)},Bs&&Qs(ba,"description",{configurable:!0,get:function(){return va(this).description}})),Cs({global:!0,constructor:!0,wrap:!0,forced:!Fs,sham:!Fs},{Symbol:ga}),ca(Ws(Ca),(function(t){sa(t)})),Cs({target:da,stat:!0,forced:!Fs},{useSetter:function(){Da=!0},useSimple:function(){Da=!1}}),Cs({target:"Object",stat:!0,forced:!Fs,sham:!Bs},{create:Na,defineProperty:Fa,defineProperties:Pa,getOwnPropertyDescriptor:za}),Cs({target:"Object",stat:!0,forced:!Fs},{getOwnPropertyNames:La}),aa(),la(ga,da),ia[ua]=!0;var Ua=Ot&&!!Symbol.for&&!!Symbol.keyFor,Ha=zi,Va=dt,Wa=se,Ya=pr,qa=te,Xa=Ua,Ga=qa("string-to-symbol-registry"),Ka=qa("symbol-to-string-registry");Ha({target:"Symbol",stat:!0,forced:!Xa},{for:function(t){var e=Ya(t);if(Wa(Ga,e))return Ga[e];var i=Va("Symbol")(e);return Ga[e]=i,Ka[i]=e,i}});var $a=zi,Ja=se,Za=At,Qa=Bt,tl=Ua,el=te("symbol-to-string-registry");$a({target:"Symbol",stat:!0,forced:!tl},{keyFor:function(t){if(!Za(t))throw new TypeError(Qa(t)+" is not a symbol");if(Ja(el,t))return el[t]}});var il=m([].slice),nl=Gi,rl=M,ol=k,sl=pr,al=m([].push),ll=zi,hl=dt,cl=p,ul=j,dl=m,fl=l,pl=M,vl=At,yl=il,gl=function(t){if(rl(t))return t;if(nl(t)){for(var e=t.length,i=[],n=0;n<e;n++){var r=t[n];"string"==typeof r?al(i,r):"number"!=typeof r&&"Number"!==ol(r)&&"String"!==ol(r)||al(i,sl(r))}var o=i.length,s=!0;return function(t,e){if(s)return s=!1,e;if(nl(this))return e;for(var n=0;n<o;n++)if(i[n]===t)return e}}},bl=Ot,ml=String,wl=hl("JSON","stringify"),_l=dl(/./.exec),xl=dl("".charAt),kl=dl("".charCodeAt),Sl=dl("".replace),Ol=dl(1..toString),El=/[\uD800-\uDFFF]/g,Il=/^[\uD800-\uDBFF]$/,Tl=/^[\uDC00-\uDFFF]$/,Cl=!bl||fl((function(){var t=hl("Symbol")("stringify detection");return"[null]"!==wl([t])||"{}"!==wl({a:t})||"{}"!==wl(Object(t))})),Dl=fl((function(){return'"\\udf06\\ud834"'!==wl("\udf06\ud834")||'"\\udead"'!==wl("\udead")})),Al=function(t,e){var i=yl(arguments),n=gl(e);if(pl(n)||void 0!==t&&!vl(t))return i[1]=function(t,e){if(pl(n)&&(e=ul(n,this,ml(t),e)),!vl(e))return e},cl(wl,null,i)},Ml=function(t,e,i){var n=xl(i,e-1),r=xl(i,e+1);return _l(Il,t)&&!_l(Tl,r)||_l(Tl,t)&&!_l(Il,n)?"\\u"+Ol(kl(t,0),16):t};wl&&ll({target:"JSON",stat:!0,arity:3,forced:Cl||Dl},{stringify:function(t,e,i){var n=yl(arguments),r=cl(Cl?Al:wl,null,n);return Dl&&"string"==typeof r?Sl(r,El,Ml):r}});var Bl=zi,Fl=l,Pl=To,Nl=ne,jl=!Ot||Fl((function(){Pl.f(1)}));Bl({target:"Object",stat:!0,forced:jl},{getOwnPropertySymbols:function(t){var e=Pl.f;return e?e(Nl(t)):[]}}),Ho("asyncIterator"),Ho("hasInstance"),Ho("isConcatSpreadable"),Ho("iterator"),Ho("match"),Ho("matchAll"),Ho("replace"),Ho("search"),Ho("species"),Ho("split");var zl=Xo;Ho("toPrimitive"),zl();var Ll=dt,Rl=is;Ho("toStringTag"),Rl(Ll("Symbol"),"Symbol"),Ho("unscopables"),is(a.JSON,"JSON",!0);var Ul,Hl,Vl,Wl=at.Symbol,Yl={},ql=F,Xl=se,Gl=Function.prototype,Kl=ql&&Object.getOwnPropertyDescriptor,$l=Xl(Gl,"name"),Jl=$l&&"something"===function(){}.name,Zl=$l&&(!ql||ql&&Kl(Gl,"name").configurable),Ql={EXISTS:$l,PROPER:Jl,CONFIGURABLE:Zl},th=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),eh=se,ih=M,nh=ne,rh=th,oh=Xr("IE_PROTO"),sh=Object,ah=sh.prototype,lh=rh?sh.getPrototypeOf:function(t){var e=nh(t);if(eh(e,oh))return e[oh];var i=e.constructor;return ih(i)&&e instanceof i?i.prototype:e instanceof sh?ah:null},hh=l,ch=M,uh=st,dh=co,fh=lh,ph=Do,vh=we("iterator"),yh=!1;[].keys&&("next"in(Vl=[].keys())?(Hl=fh(fh(Vl)))!==Object.prototype&&(Ul=Hl):yh=!0),Ul=!uh(Ul)||hh((function(){var t={};return Ul[vh].call(t)!==t}))?{}:dh(Ul),ch(Ul[vh])||ph(Ul,vh,(function(){return this}));var gh={IteratorPrototype:Ul,BUGGY_SAFARI_ITERATORS:yh},bh=gh.IteratorPrototype,mh=co,wh=W,_h=is,xh=Yl,kh=function(){return this},Sh=function(t,e,i,n){var r=e+" Iterator";return t.prototype=mh(bh,{next:wh(+!n,i)}),_h(t,r,!1,!0),xh[r]=kh,t},Oh=m,Eh=jt,Ih=M,Th=String,Ch=TypeError,Dh=function(t,e,i){try{return Oh(Eh(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(n){}},Ah=di,Mh=function(t){if("object"==typeof t||Ih(t))return t;throw new Ch("Can't set "+Th(t)+" as a prototype")},Bh=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Dh(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(n){}return function(i,n){return Ah(i),Mh(n),e?t(i,n):i.__proto__=n,i}}():void 0),Fh=zi,Ph=j,Nh=Ql,jh=Sh,zh=lh,Lh=is,Rh=Do,Uh=we,Hh=Yl,Vh=gh,Wh=Nh.PROPER;Nh.CONFIGURABLE,Vh.IteratorPrototype;var Yh=Vh.BUGGY_SAFARI_ITERATORS,qh=Uh("iterator"),Xh="keys",Gh="values",Kh="entries",$h=function(){return this},Jh=function(t,e,i,n,r,o,s){jh(i,e,n);var a,l,h,c=function(t){if(t===r&&v)return v;if(!Yh&&t&&t in f)return f[t];switch(t){case Xh:case Gh:case Kh:return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[qh]||f["@@iterator"]||r&&f[r],v=!Yh&&p||c(r),y="Array"===e&&f.entries||p;if(y&&(a=zh(y.call(new t)))!==Object.prototype&&a.next&&(Lh(a,u,!0,!0),Hh[u]=$h),Wh&&r===Gh&&p&&p.name!==Gh&&(d=!0,v=function(){return Ph(p,this)}),r)if(l={values:c(Gh),keys:o?v:c(Xh),entries:c(Kh)},s)for(h in l)(Yh||d||!(h in f))&&Rh(f,h,l[h]);else Fh({target:e,proto:!0,forced:Yh||d},l);return s&&f[qh]!==v&&Rh(f,qh,v,{name:r}),Hh[e]=v,l},Zh=function(t,e){return{value:t,done:e}},Qh=it,tc=Yl,ec=ws;si.f;var ic=Jh,nc=Zh,rc="Array Iterator",oc=ec.set,sc=ec.getterFor(rc);ic(Array,"Array",(function(t,e){oc(this,{type:rc,target:Qh(t),index:0,kind:e})}),(function(){var t=sc(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=void 0,nc(void 0,!0);switch(t.kind){case"keys":return nc(i,!1);case"values":return nc(e[i],!1)}return nc([i,e[i]],!1)}),"values"),tc.Arguments=tc.Array;var ac={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},lc=a,hc=_n,cc=Ei,uc=Yl,dc=we("toStringTag");for(var fc in ac){var pc=lc[fc],vc=pc&&pc.prototype;vc&&hc(vc)!==dc&&cc(vc,dc,fc),uc[fc]=uc.Array}var yc=Wl,gc=we,bc=si.f,mc=gc("metadata"),wc=Function.prototype;void 0===wc[mc]&&bc(wc,mc,{value:null}),Ho("asyncDispose"),Ho("dispose"),Ho("metadata");var _c=yc,xc=m,kc=dt("Symbol"),Sc=kc.keyFor,Oc=xc(kc.prototype.valueOf),Ec=kc.isRegisteredSymbol||function(t){try{return void 0!==Sc(Oc(t))}catch(e){return!1}};zi({target:"Symbol",stat:!0},{isRegisteredSymbol:Ec});for(var Ic=te,Tc=dt,Cc=m,Dc=At,Ac=we,Mc=Tc("Symbol"),Bc=Mc.isWellKnownSymbol,Fc=Tc("Object","getOwnPropertyNames"),Pc=Cc(Mc.prototype.valueOf),Nc=Ic("wks"),jc=0,zc=Fc(Mc),Lc=zc.length;jc<Lc;jc++)try{var Rc=zc[jc];Dc(Mc[Rc])&&Ac(Rc)}catch(CT){}var Uc=function(t){if(Bc&&Bc(t))return!0;try{for(var e=Pc(t),i=0,n=Fc(Nc),r=n.length;i<r;i++)if(Nc[n[i]]==e)return!0}catch(CT){}return!1};zi({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Uc}),Ho("matcher"),Ho("observable"),zi({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Ec}),zi({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Uc}),Ho("metadataKey"),Ho("patternMatch"),Ho("replaceAll");var Hc=_c,Vc=r(Hc),Wc=m,Yc=Zi,qc=pr,Xc=Q,Gc=Wc("".charAt),Kc=Wc("".charCodeAt),$c=Wc("".slice),Jc=function(t){return function(e,i){var n,r,o=qc(Xc(e)),s=Yc(i),a=o.length;return s<0||s>=a?t?"":void 0:(n=Kc(o,s))<55296||n>56319||s+1===a||(r=Kc(o,s+1))<56320||r>57343?t?Gc(o,s):n:t?$c(o,s,s+2):r-56320+(n-55296<<10)+65536}},Zc=(Jc(!1),Jc(!0)),Qc=pr,tu=ws,eu=Jh,iu=Zh,nu="String Iterator",ru=tu.set,ou=tu.getterFor(nu);eu(String,"String",(function(t){ru(this,{type:nu,string:Qc(t),index:0})}),(function(){var t,e=ou(this),i=e.string,n=e.index;return n>=i.length?iu(void 0,!0):(t=Zc(i,n),e.index+=t.length,iu(t,!1))}));var su=Bo.f("iterator"),au=su,lu=r(au);function hu(t){return hu="function"==typeof Vc&&"symbol"==typeof lu?function(t){return typeof t}:function(t){return t&&"function"==typeof Vc&&t.constructor===Vc&&t!==Vc.prototype?"symbol":typeof t},hu(t)}var cu=r(Bo.f("toPrimitive"));function uu(t,e){if("object"!==hu(t)||null===t)return t;var i=t[cu];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function du(t){var e=uu(t,"string");return"symbol"===hu(e)?e:String(e)}function fu(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),qi(t,du(n.key),n)}}function pu(t,e,i){return e&&fu(t.prototype,e),i&&fu(t,i),qi(t,"prototype",{writable:!1}),t}function vu(t,e,i){return(e=du(e))in t?qi(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var yu=m,gu=jt,bu=st,mu=se,wu=il,_u=h,xu=Function,ku=yu([].concat),Su=yu([].join),Ou={},Eu=function(t,e,i){if(!mu(Ou,e)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";Ou[e]=xu("C,a","return new C("+Su(n,",")+")")}return Ou[e](t,i)},Iu=_u?xu.bind:function(t){var e=gu(this),i=e.prototype,n=wu(arguments,1),r=function(){var i=ku(n,wu(arguments));return this instanceof r?Eu(e,i.length,i):e.apply(t,i)};return bu(i)&&(r.prototype=i),r},Tu=Iu;zi({target:"Function",proto:!0,forced:Function.bind!==Tu},{bind:Tu});var Cu=a,Du=at,Au=function(t,e){var i=Du[t+"Prototype"],n=i&&i[e];if(n)return n;var r=Cu[t],o=r&&r.prototype;return o&&o[e]},Mu=Au("Function","bind"),Bu=ft,Fu=Mu,Pu=Function.prototype,Nu=function(t){var e=t.bind;return t===Pu||Bu(Pu,t)&&e===Pu.bind?Fu:e},ju=r(Nu),zu=jt,Lu=ne,Ru=K,Uu=nn,Hu=TypeError,Vu=function(t){return function(e,i,n,r){zu(i);var o=Lu(e),s=Ru(o),a=Uu(o),l=t?a-1:0,h=t?-1:1;if(n<2)for(;;){if(l in s){r=s[l],l+=h;break}if(l+=h,t?l<0:a<=l)throw new Hu("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=h)l in s&&(r=i(r,s[l],l,o));return r}},Wu={left:Vu(!1),right:Vu(!0)},Yu=l,qu=function(t,e){var i=[][t];return!!i&&Yu((function(){i.call(null,e||function(){return 1},1)}))},Xu="process"===k(a.process),Gu=zi,Ku=Wu.left,$u=qu,Ju=_t,Zu=!Xu&&Ju>79&&Ju<83||!$u("reduce");Gu({target:"Array",proto:!0,forced:Zu},{reduce:function(t){var e=arguments.length;return Ku(this,t,e,e>1?arguments[1]:void 0)}});var Qu=Au("Array","reduce"),td=ft,ed=Qu,id=Array.prototype,nd=r((function(t){var e=t.reduce;return t===id||td(id,t)&&e===id.reduce?ed:e})),rd=zi,od=Ts.filter,sd=$n("filter");rd({target:"Array",proto:!0,forced:!sd},{filter:function(t){return od(this,t,arguments.length>1?arguments[1]:void 0)}});var ad=Au("Array","filter"),ld=ft,hd=ad,cd=Array.prototype,ud=r((function(t){var e=t.filter;return t===cd||ld(cd,t)&&e===cd.filter?hd:e})),dd=zi,fd=Ts.map,pd=$n("map");dd({target:"Array",proto:!0,forced:!pd},{map:function(t){return fd(this,t,arguments.length>1?arguments[1]:void 0)}});var vd=Au("Array","map"),yd=ft,gd=vd,bd=Array.prototype,md=r((function(t){var e=t.map;return t===bd||yd(bd,t)&&e===bd.map?gd:e})),wd=Gi,_d=nn,xd=sn,kd=oi,Sd=function(t,e,i,n,r,o,s,a){for(var l,h,c=r,u=0,d=!!s&&kd(s,a);u<n;)u in i&&(l=d?d(i[u],u,e):i[u],o>0&&wd(l)?(h=_d(l),c=Sd(t,e,l,h,c,o-1)-1):(xd(c+1),t[c]=l),c++),u++;return c},Od=Sd,Ed=jt,Id=ne,Td=nn,Cd=qn;zi({target:"Array",proto:!0},{flatMap:function(t){var e,i=Id(this),n=Td(i);return Ed(t),(e=Cd(i,0)).length=Od(e,i,i,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Dd=Au("Array","flatMap"),Ad=ft,Md=Dd,Bd=Array.prototype,Fd=r((function(t){var e=t.flatMap;return t===Bd||Ad(Bd,t)&&e===Bd.flatMap?Md:e}));function Pd(t){return new jd(t)}var Nd=function(){function t(i,n,r){var o,s,a;e(this,t),vu(this,"_listeners",{add:ju(o=this._add).call(o,this),remove:ju(s=this._remove).call(s,this),update:ju(a=this._update).call(a,this)}),this._source=i,this._transformers=n,this._target=r}return pu(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var e;return nd(e=this._transformers).call(e,(function(t,e){return e(t)}),t)}},{key:"_add",value:function(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}},{key:"_update",value:function(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}},{key:"_remove",value:function(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}]),t}(),jd=function(){function t(i){e(this,t),vu(this,"_transformers",[]),this._source=i}return pu(t,[{key:"filter",value:function(t){return this._transformers.push((function(e){return ud(e).call(e,t)})),this}},{key:"map",value:function(t){return this._transformers.push((function(e){return md(e).call(e,t)})),this}},{key:"flatMap",value:function(t){return this._transformers.push((function(e){return Fd(e).call(e,t)})),this}},{key:"to",value:function(t){return new Nd(this._source,this._transformers,t)}}]),t}(),zd=j,Ld=di,Rd=Rt,Ud=function(t,e,i){var n,r;Ld(t);try{if(!(n=Rd(t,"return"))){if("throw"===e)throw i;return i}n=zd(n,t)}catch(CT){r=!0,n=CT}if("throw"===e)throw i;if(r)throw n;return Ld(n),i},Hd=di,Vd=Ud,Wd=function(t,e,i,n){try{return n?e(Hd(i)[0],i[1]):e(i)}catch(CT){Vd(t,"throw",CT)}},Yd=Yl,qd=we("iterator"),Xd=Array.prototype,Gd=function(t){return void 0!==t&&(Yd.Array===t||Xd[qd]===t)},Kd=_n,$d=Rt,Jd=$,Zd=Yl,Qd=we("iterator"),tf=function(t){if(!Jd(t))return $d(t,Qd)||$d(t,"@@iterator")||Zd[Kd(t)]},ef=j,nf=jt,rf=di,of=Bt,sf=tf,af=TypeError,lf=function(t,e){var i=arguments.length<2?sf(t):e;if(nf(i))return rf(ef(i,t));throw new af(of(t)+" is not iterable")},hf=oi,cf=j,uf=ne,df=Wd,ff=Gd,pf=Ln,vf=nn,yf=cn,gf=lf,bf=tf,mf=Array,wf=function(t){var e=uf(t),i=pf(this),n=arguments.length,r=n>1?arguments[1]:void 0,o=void 0!==r;o&&(r=hf(r,n>2?arguments[2]:void 0));var s,a,l,h,c,u,d=bf(e),f=0;if(!d||this===mf&&ff(d))for(s=vf(e),a=i?new this(s):mf(s);s>f;f++)u=o?r(e[f],f):e[f],yf(a,f,u);else for(c=(h=gf(e,d)).next,a=i?new this:[];!(l=cf(c,h)).done;f++)u=o?df(h,r,[l.value,f],!0):l.value,yf(a,f,u);return a.length=f,a},_f=we("iterator"),xf=!1;try{var kf=0,Sf={next:function(){return{done:!!kf++}},return:function(){xf=!0}};Sf[_f]=function(){return this},Array.from(Sf,(function(){throw 2}))}catch(CT){}var Of=function(t,e){try{if(!e&&!xf)return!1}catch(CT){return!1}var i=!1;try{var n={};n[_f]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(CT){}return i},Ef=zi,If=wf,Tf=!Of((function(t){Array.from(t)}));Ef({target:"Array",stat:!0,forced:Tf},{from:If});var Cf=at.Array.from,Df=r(Cf),Af=tf,Mf=r(Af),Bf=r(Af);zi({target:"Array",stat:!0},{isArray:Gi});var Ff=at.Array.isArray,Pf=r(Ff);function Nf(t){if(Pf(t))return t}var jf=F,zf=Gi,Lf=TypeError,Rf=Object.getOwnPropertyDescriptor,Uf=jf&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(CT){return CT instanceof TypeError}}()?function(t,e){if(zf(t)&&!Rf(t,"length").writable)throw new Lf("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Hf=zi,Vf=ne,Wf=nn,Yf=Uf,qf=sn,Xf=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),Gf=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(CT){return CT instanceof TypeError}},Kf=Xf||!Gf();Hf({target:"Array",proto:!0,arity:1,forced:Kf},{push:function(t){var e=Vf(this),i=Wf(e),n=arguments.length;qf(i+n);for(var r=0;r<n;r++)e[i]=arguments[r],i++;return Yf(e,i),i}});var $f=Au("Array","push"),Jf=ft,Zf=$f,Qf=Array.prototype,tp=function(t){var e=t.push;return t===Qf||Jf(Qf,t)&&e===Qf.push?Zf:e},ep=r(tp);function ip(t,e){var i=null==t?null:"undefined"!=typeof Vc&&Mf(t)||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,h=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(ep(a).call(a,n.value),a.length!==e);l=!0);}catch(t){h=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(h)throw r}}return a}}var np=zi,rp=Gi,op=Ln,sp=st,ap=mr,lp=nn,hp=it,cp=cn,up=we,dp=il,fp=$n("slice"),pp=up("species"),vp=Array,yp=Math.max;np({target:"Array",proto:!0,forced:!fp},{slice:function(t,e){var i,n,r,o=hp(this),s=lp(o),a=ap(t,s),l=ap(void 0===e?s:e,s);if(rp(o)&&(i=o.constructor,(op(i)&&(i===vp||rp(i.prototype))||sp(i)&&null===(i=i[pp]))&&(i=void 0),i===vp||void 0===i))return dp(o,a,l);for(n=new(void 0===i?vp:i)(yp(l-a,0)),r=0;a<l;a++,r++)a in o&&cp(n,r,o[a]);return n.length=r,n}});var gp=Au("Array","slice"),bp=ft,mp=gp,wp=Array.prototype,_p=function(t){var e=t.slice;return t===wp||bp(wp,t)&&e===wp.slice?mp:e},xp=_p,kp=r(xp),Sp=r(Cf);function Op(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Ep(t,e){var i;if(t){if("string"===typeof t)return Op(t,e);var n=kp(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Sp(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Op(t,e):void 0}}function Ip(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tp(t,e){return Nf(t)||ip(t,e)||Ep(t,e)||Ip()}function Cp(t){if(Pf(t))return Op(t)}function Dp(t){if("undefined"!==typeof Vc&&null!=Mf(t)||null!=t["@@iterator"])return Sp(t)}function Ap(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mp(t){return Cp(t)||Dp(t)||Ep(t)||Ap()}var Bp=r(yc),Fp=Au("Array","concat"),Pp=ft,Np=Fp,jp=Array.prototype,zp=r((function(t){var e=t.concat;return t===jp||Pp(jp,t)&&e===jp.concat?Np:e})),Lp=r(_p),Rp=dt,Up=uo,Hp=To,Vp=di,Wp=m([].concat),Yp=Rp("Reflect","ownKeys")||function(t){var e=Up.f(Vp(t)),i=Hp.f;return i?Wp(e,i(t)):e};zi({target:"Reflect",stat:!0},{ownKeys:Yp});var qp=r(at.Reflect.ownKeys),Xp=r(Ff),Gp=zi,Kp=ne,$p=Nr,Jp=l((function(){$p(1)}));Gp({target:"Object",stat:!0,forced:Jp},{keys:function(t){return $p(Kp(t))}});var Zp=r(at.Object.keys),Qp=Ts.forEach,tv=qu("forEach")?[].forEach:function(t){return Qp(this,t,arguments.length>1?arguments[1]:void 0)};zi({target:"Array",proto:!0,forced:[].forEach!==tv},{forEach:tv});var ev=Au("Array","forEach"),iv=_n,nv=se,rv=ft,ov=ev,sv=Array.prototype,av={DOMTokenList:!0,NodeList:!0},lv=function(t){var e=t.forEach;return t===sv||rv(sv,t)&&e===sv.forEach||nv(av,iv(t))?ov:e},hv=r(lv),cv=zi,uv=Gi,dv=m([].reverse),fv=[1,2];cv({target:"Array",proto:!0,forced:String(fv)===String(fv.reverse())},{reverse:function(){return uv(this)&&(this.length=this.length),dv(this)}});var pv=Au("Array","reverse"),vv=ft,yv=pv,gv=Array.prototype,bv=function(t){var e=t.reverse;return t===gv||vv(gv,t)&&e===gv.reverse?yv:e},mv=r(bv),wv=Bt,_v=TypeError,xv=function(t,e){if(!delete t[e])throw new _v("Cannot delete property "+wv(e)+" of "+wv(t))},kv=zi,Sv=ne,Ov=mr,Ev=Zi,Iv=nn,Tv=Uf,Cv=sn,Dv=qn,Av=cn,Mv=xv,Bv=$n("splice"),Fv=Math.max,Pv=Math.min;kv({target:"Array",proto:!0,forced:!Bv},{splice:function(t,e){var i,n,r,o,s,a,l=Sv(this),h=Iv(l),c=Ov(t,h),u=arguments.length;for(0===u?i=n=0:1===u?(i=0,n=h-c):(i=u-2,n=Pv(Fv(Ev(e),0),h-c)),Cv(h+i-n),r=Dv(l,n),o=0;o<n;o++)(s=c+o)in l&&Av(r,o,l[s]);if(r.length=n,i<n){for(o=c;o<h-n;o++)a=o+i,(s=o+n)in l?l[a]=l[s]:Mv(l,a);for(o=h;o>h-n+i;o--)Mv(l,o-1)}else if(i>n)for(o=h-n;o>c;o--)a=o+i-1,(s=o+n-1)in l?l[a]=l[s]:Mv(l,a);for(o=0;o<i;o++)l[o+c]=arguments[o+2];return Tv(l,h-n+i),r}});var Nv=Au("Array","splice"),jv=ft,zv=Nv,Lv=Array.prototype,Rv=r((function(t){var e=t.splice;return t===Lv||jv(Lv,t)&&e===Lv.splice?zv:e})),Uv=F,Hv=m,Vv=j,Wv=l,Yv=Nr,qv=To,Xv=z,Gv=ne,Kv=K,$v=Object.assign,Jv=Object.defineProperty,Zv=Hv([].concat),Qv=!$v||Wv((function(){if(Uv&&1!==$v({b:1},$v(Jv({},"a",{enumerable:!0,get:function(){Jv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!==$v({},t)[i]||Yv($v({},e)).join("")!==n}))?function(t,e){for(var i=Gv(t),n=arguments.length,r=1,o=qv.f,s=Xv.f;n>r;)for(var a,l=Kv(arguments[r++]),h=o?Zv(Yv(l),o(l)):Yv(l),c=h.length,u=0;c>u;)a=h[u++],Uv&&!Vv(s,l,a)||(i[a]=l[a]);return i}:$v,ty=Qv;zi({target:"Object",stat:!0,arity:2,forced:Object.assign!==ty},{assign:ty});var ey=r(at.Object.assign),iy=zi,ny=ne,ry=lh,oy=th,sy=l((function(){ry(1)}));iy({target:"Object",stat:!0,forced:sy,sham:!oy},{getPrototypeOf:function(t){return ry(ny(t))}});var ay=at.Object.getPrototypeOf;zi({target:"Object",stat:!0,sham:!F},{create:co});var ly=at.Object,hy=function(t,e){return ly.create(t,e)},cy=r(hy),uy=at,dy=p;uy.JSON||(uy.JSON={stringify:JSON.stringify});var fy=function(t,e,i){return dy(uy.JSON.stringify,null,arguments)},py=r(fy),vy="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,yy=TypeError,gy=function(t,e){if(t<e)throw new yy("Not enough arguments");return t},by=a,my=p,wy=M,_y=vy,xy=pt,ky=il,Sy=gy,Oy=by.Function,Ey=/MSIE .\./.test(xy)||_y&&function(){var t=by.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),Iy=function(t,e){var i=e?2:1;return Ey?function(n,r){var o=Sy(arguments.length,1)>i,s=wy(n)?n:Oy(n),a=o?ky(arguments,i):[],l=o?function(){my(s,this,a)}:s;return e?t(l,r):t(l)}:t},Ty=zi,Cy=a,Dy=Iy(Cy.setInterval,!0);Ty({global:!0,bind:!0,forced:Cy.setInterval!==Dy},{setInterval:Dy});var Ay=zi,My=a,By=Iy(My.setTimeout,!0);Ay({global:!0,bind:!0,forced:My.setTimeout!==By},{setTimeout:By});var Fy=r(at.setTimeout),Py={exports:{}};!function(t){function e(t){if(t)return i(t);this._callbacks=new Map}function i(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}e.prototype.on=function(t,e){var i;const n=null!==(i=this._callbacks.get(t))&&void 0!==i?i:[];return n.push(e),this._callbacks.set(t,n),this},e.prototype.once=function(t,e){var i=this;const n=function(){i.off(t,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];e.apply(i,o)};return n.fn=e,this.on(t,n),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const i=this._callbacks.get(t);if(i){for(const[t,n]of i.entries())if(n===e||n.fn===e){i.splice(t,1);break}0===i.length?this._callbacks.delete(t):this._callbacks.set(t,i)}return this},e.prototype.emit=function(t){const e=this._callbacks.get(t);if(e){const t=[...e];for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(const e of t)e.apply(this,n)}return this},e.prototype.listeners=function(t){var e;return null!==(e=this._callbacks.get(t))&&void 0!==e?e:[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const i of this._callbacks.values())e+=i.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Py);var Ny,jy=r(Py.exports);function zy(){return zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},zy.apply(this,arguments)}function Ly(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ry(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Ny="function"!==typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var Uy,Hy=Ny,Vy=["","webkit","Moz","MS","ms","o"],Wy="undefined"===typeof document?{style:{}}:document.createElement("div"),Yy="function",qy=Math.round,Xy=Math.abs,Gy=Date.now;function Ky(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<Vy.length;){if((n=(i=Vy[o])?i+r:e)in t)return n;o++}}Uy="undefined"===typeof window?{}:window;var $y=Ky(Wy.style,"touchAction"),Jy=void 0!==$y;function Zy(){if(!Jy)return!1;var t={},e=Uy.CSS&&Uy.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||Uy.CSS.supports("touch-action",i)})),t}var Qy="compute",tg="auto",eg="manipulation",ig="none",ng="pan-x",rg="pan-y",og=Zy(),sg=/mobile|tablet|ip(ad|hone|od)|android/i,ag="ontouchstart"in Uy,lg=void 0!==Ky(Uy,"PointerEvent"),hg=ag&&sg.test(navigator.userAgent),cg="touch",ug="pen",dg="mouse",fg="kinect",pg=25,vg=1,yg=2,gg=4,bg=8,mg=1,wg=2,_g=4,xg=8,kg=16,Sg=wg|_g,Og=xg|kg,Eg=Sg|Og,Ig=["x","y"],Tg=["clientX","clientY"];function Cg(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Dg(t,e){return typeof t===Yy?t.apply(e&&e[0]||void 0,e):t}function Ag(t,e){return t.indexOf(e)>-1}function Mg(t){if(Ag(t,ig))return ig;var e=Ag(t,ng),i=Ag(t,rg);return e&&i?ig:e||i?e?ng:rg:Ag(t,eg)?eg:tg}var Bg=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Qy&&(t=this.compute()),Jy&&this.manager.element.style&&og[t]&&(this.manager.element.style[$y]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Cg(this.manager.recognizers,(function(e){Dg(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),Mg(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=Ag(n,ig)&&!og[ig],o=Ag(n,rg)&&!og[rg],s=Ag(n,ng)&&!og[ng];if(r){var a=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(a&&l&&h)return}if(!s||!o)return r||o&&i&Sg||s&&i&Og?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Fg(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Pg(t){var e=t.length;if(1===e)return{x:qy(t[0].clientX),y:qy(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:qy(i/e),y:qy(n/e)}}function Ng(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:qy(t.pointers[i].clientX),clientY:qy(t.pointers[i].clientY)},i++;return{timeStamp:Gy(),pointers:e,center:Pg(e),deltaX:t.deltaX,deltaY:t.deltaY}}function jg(t,e,i){i||(i=Ig);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function zg(t,e,i){i||(i=Ig);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function Lg(t,e){return t===e?mg:Xy(t)>=Xy(e)?t<0?wg:_g:e<0?xg:kg}function Rg(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==vg&&o.eventType!==gg||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function Ug(t,e,i){return{x:e/t||0,y:i/t||0}}function Hg(t,e){return jg(e[0],e[1],Tg)/jg(t[0],t[1],Tg)}function Vg(t,e){return zg(e[1],e[0],Tg)+zg(t[1],t[0],Tg)}function Wg(t,e){var i,n,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==bg&&(a>pg||void 0===s.velocity)){var l=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,c=Ug(a,l,h);n=c.x,r=c.y,i=Xy(c.x)>Xy(c.y)?c.x:c.y,o=Lg(l,h),t.lastInterval=e}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}function Yg(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=Ng(e)),r>1&&!i.firstMultiple?i.firstMultiple=Ng(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,l=e.center=Pg(n);e.timeStamp=Gy(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=zg(a,l),e.distance=jg(a,l),Rg(i,e),e.offsetDirection=Lg(e.deltaX,e.deltaY);var h=Ug(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=Xy(h.x)>Xy(h.y)?h.x:h.y,e.scale=s?Hg(s.pointers,n):1,e.rotation=s?Vg(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,Wg(i,e);var c,u=t.element,d=e.srcEvent;Fg(c=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,u)&&(u=c),e.target=u}function qg(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&vg&&n-r===0,s=e&(gg|bg)&&n-r===0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,Yg(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Xg(t){return t.trim().split(/\s+/g)}function Gg(t,e,i){Cg(Xg(e),(function(e){t.addEventListener(e,i,!1)}))}function Kg(t,e,i){Cg(Xg(e),(function(e){t.removeEventListener(e,i,!1)}))}function $g(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Jg=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Dg(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Gg(this.element,this.evEl,this.domHandler),this.evTarget&&Gg(this.target,this.evTarget,this.domHandler),this.evWin&&Gg($g(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Kg(this.element,this.evEl,this.domHandler),this.evTarget&&Kg(this.target,this.evTarget,this.domHandler),this.evWin&&Kg($g(this.element),this.evWin,this.domHandler)},t}();function Zg(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var Qg={pointerdown:vg,pointermove:yg,pointerup:gg,pointercancel:bg,pointerout:bg},tb={2:cg,3:ug,4:dg,5:fg},eb="pointerdown",ib="pointermove pointerup pointercancel";Uy.MSPointerEvent&&!Uy.PointerEvent&&(eb="MSPointerDown",ib="MSPointerMove MSPointerUp MSPointerCancel");var nb=function(t){function e(){var i,n=e.prototype;return n.evEl=eb,n.evWin=ib,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return Ly(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Qg[n],o=tb[t.pointerType]||t.pointerType,s=o===cg,a=Zg(e,t.pointerId,"pointerId");r&vg&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(gg|bg)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))},e}(Jg);function rb(t){return Array.prototype.slice.call(t,0)}function ob(t,e,i){for(var n=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];Zg(r,s)<0&&n.push(t[o]),r[o]=s,o++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}var sb={touchstart:vg,touchmove:yg,touchend:gg,touchcancel:bg},ab="touchstart touchmove touchend touchcancel",lb=function(t){function e(){var i;return e.prototype.evTarget=ab,(i=t.apply(this,arguments)||this).targetIds={},i}return Ly(e,t),e.prototype.handler=function(t){var e=sb[t.type],i=hb.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:cg,srcEvent:t})},e}(Jg);function hb(t,e){var i,n,r=rb(t.touches),o=this.targetIds;if(e&(vg|yg)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=rb(t.changedTouches),a=[],l=this.target;if(n=r.filter((function(t){return Fg(t.target,l)})),e===vg)for(i=0;i<n.length;)o[n[i].identifier]=!0,i++;for(i=0;i<s.length;)o[s[i].identifier]&&a.push(s[i]),e&(gg|bg)&&delete o[s[i].identifier],i++;return a.length?[ob(n.concat(a),"identifier",!0),a]:void 0}var cb={mousedown:vg,mousemove:yg,mouseup:gg},ub="mousedown",db="mousemove mouseup",fb=function(t){function e(){var i,n=e.prototype;return n.evEl=ub,n.evWin=db,(i=t.apply(this,arguments)||this).pressed=!1,i}return Ly(e,t),e.prototype.handler=function(t){var e=cb[t.type];e&vg&&0===t.button&&(this.pressed=!0),e&yg&&1!==t.which&&(e=gg),this.pressed&&(e&gg&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:dg,srcEvent:t}))},e}(Jg),pb=2500,vb=25;function yb(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var r=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(r,pb)}}function gb(t,e){t&vg?(this.primaryTouch=e.changedPointers[0].identifier,yb.call(this,e)):t&(gg|bg)&&yb.call(this,e)}function bb(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=vb&&s<=vb)return!0}return!1}var mb=function(){return function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===cg,o=i.pointerType===dg;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(r)gb.call(Ry(Ry(n)),e,i);else if(o&&bb.call(Ry(Ry(n)),i))return;n.callback(t,e,i)}},n.touch=new lb(n.manager,n.handler),n.mouse=new fb(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Ly(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Jg)}();function wb(t){var e=t.options.inputClass;return new(e||(lg?nb:hg?lb:ag?mb:fb))(t,qg)}function _b(t,e,i){return!!Array.isArray(t)&&(Cg(t,i[e],i),!0)}var xb=1,kb=2,Sb=4,Ob=8,Eb=Ob,Ib=16,Tb=32,Cb=1;function Db(){return Cb++}function Ab(t,e){var i=e.manager;return i?i.get(t):t}function Mb(t){return t&Ib?"cancel":t&Ob?"end":t&Sb?"move":t&kb?"start":""}var Bb=function(){function t(t){void 0===t&&(t={}),this.options=zy({enable:!0},t),this.id=Db(),this.manager=null,this.state=xb,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Hy(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(_b(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ab(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return _b(t,"dropRecognizeWith",this)||(t=Ab(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(_b(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Zg(e,t=Ab(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(_b(t,"dropRequireFailure",this))return this;t=Ab(t,this);var e=Zg(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<Ob&&n(e.options.event+Mb(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=Ob&&n(e.options.event+Mb(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Tb},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Tb|xb)))return!1;t++}return!0},e.recognize=function(t){var e=Hy({},t);if(!Dg(this.options.enable,[this,e]))return this.reset(),void(this.state=Tb);this.state&(Eb|Ib|Tb)&&(this.state=xb),this.state=this.process(e),this.state&(kb|Sb|Ob|Ib)&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Fb=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,zy({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Ly(e,t);var i=e.prototype;return i.getTouchAction=function(){return[eg]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime<i.time;if(this.reset(),t.eventType&vg&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!==gg)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||jg(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=Eb,e.tryEmit()}),i.interval),kb):Eb}return Tb},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Tb}),this.options.interval),Tb},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){this.state===Eb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Bb),Pb=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zy({pointers:1},e))||this}Ly(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=e&(kb|Sb),r=this.attrTest(t);return n&&(i&bg||!r)?e|Ib:n||r?i&gg?e|Ob:e&kb?e|Sb:kb:Tb},e}(Bb);function Nb(t){return t===kg?"down":t===xg?"up":t===wg?"left":t===_g?"right":""}var jb=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,zy({event:"pan",threshold:10,pointers:1,direction:Eg},e))||this).pX=null,i.pY=null,i}Ly(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&Sg&&e.push(rg),t&Og&&e.push(ng),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Sg?(r=0===o?mg:o<0?wg:_g,i=o!==this.pX,n=Math.abs(t.deltaX)):(r=0===s?mg:s<0?xg:kg,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},i.attrTest=function(t){return Pb.prototype.attrTest.call(this,t)&&(this.state&kb||!(this.state&kb)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=Nb(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(Pb),zb=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zy({event:"swipe",threshold:10,velocity:.3,direction:Sg|Og,pointers:1},e))||this}Ly(e,t);var i=e.prototype;return i.getTouchAction=function(){return jb.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return n&(Sg|Og)?i=e.overallVelocity:n&Sg?i=e.overallVelocityX:n&Og&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Xy(i)>this.options.velocity&&e.eventType&gg},i.emit=function(t){var e=Nb(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Pb),Lb=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zy({event:"pinch",threshold:0,pointers:2},e))||this}Ly(e,t);var i=e.prototype;return i.getTouchAction=function(){return[ig]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&kb)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(Pb),Rb=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zy({event:"rotate",threshold:0,pointers:2},e))||this}Ly(e,t);var i=e.prototype;return i.getTouchAction=function(){return[ig]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&kb)},e}(Pb),Ub=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,zy({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Ly(e,t);var i=e.prototype;return i.getTouchAction=function(){return[tg]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime>i.time;if(this._input=t,!r||!n||t.eventType&(gg|bg)&&!o)this.reset();else if(t.eventType&vg)this.reset(),this._timer=setTimeout((function(){e.state=Eb,e.tryEmit()}),i.time);else if(t.eventType&gg)return Eb;return Tb},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){this.state===Eb&&(t&&t.eventType&gg?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Gy(),this.manager.emit(this.options.event,this._input)))},e}(Bb),Hb={domEvents:!1,touchAction:Qy,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Vb=[[Rb,{enable:!1}],[Lb,{enable:!1},["rotate"]],[zb,{direction:Sg}],[jb,{direction:Sg},["swipe"]],[Fb],[Fb,{event:"doubletap",taps:2},["tap"]],[Ub]],Wb=1,Yb=2;function qb(t,e){var i,n=t.element;n.style&&(Cg(t.options.cssProps,(function(r,o){i=Ky(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}function Xb(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var Gb=function(){function t(t,e){var i=this;this.options=Hy({},Hb,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=wb(this),this.touchAction=new Bg(this,this.options.touchAction),qb(this,!0),Cg(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Hy(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?Yb:Wb},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Eb)&&(e.curRecognizer=null,r=null);for(var o=0;o<n.length;)i=n[o],e.stopped===Yb||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(kb|Sb|Ob)&&(e.curRecognizer=i,r=i),o++}},e.get=function(t){if(t instanceof Bb)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(_b(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(_b(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=Zg(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Cg(Xg(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Cg(Xg(t),(function(t){e?i[t]&&i[t].splice(Zg(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&Xb(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&qb(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Kb={touchstart:vg,touchmove:yg,touchend:gg,touchcancel:bg},$b="touchstart",Jb="touchstart touchmove touchend touchcancel",Zb=function(t){function e(){var i,n=e.prototype;return n.evTarget=$b,n.evWin=Jb,(i=t.apply(this,arguments)||this).started=!1,i}return Ly(e,t),e.prototype.handler=function(t){var e=Kb[t.type];if(e===vg&&(this.started=!0),this.started){var i=Qb.call(this,t,e);e&(gg|bg)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:cg,srcEvent:t})}},e}(Jg);function Qb(t,e){var i=rb(t.touches),n=rb(t.changedTouches);return e&(gg|bg)&&(i=ob(i.concat(n),"identifier",!0)),[i,n]}function tm(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,i),t.apply(this,arguments)}}var em=tm((function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),im=tm((function(t,e){return em(t,e,!0)}),"merge","Use `assign`.");function nm(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&Hy(n,i)}function rm(t,e){return function(){return t.apply(e,arguments)}}var om=function(){var t=function(t,e){return void 0===e&&(e={}),new Gb(t,zy({recognizers:Vb.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Eg,t.DIRECTION_DOWN=kg,t.DIRECTION_LEFT=wg,t.DIRECTION_RIGHT=_g,t.DIRECTION_UP=xg,t.DIRECTION_HORIZONTAL=Sg,t.DIRECTION_VERTICAL=Og,t.DIRECTION_NONE=mg,t.DIRECTION_DOWN=kg,t.INPUT_START=vg,t.INPUT_MOVE=yg,t.INPUT_END=gg,t.INPUT_CANCEL=bg,t.STATE_POSSIBLE=xb,t.STATE_BEGAN=kb,t.STATE_CHANGED=Sb,t.STATE_ENDED=Ob,t.STATE_RECOGNIZED=Eb,t.STATE_CANCELLED=Ib,t.STATE_FAILED=Tb,t.Manager=Gb,t.Input=Jg,t.TouchAction=Bg,t.TouchInput=lb,t.MouseInput=fb,t.PointerEventInput=nb,t.TouchMouseInput=mb,t.SingleTouchInput=Zb,t.Recognizer=Bb,t.AttrRecognizer=Pb,t.Tap=Fb,t.Pan=jb,t.Swipe=zb,t.Pinch=Lb,t.Rotate=Rb,t.Press=Ub,t.on=Gg,t.off=Kg,t.each=Cg,t.merge=im,t.extend=em,t.bindFn=rm,t.assign=Hy,t.inherit=nm,t.bindFn=rm,t.prefixed=Ky,t.toArray=rb,t.inArray=Zg,t.uniqueArray=ob,t.splitStr=Xg,t.boolOrFn=Dg,t.hasParent=Fg,t.addEventListeners=Gg,t.removeEventListeners=Kg,t.defaults=Hy({},Hb,{preset:Vb}),t}();function sm(t,e){var i="undefined"!==typeof Bp&&Bf(t)||t["@@iterator"];if(!i){if(Xp(t)||(i=am(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function am(t,e){var i;if(t){if("string"===typeof t)return lm(t,e);var n=Lp(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Df(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lm(t,e):void 0}}function lm(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var hm=Bp("DELETE");function cm(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return um.apply(void 0,zp(e=[{},t]).call(e,n))}function um(){var t=dm.apply(void 0,arguments);return pm(t),t}function dm(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<2)return e[0];var n;if(e.length>2)return dm.apply(void 0,zp(n=[um(e[0],e[1])]).call(n,Mp(Lp(e).call(e,2))));var r=e[0],o=e[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var s,a=sm(qp(o));try{for(a.s();!(s=a.n()).done;){var l=s.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===hm?delete r[l]:null===r[l]||null===o[l]||"object"!==typeof r[l]||"object"!==typeof o[l]||Xp(r[l])||Xp(o[l])?r[l]=fm(o[l]):r[l]=dm(r[l],o[l]))}}catch(h){a.e(h)}finally{a.f()}return r}function fm(t){return Xp(t)?md(t).call(t,(function(t){return fm(t)})):"object"===typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):dm({},t):t}function pm(t){for(var e=0,i=Zp(t);e<i.length;e++){var n=i[e];t[n]===hm?delete t[n]:"object"===typeof t[n]&&null!==t[n]&&pm(t[n])}}function vm(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}var ym="undefined"!==typeof window?window.Hammer||om:function(){return vm()};function gm(t){var e,i=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}));var n=ym(this._dom.overlay);n.on("tap",ju(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){n.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];hv(r).call(r,(function(t){n.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){bm(e.target,t)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",i._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}function bm(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}jy(gm.prototype),gm.current=null,gm.prototype.destroy=function(){var t,e;this.deactivate();var i,n=sm(mv(t=Rv(e=this._cleanupQueue).call(e,0)).call(t));try{for(n.s();!(i=n.n()).done;)(0,i.value)()}catch(r){n.e(r)}finally{n.f()}},gm.prototype.activate=function(){gm.current&&gm.current.deactivate(),gm.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},gm.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},gm.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var mm=Ln,wm=Bt,_m=TypeError,xm=function(t){if(mm(t))return t;throw new _m(wm(t)+" is not a constructor")},km=zi,Sm=p,Om=Iu,Em=xm,Im=di,Tm=st,Cm=co,Dm=l,Am=dt("Reflect","construct"),Mm=Object.prototype,Bm=[].push,Fm=Dm((function(){function t(){}return!(Am((function(){}),[],t)instanceof t)})),Pm=!Dm((function(){Am((function(){}))})),Nm=Fm||Pm;km({target:"Reflect",stat:!0,forced:Nm,sham:Nm},{construct:function(t,e){Em(t),Im(e);var i=arguments.length<3?t:Em(arguments[2]);if(Pm&&!Fm)return Am(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Sm(Bm,n,e),new(Sm(Om,t,n))}var r=i.prototype,o=Cm(Tm(r)?r:Mm),s=Sm(t,o,e);return Tm(s)?s:o}});var jm=r(at.Reflect.construct),zm=r(at.Object.getOwnPropertySymbols),Lm={exports:{}},Rm=zi,Um=l,Hm=it,Vm=B.f,Wm=F,Ym=!Wm||Um((function(){Vm(1)}));Rm({target:"Object",stat:!0,forced:Ym,sham:!Wm},{getOwnPropertyDescriptor:function(t,e){return Vm(Hm(t),e)}});var qm=at.Object,Xm=Lm.exports=function(t,e){return qm.getOwnPropertyDescriptor(t,e)};qm.getOwnPropertyDescriptor.sham&&(Xm.sham=!0);var Gm=r(Lm.exports),Km=Yp,$m=it,Jm=B,Zm=cn;zi({target:"Object",stat:!0,sham:!F},{getOwnPropertyDescriptors:function(t){for(var e,i,n=$m(t),r=Jm.f,o=Km(n),s={},a=0;o.length>a;)void 0!==(i=r(n,e=o[a++]))&&Zm(s,e,i);return s}});var Qm=r(at.Object.getOwnPropertyDescriptors),tw={exports:{}},ew=zi,iw=F,nw=vr.f;ew({target:"Object",stat:!0,forced:Object.defineProperties!==nw,sham:!iw},{defineProperties:nw});var rw=at.Object,ow=tw.exports=function(t,e){return rw.defineProperties(t,e)};rw.defineProperties.sham&&(ow.sham=!0);var sw=r(tw.exports),aw=r(Wi);function lw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var hw=hy,cw=r(hw);zi({target:"Object",stat:!0},{setPrototypeOf:Bh});var uw=at.Object.setPrototypeOf,dw=r(uw),fw=r(Nu);function pw(t,e){var i;return pw=dw?fw(i=dw).call(i):function(t,e){return t.__proto__=e,t},pw(t,e)}function vw(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=cw(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),qi(t,"prototype",{writable:!1}),e&&pw(t,e)}function yw(t,e){if(e&&("object"===hu(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lw(t)}var gw=ay,bw=r(gw);function mw(t){var e;return mw=dw?fw(e=bw).call(e):function(t){return t.__proto__||bw(t)},mw(t)}var ww={exports:{}},_w={exports:{}};!function(t){var e=Hc,i=au;function n(r){return t.exports=n="function"==typeof e&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(_w);var xw=_w.exports,kw=lv,Sw=se,Ow=Yp,Ew=B,Iw=si,Tw=function(t,e,i){for(var n=Ow(e),r=Iw.f,o=Ew.f,s=0;s<n.length;s++){var a=n[s];Sw(t,a)||i&&Sw(i,a)||r(t,a,o(e,a))}},Cw=st,Dw=Ei,Aw=function(t,e){Cw(e)&&"cause"in e&&Dw(t,"cause",e.cause)},Mw=Error,Bw=m("".replace),Fw=String(new Mw("zxcasd").stack),Pw=/\n\s*at [^:]*:[^\n]*/,Nw=Pw.test(Fw),jw=function(t,e){if(Nw&&"string"==typeof t&&!Mw.prepareStackTrace)for(;e--;)t=Bw(t,Pw,"");return t},zw=W,Lw=!l((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",zw(1,7)),7!==t.stack)})),Rw=Ei,Uw=jw,Hw=Lw,Vw=Error.captureStackTrace,Ww=function(t,e,i,n){Hw&&(Vw?Vw(t,e):Rw(t,"stack",Uw(i,n)))},Yw=oi,qw=j,Xw=di,Gw=Bt,Kw=Gd,$w=nn,Jw=ft,Zw=lf,Qw=tf,t_=Ud,e_=TypeError,i_=function(t,e){this.stopped=t,this.result=e},n_=i_.prototype,r_=function(t,e,i){var n,r,o,s,a,l,h,c=i&&i.that,u=!(!i||!i.AS_ENTRIES),d=!(!i||!i.IS_RECORD),f=!(!i||!i.IS_ITERATOR),p=!(!i||!i.INTERRUPTED),v=Yw(e,c),y=function(t){return n&&t_(n,"normal",t),new i_(!0,t)},g=function(t){return u?(Xw(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(d)n=t.iterator;else if(f)n=t;else{if(!(r=Qw(t)))throw new e_(Gw(t)+" is not iterable");if(Kw(r)){for(o=0,s=$w(t);s>o;o++)if((a=g(t[o]))&&Jw(n_,a))return a;return new i_(!1)}n=Zw(t,r)}for(l=d?t.next:n.next;!(h=qw(l,n)).done;){try{a=g(h.value)}catch(CT){t_(n,"throw",CT)}if("object"==typeof a&&a&&Jw(n_,a))return a}return new i_(!1)},o_=pr,s_=function(t,e){return void 0===t?arguments.length<2?"":e:o_(t)},a_=zi,l_=ft,h_=lh,c_=Bh,u_=Tw,d_=co,f_=Ei,p_=W,v_=Aw,y_=Ww,g_=r_,b_=s_,m_=we("toStringTag"),w_=Error,__=[].push,x_=function(t,e){var i,n=l_(k_,this);c_?i=c_(new w_,n?h_(this):k_):(i=n?this:d_(k_),f_(i,m_,"Error")),void 0!==e&&f_(i,"message",b_(e)),y_(i,x_,i.stack,1),arguments.length>2&&v_(i,arguments[2]);var r=[];return g_(t,__,{that:r}),f_(i,"errors",r),i};c_?c_(x_,w_):u_(x_,w_,{name:!0});var k_=x_.prototype=d_(w_.prototype,{constructor:p_(1,x_),message:p_(1,""),name:p_(1,"AggregateError")});a_({global:!0,constructor:!0,arity:2},{AggregateError:x_});var S_,O_,E_,I_,T_=dt,C_=Mo,D_=F,A_=we("species"),M_=function(t){var e=T_(t);D_&&e&&!e[A_]&&C_(e,A_,{configurable:!0,get:function(){return this}})},B_=ft,F_=TypeError,P_=function(t,e){if(B_(e,t))return t;throw new F_("Incorrect invocation")},N_=di,j_=xm,z_=$,L_=we("species"),R_=function(t,e){var i,n=N_(t).constructor;return void 0===n||z_(i=N_(n)[L_])?e:j_(i)},U_=/(?:ipad|iphone|ipod).*applewebkit/i.test(pt),H_=a,V_=p,W_=oi,Y_=M,q_=se,X_=l,G_=Wr,K_=il,$_=Fe,J_=gy,Z_=U_,Q_=Xu,tx=H_.setImmediate,ex=H_.clearImmediate,ix=H_.process,nx=H_.Dispatch,rx=H_.Function,ox=H_.MessageChannel,sx=H_.String,ax=0,lx={},hx="onreadystatechange";X_((function(){S_=H_.location}));var cx=function(t){if(q_(lx,t)){var e=lx[t];delete lx[t],e()}},ux=function(t){return function(){cx(t)}},dx=function(t){cx(t.data)},fx=function(t){H_.postMessage(sx(t),S_.protocol+"//"+S_.host)};tx&&ex||(tx=function(t){J_(arguments.length,1);var e=Y_(t)?t:rx(t),i=K_(arguments,1);return lx[++ax]=function(){V_(e,void 0,i)},O_(ax),ax},ex=function(t){delete lx[t]},Q_?O_=function(t){ix.nextTick(ux(t))}:nx&&nx.now?O_=function(t){nx.now(ux(t))}:ox&&!Z_?(I_=(E_=new ox).port2,E_.port1.onmessage=dx,O_=W_(I_.postMessage,I_)):H_.addEventListener&&Y_(H_.postMessage)&&!H_.importScripts&&S_&&"file:"!==S_.protocol&&!X_(fx)?(O_=fx,H_.addEventListener("message",dx,!1)):O_=hx in $_("script")?function(t){G_.appendChild($_("script"))[hx]=function(){G_.removeChild(this),cx(t)}}:function(t){setTimeout(ux(t),0)});var px={set:tx,clear:ex},vx=function(){this.head=null,this.tail=null};vx.prototype={add:function(t){var e={item:t,next:null},i=this.tail;i?i.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var yx,gx,bx,mx,wx,_x=vx,xx=/ipad|iphone|ipod/i.test(pt)&&"undefined"!=typeof Pebble,kx=/web0s(?!.*chrome)/i.test(pt),Sx=a,Ox=oi,Ex=B.f,Ix=px.set,Tx=_x,Cx=U_,Dx=xx,Ax=kx,Mx=Xu,Bx=Sx.MutationObserver||Sx.WebKitMutationObserver,Fx=Sx.document,Px=Sx.process,Nx=Sx.Promise,jx=Ex(Sx,"queueMicrotask"),zx=jx&&jx.value;if(!zx){var Lx=new Tx,Rx=function(){var t,e;for(Mx&&(t=Px.domain)&&t.exit();e=Lx.get();)try{e()}catch(CT){throw Lx.head&&yx(),CT}t&&t.enter()};Cx||Mx||Ax||!Bx||!Fx?!Dx&&Nx&&Nx.resolve?((mx=Nx.resolve(void 0)).constructor=Nx,wx=Ox(mx.then,mx),yx=function(){wx(Rx)}):Mx?yx=function(){Px.nextTick(Rx)}:(Ix=Ox(Ix,Sx),yx=function(){Ix(Rx)}):(gx=!0,bx=Fx.createTextNode(""),new Bx(Rx).observe(bx,{characterData:!0}),yx=function(){bx.data=gx=!gx}),zx=function(t){Lx.head||yx(),Lx.add(t)}}var Ux=zx,Hx=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(CT){}},Vx=function(t){try{return{error:!1,value:t()}}catch(CT){return{error:!0,value:CT}}},Wx=a.Promise,Yx="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,qx=Xu,Xx=!Yx&&!qx&&"object"==typeof window&&"object"==typeof document,Gx=a,Kx=Wx,$x=M,Jx=ei,Zx=On,Qx=we,tk=Xx,ek=Yx,ik=_t,nk=Kx&&Kx.prototype,rk=Qx("species"),ok=!1,sk=$x(Gx.PromiseRejectionEvent),ak={CONSTRUCTOR:Jx("Promise",(function(){var t=Zx(Kx),e=t!==String(Kx);if(!e&&66===ik)return!0;if(!nk.catch||!nk.finally)return!0;if(!ik||ik<51||!/native code/.test(t)){var i=new Kx((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((i.constructor={})[rk]=n,!(ok=i.then((function(){}))instanceof n))return!0}return!e&&(tk||ek)&&!sk})),REJECTION_EVENT:sk,SUBCLASSING:ok},lk={},hk=jt,ck=TypeError,uk=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw new ck("Bad Promise constructor");e=t,i=n})),this.resolve=hk(e),this.reject=hk(i)};lk.f=function(t){return new uk(t)};var dk=zi,fk=Xu,pk=a,vk=j,yk=Do,gk=is,bk=M_,mk=jt,wk=M,_k=st,xk=P_,kk=R_,Sk=px.set,Ok=Ux,Ek=Hx,Ik=Vx,Tk=_x,Ck=ws,Dk=Wx,Ak=ak,Mk=lk,Bk="Promise",Fk=Ak.CONSTRUCTOR,Pk=Ak.REJECTION_EVENT;Ak.SUBCLASSING;var Nk,jk,zk,Lk=Ck.getterFor(Bk),Rk=Ck.set,Uk=Dk&&Dk.prototype,Hk=Dk,Vk=Uk,Wk=pk.TypeError,Yk=pk.document,qk=pk.process,Xk=Mk.f,Gk=Xk,Kk=!!(Yk&&Yk.createEvent&&pk.dispatchEvent),$k="unhandledrejection",Jk="rejectionhandled",Zk=0,Qk=1,tS=2,eS=1,iS=2,nS=function(t){var e;return!(!_k(t)||!wk(e=t.then))&&e},rS=function(t,e){var i,n,r,o=e.value,s=e.state===Qk,a=s?t.ok:t.fail,l=t.resolve,h=t.reject,c=t.domain;try{a?(s||(e.rejection===iS&&hS(e),e.rejection=eS),!0===a?i=o:(c&&c.enter(),i=a(o),c&&(c.exit(),r=!0)),i===t.promise?h(new Wk("Promise-chain cycle")):(n=nS(i))?vk(n,i,l,h):l(i)):h(o)}catch(CT){c&&!r&&c.exit(),h(CT)}},oS=function(t,e){t.notified||(t.notified=!0,Ok((function(){for(var i,n=t.reactions;i=n.get();)rS(i,t);t.notified=!1,e&&!t.rejection&&aS(t)})))},sS=function(t,e,i){var n,r;Kk?((n=Yk.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),pk.dispatchEvent(n)):n={promise:e,reason:i},!Pk&&(r=pk["on"+t])?r(n):t===$k&&Ek("Unhandled promise rejection",i)},aS=function(t){vk(Sk,pk,(function(){var e,i=t.facade,n=t.value;if(lS(t)&&(e=Ik((function(){fk?qk.emit("unhandledRejection",n,i):sS($k,i,n)})),t.rejection=fk||lS(t)?iS:eS,e.error))throw e.value}))},lS=function(t){return t.rejection!==eS&&!t.parent},hS=function(t){vk(Sk,pk,(function(){var e=t.facade;fk?qk.emit("rejectionHandled",e):sS(Jk,e,t.value)}))},cS=function(t,e,i){return function(n){t(e,n,i)}},uS=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=tS,oS(t,!0))},dS=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw new Wk("Promise can't be resolved itself");var n=nS(e);n?Ok((function(){var i={done:!1};try{vk(n,e,cS(dS,i,t),cS(uS,i,t))}catch(CT){uS(i,CT,t)}})):(t.value=e,t.state=Qk,oS(t,!1))}catch(CT){uS({done:!1},CT,t)}}};Fk&&(Vk=(Hk=function(t){xk(this,Vk),mk(t),vk(Nk,this);var e=Lk(this);try{t(cS(dS,e),cS(uS,e))}catch(CT){uS(e,CT)}}).prototype,(Nk=function(t){Rk(this,{type:Bk,done:!1,notified:!1,parent:!1,reactions:new Tk,rejection:!1,state:Zk,value:void 0})}).prototype=yk(Vk,"then",(function(t,e){var i=Lk(this),n=Xk(kk(this,Hk));return i.parent=!0,n.ok=!wk(t)||t,n.fail=wk(e)&&e,n.domain=fk?qk.domain:void 0,i.state===Zk?i.reactions.add(n):Ok((function(){rS(n,i)})),n.promise})),jk=function(){var t=new Nk,e=Lk(t);this.promise=t,this.resolve=cS(dS,e),this.reject=cS(uS,e)},Mk.f=Xk=function(t){return t===Hk||t===zk?new jk(t):Gk(t)}),dk({global:!0,constructor:!0,wrap:!0,forced:Fk},{Promise:Hk}),gk(Hk,Bk,!1,!0),bk(Bk);var fS=Wx,pS=Of,vS=ak.CONSTRUCTOR||!pS((function(t){fS.all(t).then(void 0,(function(){}))})),yS=j,gS=jt,bS=lk,mS=Vx,wS=r_;zi({target:"Promise",stat:!0,forced:vS},{all:function(t){var e=this,i=bS.f(e),n=i.resolve,r=i.reject,o=mS((function(){var i=gS(e.resolve),o=[],s=0,a=1;wS(t,(function(t){var l=s++,h=!1;a++,yS(i,e,t).then((function(t){h||(h=!0,o[l]=t,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise}});var _S=zi,xS=ak.CONSTRUCTOR,kS=Wx;kS&&kS.prototype,_S({target:"Promise",proto:!0,forced:xS,real:!0},{catch:function(t){return this.then(void 0,t)}});var SS=j,OS=jt,ES=lk,IS=Vx,TS=r_;zi({target:"Promise",stat:!0,forced:vS},{race:function(t){var e=this,i=ES.f(e),n=i.reject,r=IS((function(){var r=OS(e.resolve);TS(t,(function(t){SS(r,e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var CS=zi,DS=j,AS=lk,MS=ak.CONSTRUCTOR;CS({target:"Promise",stat:!0,forced:MS},{reject:function(t){var e=AS.f(this);return DS(e.reject,void 0,t),e.promise}});var BS=di,FS=st,PS=lk,NS=function(t,e){if(BS(t),FS(e)&&e.constructor===t)return e;var i=PS.f(t);return(0,i.resolve)(e),i.promise},jS=zi,zS=dt,LS=Xt,RS=Wx,US=ak.CONSTRUCTOR,HS=NS,VS=zS("Promise"),WS=!US;jS({target:"Promise",stat:!0,forced:LS},{resolve:function(t){return HS(WS&&this===VS?RS:this,t)}});var YS=j,qS=jt,XS=lk,GS=Vx,KS=r_;zi({target:"Promise",stat:!0,forced:vS},{allSettled:function(t){var e=this,i=XS.f(e),n=i.resolve,r=i.reject,o=GS((function(){var i=qS(e.resolve),r=[],o=0,s=1;KS(t,(function(t){var a=o++,l=!1;s++,YS(i,e,t).then((function(t){l||(l=!0,r[a]={status:"fulfilled",value:t},--s||n(r))}),(function(t){l||(l=!0,r[a]={status:"rejected",reason:t},--s||n(r))}))})),--s||n(r)}));return o.error&&r(o.value),i.promise}});var $S=j,JS=jt,ZS=dt,QS=lk,tO=Vx,eO=r_,iO="No one promise resolved";zi({target:"Promise",stat:!0,forced:vS},{any:function(t){var e=this,i=ZS("AggregateError"),n=QS.f(e),r=n.resolve,o=n.reject,s=tO((function(){var n=JS(e.resolve),s=[],a=0,l=1,h=!1;eO(t,(function(t){var c=a++,u=!1;l++,$S(n,e,t).then((function(t){u||h||(h=!0,r(t))}),(function(t){u||h||(u=!0,s[c]=t,--l||o(new i(s,iO)))}))})),--l||o(new i(s,iO))}));return s.error&&o(s.value),n.promise}});var nO=zi,rO=Wx,oO=l,sO=dt,aO=M,lO=R_,hO=NS,cO=rO&&rO.prototype,uO=!!rO&&oO((function(){cO.finally.call({then:function(){}},(function(){}))}));nO({target:"Promise",proto:!0,real:!0,forced:uO},{finally:function(t){var e=lO(this,sO("Promise")),i=aO(t);return this.then(i?function(i){return hO(e,t()).then((function(){return i}))}:t,i?function(i){return hO(e,t()).then((function(){throw i}))}:t)}});var dO=at.Promise,fO=lk;zi({target:"Promise",stat:!0},{withResolvers:function(){var t=fO.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var pO=dO,vO=lk,yO=Vx;zi({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=vO.f(this),i=yO(t);return(i.error?e.reject:e.resolve)(i.value),e.promise}});var gO=pO,bO=bv;!function(t){var e=xw.default,i=Yi,n=Hc,r=hw,o=gw,s=kw,a=tp,l=uw,h=gO,c=bO,u=xp;function d(){t.exports=d=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var f,p={},v=Object.prototype,y=v.hasOwnProperty,g=i||function(t,e,i){t[e]=i.value},b="function"==typeof n?n:{},m=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",_=b.toStringTag||"@@toStringTag";function x(t,e,n){return i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{x({},"")}catch(f){x=function(t,e,i){return t[e]=i}}function k(t,e,i,n){var o=e&&e.prototype instanceof D?e:D,s=r(o.prototype),a=new H(n||[]);return g(s,"_invoke",{value:z(t,i,a)}),s}function S(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}p.wrap=k;var O="suspendedStart",E="suspendedYield",I="executing",T="completed",C={};function D(){}function A(){}function M(){}var B={};x(B,m,(function(){return this}));var F=o&&o(o(V([])));F&&F!==v&&y.call(F,m)&&(B=F);var P=M.prototype=D.prototype=r(B);function N(t){var e;s(e=["next","throw","return"]).call(e,(function(e){x(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,i){function n(r,o,s,a){var l=S(t[r],t,o);if("throw"!==l.type){var h=l.arg,c=h.value;return c&&"object"==e(c)&&y.call(c,"__await")?i.resolve(c.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):i.resolve(c).then((function(t){h.value=t,s(h)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}var r;g(this,"_invoke",{value:function(t,e){function o(){return new i((function(i,r){n(t,e,i,r)}))}return r=r?r.then(o,o):o()}})}function z(t,e,i){var n=O;return function(r,o){if(n===I)throw new Error("Generator is already running");if(n===T){if("throw"===r)throw o;return{value:f,done:!0}}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=L(s,i);if(a){if(a===C)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===O)throw n=T,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=I;var l=S(t,e,i);if("normal"===l.type){if(n=i.done?T:E,l.arg===C)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=T,i.method="throw",i.arg=l.arg)}}}function L(t,e){var i=e.method,n=t.iterator[i];if(n===f)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=f,L(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),C;var r=S(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,C;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=f),e.delegate=null,C):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function R(t){var e,i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),a(e=this.tryEntries).call(e,i)}function U(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function H(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,R,this),this.reset(!0)}function V(t){if(t||""===t){var i=t[m];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=f,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return A.prototype=M,g(P,"constructor",{value:M,configurable:!0}),g(M,"constructor",{value:A,configurable:!0}),A.displayName=x(M,_,"GeneratorFunction"),p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return l?l(t,M):(t.__proto__=M,x(t,_,"GeneratorFunction")),t.prototype=r(P),t},p.awrap=function(t){return{__await:t}},N(j.prototype),x(j.prototype,w,(function(){return this})),p.AsyncIterator=j,p.async=function(t,e,i,n,r){void 0===r&&(r=h);var o=new j(k(t,e,i,n),r);return p.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},N(P),x(P,_,"Generator"),x(P,m,(function(){return this})),x(P,"toString",(function(){return"[object Generator]"})),p.keys=function(t){var e=Object(t),i=[];for(var n in e)a(i).call(i,n);return c(i).call(i),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},p.values=V,H.prototype={constructor:H,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,s(e=this.tryEntries).call(e,U),!t)for(var i in this)"t"===i.charAt(0)&&y.call(this,i)&&!isNaN(+u(i).call(i,1))&&(this[i]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return o.type="throw",o.arg=t,e.next=i,n&&(e.method="next",e.arg=f),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=y.call(r,"catchLoc"),a=y.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),U(i),C}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;U(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:V(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=f),C}},p}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports}(ww);var mO=(0,ww.exports)(),wO=mO;try{regeneratorRuntime=mO}catch(DT){"object"===typeof globalThis?globalThis.regeneratorRuntime=mO:Function("r","regeneratorRuntime = r")(mO)}var _O=r(wO),xO={exports:{}},kO=l((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),SO=l,OO=st,EO=k,IO=kO,TO=Object.isExtensible,CO=SO((function(){TO(1)}))||IO?function(t){return!!OO(t)&&(!IO||"ArrayBuffer"!==EO(t))&&(!TO||TO(t))}:TO,DO=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),AO=zi,MO=m,BO=Or,FO=st,PO=se,NO=si.f,jO=uo,zO=vo,LO=CO,RO=DO,UO=!1,HO=ue("meta"),VO=0,WO=function(t){NO(t,HO,{value:{objectID:"O"+VO++,weakData:{}}})},YO=function(t,e){if(!FO(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!PO(t,HO)){if(!LO(t))return"F";if(!e)return"E";WO(t)}return t[HO].objectID},qO=function(t,e){if(!PO(t,HO)){if(!LO(t))return!0;if(!e)return!1;WO(t)}return t[HO].weakData},XO=function(t){return RO&&UO&&LO(t)&&!PO(t,HO)&&WO(t),t},GO=function(){KO.enable=function(){},UO=!0;var t=jO.f,e=MO([].splice),i={};i[HO]=1,t(i).length&&(jO.f=function(i){for(var n=t(i),r=0,o=n.length;r<o;r++)if(n[r]===HO){e(n,r,1);break}return n},AO({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:zO.f}))},KO=xO.exports={enable:GO,fastKey:YO,getWeakData:qO,onFreeze:XO};BO[HO]=!0;var $O=xO.exports,JO=zi,ZO=a,QO=$O,tE=l,eE=Ei,iE=r_,nE=P_,rE=M,oE=st,sE=$,aE=is,lE=si.f,hE=Ts.forEach,cE=F,uE=ws,dE=uE.set,fE=uE.getterFor,pE=function(t,e,i){var n,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=ZO[t],l=a&&a.prototype,h={};if(cE&&rE(a)&&(o||l.forEach&&!tE((function(){(new a).entries().next()})))){var c=(n=e((function(e,i){dE(nE(e,c),{type:t,collection:new a}),sE(i)||iE(i,e[s],{that:e,AS_ENTRIES:r})}))).prototype,u=fE(t);hE(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in l)||o&&"clear"===t||eE(c,t,(function(i,n){var r=u(this).collection;if(!e&&o&&!oE(i))return"get"===t&&void 0;var s=r[t](0===i?0:i,n);return e?this:s}))})),o||lE(c,"size",{configurable:!0,get:function(){return u(this).collection.size}})}else n=i.getConstructor(e,t,r,s),QO.enable();return aE(n,t,!1,!0),h[t]=n,JO({global:!0,forced:!0},h),o||i.setStrong(n,t,r),n},vE=Do,yE=co,gE=Mo,bE=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:vE(t,n,e[n],i);return t},mE=oi,wE=P_,_E=$,xE=r_,kE=Jh,SE=Zh,OE=M_,EE=F,IE=$O.fastKey,TE=ws,CE=TE.set,DE=TE.getterFor,AE={getConstructor:function(t,e,i,n){var r=t((function(t,r){wE(t,o),CE(t,{type:e,index:yE(null),first:void 0,last:void 0,size:0}),EE||(t.size=0),_E(r)||xE(r,t[n],{that:t,AS_ENTRIES:i})})),o=r.prototype,s=DE(e),a=function(t,e,i){var n,r,o=s(t),a=l(t,e);return a?a.value=i:(o.last=a={index:r=IE(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),EE?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var i,n=s(t),r=IE(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key===e)return i};return bE(o,{clear:function(){for(var t=this,e=s(t),i=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;e.first=e.last=void 0,EE?e.size=0:t.size=0},delete:function(t){var e=this,i=s(e),n=l(e,t);if(n){var r=n.next,o=n.previous;delete i.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),i.first===n&&(i.first=r),i.last===n&&(i.last=o),EE?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=s(this),n=mE(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),bE(o,i?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),EE&&gE(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=DE(e),o=DE(n);kE(t,e,(function(t,e){CE(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?SE("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=void 0,SE(void 0,!0))}),i?"entries":"values",!i,!0),OE(e)}};pE("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),AE);var ME=r(at.Map),BE=zi,FE=Ts.some,PE=qu("some");BE({target:"Array",proto:!0,forced:!PE},{some:function(t){return FE(this,t,arguments.length>1?arguments[1]:void 0)}});var NE=Au("Array","some"),jE=ft,zE=NE,LE=Array.prototype,RE=r((function(t){var e=t.some;return t===LE||jE(LE,t)&&e===LE.some?zE:e})),UE=Au("Array","keys"),HE=_n,VE=se,WE=ft,YE=UE,qE=Array.prototype,XE={DOMTokenList:!0,NodeList:!0},GE=r((function(t){var e=t.keys;return t===qE||WE(qE,t)&&e===qE.keys||VE(XE,HE(t))?YE:e})),KE=_o,$E=Math.floor,JE=function(t,e){var i=t.length,n=$E(i/2);return i<8?ZE(t,e):QE(t,JE(KE(t,0,n),e),JE(KE(t,n),e),e)},ZE=function(t,e){for(var i,n,r=t.length,o=1;o<r;){for(n=o,i=t[o];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},QE=function(t,e,i,n){for(var r=e.length,o=i.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?n(e[s],i[a])<=0?e[s++]:i[a++]:s<r?e[s++]:i[a++];return t},tI=JE,eI=pt.match(/firefox\/(\d+)/i),iI=!!eI&&+eI[1],nI=/MSIE|Trident/.test(pt),rI=pt.match(/AppleWebKit\/(\d+)\./),oI=!!rI&&+rI[1],sI=zi,aI=m,lI=jt,hI=ne,cI=nn,uI=xv,dI=pr,fI=l,pI=tI,vI=qu,yI=iI,gI=nI,bI=_t,mI=oI,wI=[],_I=aI(wI.sort),xI=aI(wI.push),kI=fI((function(){wI.sort(void 0)})),SI=fI((function(){wI.sort(null)})),OI=vI("sort"),EI=!fI((function(){if(bI)return bI<70;if(!(yI&&yI>3)){if(gI)return!0;if(mI)return mI<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)wI.push({k:e+n,v:i})}for(wI.sort((function(t,e){return e.v-t.v})),n=0;n<wI.length;n++)e=wI[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),II=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:dI(e)>dI(i)?1:-1}};sI({target:"Array",proto:!0,forced:kI||!SI||!OI||!EI},{sort:function(t){void 0!==t&&lI(t);var e=hI(this);if(EI)return void 0===t?_I(e):_I(e,t);var i,n,r=[],o=cI(e);for(n=0;n<o;n++)n in e&&xI(r,e[n]);for(pI(r,II(t)),i=cI(r),n=0;n<i;)e[n]=r[n++];for(;n<o;)uI(e,n++);return e}});var TI=Au("Array","sort"),CI=ft,DI=TI,AI=Array.prototype,MI=r((function(t){var e=t.sort;return t===AI||CI(AI,t)&&e===AI.sort?DI:e})),BI=Au("Array","values"),FI=_n,PI=se,NI=ft,jI=BI,zI=Array.prototype,LI={DOMTokenList:!0,NodeList:!0},RI=r((function(t){var e=t.values;return t===zI||NI(zI,t)&&e===zI.values||PI(LI,FI(t))?jI:e})),UI=r(su),HI=Au("Array","entries"),VI=_n,WI=se,YI=ft,qI=HI,XI=Array.prototype,GI={DOMTokenList:!0,NodeList:!0},KI=r((function(t){var e=t.entries;return t===XI||YI(XI,t)&&e===XI.entries||WI(GI,VI(t))?qI:e}));let $I;const JI=new Uint8Array(16);function ZI(){if(!$I&&($I="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$I))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $I(JI)}const QI=[];for(let i=0;i<256;++i)QI.push((i+256).toString(16).slice(1));function tT(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return QI[t[e+0]]+QI[t[e+1]]+QI[t[e+2]]+QI[t[e+3]]+"-"+QI[t[e+4]]+QI[t[e+5]]+"-"+QI[t[e+6]]+QI[t[e+7]]+"-"+QI[t[e+8]]+QI[t[e+9]]+"-"+QI[t[e+10]]+QI[t[e+11]]+QI[t[e+12]]+QI[t[e+13]]+QI[t[e+14]]+QI[t[e+15]]}var eT={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function iT(t,e,i){if(eT.randomUUID&&!e&&!t)return eT.randomUUID();const n=(t=t||{}).random||(t.rng||ZI)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=n[t];return e}return tT(n)}function nT(t){return"string"===typeof t||"number"===typeof t}var rT=function(){function t(i){e(this,t),vu(this,"_queue",[]),vu(this,"_timeout",null),vu(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(i)}return pu(t,[{key:"setOptions",value:function(t){t&&"undefined"!==typeof t.delay&&(this.delay=t.delay),t&&"undefined"!==typeof t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){"function"===typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"===typeof this.delay&&(this._timeout=Fy((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;hv(t=Rv(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,i){var n=new t(i);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(i&&i.replace)for(var o=0;o<i.replace.length;o++){var s=i.replace[o];r.push({name:s,original:e[s]}),n.replace(e,s)}return n._extended={object:e,methods:r},n}}]),t}(),oT=function(){function t(){e(this,t),vu(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),vu(this,"subscribe",t.prototype.on),vu(this,"unsubscribe",t.prototype.off)}return pu(t,[{key:"_trigger",value:function(t,e,i){var n,r;if("*"===t)throw new Error("Cannot trigger event *");hv(n=zp(r=[]).call(r,Mp(this._subscribers[t]),Mp(this._subscribers["*"]))).call(n,(function(n){n(t,e,null!=i?i:null)}))}},{key:"on",value:function(t,e){"function"===typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var i;this._subscribers[t]=ud(i=this._subscribers[t]).call(i,(function(t){return t!==e}))}}]),t}();pE("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),AE);var sT=r(at.Set),aT=r(lf);function lT(t,e){var i="undefined"!==typeof Bp&&Bf(t)||t["@@iterator"];if(!i){if(Xp(t)||(i=hT(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function hT(t,e){var i;if(t){if("string"===typeof t)return cT(t,e);var n=Lp(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Df(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cT(t,e):void 0}}function cT(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var uT=function(t){function i(t){e(this,i),this._pairs=t}return pu(i,[{key:t,value:_O.mark((function t(){var e,i,n,r,o;return _O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lT(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Tp(i.value,2),r=n[0],o=n[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:_O.mark((function t(){var e,i,n,r,o;return _O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lT(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Tp(i.value,2),r=n[0],o=n[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:_O.mark((function t(){var e,i,n,r;return _O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lT(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Tp(i.value,1),r=n[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:_O.mark((function t(){var e,i,n,r;return _O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lT(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Tp(i.value,2),r=n[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return md(t=Mp(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return md(t=Mp(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return Mp(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=cy(null),i=lT(this._pairs);try{for(i.s();!(t=i.n()).done;){var n=Tp(t.value,2),r=n[0],o=n[1];e[r]=o}}catch(s){i.e(s)}finally{i.f()}return e}},{key:"toMap",value:function(){return new ME(this._pairs)}},{key:"toIdSet",value:function(){return new sT(this.toIdArray())}},{key:"toItemSet",value:function(){return new sT(this.toItemArray())}},{key:"cache",value:function(){return new i(Mp(this._pairs))}},{key:"distinct",value:function(t){var e,i=new sT,n=lT(this._pairs);try{for(n.s();!(e=n.n()).done;){var r=Tp(e.value,2),o=r[0],s=r[1];i.add(t(s,o))}}catch(a){n.e(a)}finally{n.f()}return i}},{key:"filter",value:function(t){var e=this._pairs;return new i({[UI]:()=>_O.mark((function i(){var n,r,o,s,a;return _O.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=lT(e),i.prev=1,n.s();case 3:if((r=n.n()).done){i.next=10;break}if(o=Tp(r.value,2),s=o[0],a=o[1],!t(a,s)){i.next=8;break}return i.next=8,[s,a];case 8:i.next=3;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i.catch(1),n.e(i.t0);case 15:return i.prev=15,n.f(),i.finish(15);case 18:case"end":return i.stop()}}),i,null,[[1,12,15,18]])}))()})}},{key:"forEach",value:function(t){var e,i=lT(this._pairs);try{for(i.s();!(e=i.n()).done;){var n=Tp(e.value,2),r=n[0];t(n[1],r)}}catch(o){i.e(o)}finally{i.f()}}},{key:"map",value:function(t){var e=this._pairs;return new i({[UI]:()=>_O.mark((function i(){var n,r,o,s,a;return _O.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=lT(e),i.prev=1,n.s();case 3:if((r=n.n()).done){i.next=9;break}return o=Tp(r.value,2),s=o[0],a=o[1],i.next=7,[s,t(a,s)];case 7:i.next=3;break;case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(1),n.e(i.t0);case 14:return i.prev=14,n.f(),i.finish(14);case 17:case"end":return i.stop()}}),i,null,[[1,11,14,17]])}))()})}},{key:"max",value:function(t){var e=aT(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var o=Tp(i.value,2),s=o[0],a=o[1],l=t(a,s);l>r&&(r=l,n=a)}return n}},{key:"min",value:function(t){var e=aT(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var o=Tp(i.value,2),s=o[0],a=o[1],l=t(a,s);l<r&&(r=l,n=a)}return n}},{key:"reduce",value:function(t,e){var i,n=lT(this._pairs);try{for(n.s();!(i=n.n()).done;){var r=Tp(i.value,2),o=r[0];e=t(e,r[1],o)}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"sort",value:function(t){var e=this;return new i({[UI]:function(){var i;return aT(MI(i=Mp(e._pairs)).call(i,(function(e,i){var n=Tp(e,2),r=n[0],o=n[1],s=Tp(i,2),a=s[0],l=s[1];return t(o,l,r,a)})))}})}}]),i}(UI);function dT(t,e){var i=Zp(t);if(zm){var n=zm(t);e&&(n=ud(n).call(n,(function(e){return Gm(t,e).enumerable}))),i.push.apply(i,n)}return i}function fT(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?hv(i=dT(Object(r),!0)).call(i,(function(e){vu(t,e,r[e])})):Qm?sw(t,Qm(r)):hv(n=dT(Object(r))).call(n,(function(e){aw(t,e,Gm(r,e))}))}return t}function pT(t,e){var i="undefined"!==typeof Bp&&Bf(t)||t["@@iterator"];if(!i){if(Xp(t)||(i=vT(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function vT(t,e){var i;if(t){if("string"===typeof t)return yT(t,e);var n=Lp(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Df(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yT(t,e):void 0}}function yT(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function gT(t){var e=bT();return function(){var i,n=mw(t);if(e){var r=mw(this).constructor;i=jm(n,arguments,r)}else i=n.apply(this,arguments);return yw(this,i)}}function bT(){if("undefined"===typeof Reflect||!jm)return!1;if(jm.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(jm(Boolean,[],(function(){}))),!0}catch(t){return!1}}function mT(t,e){return null==t[e]&&(t[e]=iT()),t}var wT=function(t){vw(n,t);var i=gT(n);function n(t,r){var o;return e(this,n),vu(lw(o=i.call(this)),"_queue",null),t&&!Xp(t)&&(r=t,t=[]),o._options=r||{},o._data=new ME,o.length=0,o._idProp=o._options.fieldId||"id",t&&t.length&&o.add(t),o.setOptions(r),o}return pu(n,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=rT.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===typeof t.queue&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var i,n=this,r=[];if(Xp(t)){var o=md(t).call(t,(function(t){return t[n._idProp]}));if(RE(o).call(o,(function(t){return n._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)i=this._addItem(t[s]),r.push(i)}else{if(!t||"object"!==typeof t)throw new Error("Unknown dataType");i=this._addItem(t),r.push(i)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var i=this,n=[],r=[],o=[],s=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&i._data.has(e)){var l=t,h=ey({},i._data.get(e)),c=i._updateItem(l);r.push(c),s.push(l),o.push(h)}else{var u=i._addItem(t);n.push(u)}};if(Xp(t))for(var h=0,c=t.length;h<c;h++)t[h]&&"object"===typeof t[h]?l(t[h]):console.warn("Ignoring input item, which is not an object at index "+h);else{if(!t||"object"!==typeof t)throw new Error("Unknown dataType");l(t)}if(n.length&&this._trigger("add",{items:n},e),r.length){var u={items:r,oldData:o,data:s};this._trigger("update",u,e)}return zp(n).call(n,r)}},{key:"updateOnly",value:function(t,e){var i,n=this;Xp(t)||(t=[t]);var r=md(i=md(t).call(t,(function(t){var e=n._data.get(t[n._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(i,(function(t){var e=t.oldData,i=t.update,r=e[n._idProp],o=cm(e,i);return n._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:md(r).call(r,(function(t){return t.id})),oldData:md(r).call(r,(function(t){return t.oldData})),data:md(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var i=void 0,n=void 0,r=void 0;nT(t)?(i=t,r=e):Xp(t)?(n=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&ud(r),l=[],h=void 0,c=void 0,u=void 0;if(null!=i)(h=this._data.get(i))&&a&&!a(h)&&(h=void 0);else if(null!=n)for(var d=0,f=n.length;d<f;d++)null==(h=this._data.get(n[d]))||a&&!a(h)||l.push(h);else for(var p,v=0,y=(c=Mp(GE(p=this._data).call(p))).length;v<y;v++)u=c[v],null==(h=this._data.get(u))||a&&!a(h)||l.push(h);if(r&&r.order&&void 0==i&&this._sort(l,r.order),r&&r.fields){var g=r.fields;if(void 0!=i&&null!=h)h=this._filterFields(h,g);else for(var b=0,m=l.length;b<m;b++)l[b]=this._filterFields(l[b],g)}if("Object"==s){for(var w={},_=0,x=l.length;_<x;_++){var k=l[_];w[k[this._idProp]]=k}return w}return null!=i?null!==(o=h)&&void 0!==o?o:null:l}},{key:"getIds",value:function(t){var e=this._data,i=t&&ud(t),n=t&&t.order,r=Mp(GE(e).call(e)),o=[];if(i)if(n){for(var s=[],a=0,l=r.length;a<l;a++){var h=r[a],c=this._data.get(h);null!=c&&i(c)&&s.push(c)}this._sort(s,n);for(var u=0,d=s.length;u<d;u++)o.push(s[u][this._idProp])}else for(var f=0,p=r.length;f<p;f++){var v=r[f],y=this._data.get(v);null!=y&&i(y)&&o.push(y[this._idProp])}else if(n){for(var g=[],b=0,m=r.length;b<m;b++){var w=r[b];g.push(e.get(w))}this._sort(g,n);for(var _=0,x=g.length;_<x;_++)o.push(g[_][this._idProp])}else for(var k=0,S=r.length;k<S;k++){var O=r[k],E=e.get(O);null!=E&&o.push(E[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var i=e&&ud(e),n=this._data,r=Mp(GE(n).call(n));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var l=o[s];t(l,l[this._idProp])}else for(var h=0,c=r.length;h<c;h++){var u=r[h],d=this._data.get(u);null==d||i&&!i(d)||t(d,u)}}},{key:"map",value:function(t,e){for(var i=e&&ud(e),n=[],r=this._data,o=Mp(GE(r).call(r)),s=0,a=o.length;s<a;s++){var l=o[s],h=this._data.get(l);null==h||i&&!i(h)||n.push(t(h,l))}return e&&e.order&&this._sort(n,e.order),n}},{key:"_filterFields",value:function(t,e){var i;return t?nd(i=Xp(e)?e:Zp(e)).call(i,(function(e,i){return e[i]=t[i],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"===typeof e){var i=e;MI(t).call(t,(function(t,e){var n=t[i],r=e[i];return n>r?1:n<r?-1:0}))}else{if("function"!==typeof e)throw new TypeError("Order must be a function or a string");MI(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var i=[],n=[],r=Xp(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var l=a[this._idProp];null!=l&&(i.push(l),n.push(a))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}},{key:"_remove",value:function(t){var e;if(nT(t)?e=t:t&&"object"===typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var i=this._data.get(e)||null;return this._data.delete(e),--this.length,i}return null}},{key:"clear",value:function(t){for(var e,i=Mp(GE(e=this._data).call(e)),n=[],r=0,o=i.length;r<o;r++)n.push(this._data.get(i[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:n},t),i}},{key:"max",value:function(t){var e,i,n=null,r=null,o=pT(RI(e=this._data).call(e));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s[t];"number"===typeof a&&(null==r||a>r)&&(n=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return n||null}},{key:"min",value:function(t){var e,i,n=null,r=null,o=pT(RI(e=this._data).call(e));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s[t];"number"===typeof a&&(null==r||a<r)&&(n=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return n||null}},{key:"distinct",value:function(t){for(var e=this._data,i=Mp(GE(e).call(e)),n=[],r=0,o=0,s=i.length;o<s;o++){for(var a=i[o],l=e.get(a)[t],h=!1,c=0;c<r;c++)if(n[c]==l){h=!0;break}h||void 0===l||(n[r]=l,r++)}return n}},{key:"_addItem",value:function(t){var e=mT(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+py(t)+")");var i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,fT(fT({},i),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new uT({[UI]:()=>_O.mark((function i(){var n,r,o,s;return _O.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=pT(t),i.prev=1,n.s();case 3:if((r=n.n()).done){i.next=11;break}if(o=r.value,null==(s=e.get(o))){i.next=9;break}return i.next=9,[o,s];case 9:i.next=3;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),n.e(i.t0);case 16:return i.prev=16,n.f(),i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[1,13,16,19]])}))()})}var i;return new uT({[UI]:ju(i=KI(this._data)).call(i,this._data)})}}]),n}(oT);function _T(t,e){var i="undefined"!==typeof Bp&&Bf(t)||t["@@iterator"];if(!i){if(Xp(t)||(i=xT(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function xT(t,e){var i;if(t){if("string"===typeof t)return kT(t,e);var n=Lp(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Df(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kT(t,e):void 0}}function kT(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function ST(t){var e=OT();return function(){var i,n=mw(t);if(e){var r=mw(this).constructor;i=jm(n,arguments,r)}else i=n.apply(this,arguments);return yw(this,i)}}function OT(){if("undefined"===typeof Reflect||!jm)return!1;if(jm.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(jm(Boolean,[],(function(){}))),!0}catch(t){return!1}}var ET=function(t){vw(n,t);var i=ST(n);function n(t,r){var o,s;return e(this,n),vu(lw(s=i.call(this)),"length",0),vu(lw(s),"_ids",new sT),s._options=r||{},s._listener=ju(o=s._onEvent).call(o,lw(s)),s.setData(t),s}return pu(n,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:ud(this._options)}),i=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:i})}if(null!=t){this._data=t;for(var n=this._data.getIds({filter:ud(this._options)}),r=0,o=n.length;r<o;r++){var s=n[r];this._ids.add(s)}this.length=n.length,this._trigger("add",{items:n})}else this._data=new wT;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:ud(this._options)}),e=Mp(this._ids),i={},n=[],r=[],o=[],s=0,a=t.length;s<a;s++){var l=t[s];i[l]=!0,this._ids.has(l)||(n.push(l),this._ids.add(l))}for(var h=0,c=e.length;h<c;h++){var u=e[h],d=this._data.get(u);null==d?console.error("If you see this, report it please."):i[u]||(r.push(u),o.push(d),this._ids.delete(u))}this.length+=n.length-r.length,n.length&&this._trigger("add",{items:n}),r.length&&this._trigger("remove",{items:r,oldData:o})}},{key:"get",value:function(t,e){if(null==this._data)return null;var i,n=null;nT(t)||Xp(t)?(n=t,i=e):i=t;var r=ey({},this._options,i),o=ud(this._options),s=i&&ud(i);return o&&s&&(r.filter=function(t){return o(t)&&s(t)}),null==n?this._data.get(r):this._data.get(n,r)}},{key:"getIds",value:function(t){if(this._data.length){var e,i=ud(this._options),n=null!=t?ud(t):null;return e=n?i?function(t){return i(t)&&n(t)}:n:i,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var i,n,r=ud(this._options),o=e&&ud(e);n=o?r?function(t){return r(t)&&o(t)}:o:r,hv(i=this._data).call(i,t,{filter:n,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var i,n,r=ud(this._options),o=e&&ud(e);return n=o?r?function(t){return r(t)&&o(t)}:o:r,md(i=this._data).call(i,t,{filter:n,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||{[UI]:ju(e=GE(this._ids)).call(e,this._ids)})}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var e,i="This data view has already been disposed of.",r={get:function(){throw new Error(i)},set:function(){throw new Error(i)},configurable:!1},o=_T(qp(n.prototype));try{for(o.s();!(e=o.n()).done;){var s=e.value;aw(this,s,r)}}catch(a){o.e(a)}finally{o.f()}}},{key:"_onEvent",value:function(t,e,i){if(e&&e.items&&this._data){var n=e.items,r=[],o=[],s=[],a=[],l=[],h=[];switch(t){case"add":for(var c=0,u=n.length;c<u;c++){var d=n[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=n.length;f<p;f++){var v=n[f];this.get(v)?this._ids.has(v)?(o.push(v),l.push(e.data[f]),a.push(e.oldData[f])):(this._ids.add(v),r.push(v)):this._ids.has(v)&&(this._ids.delete(v),s.push(v),h.push(e.oldData[f]))}break;case"remove":for(var y=0,g=n.length;y<g;y++){var b=n[y];this._ids.has(b)&&(this._ids.delete(b),s.push(b),h.push(e.oldData[y]))}}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r},i),o.length&&this._trigger("update",{items:o,oldData:a,data:l},i),s.length&&this._trigger("remove",{items:s,oldData:h},i)}}}]),n}(oT);function IT(t,e){return"object"===typeof e&&null!==e&&t===e.idProp&&"function"===typeof e.add&&"function"===typeof e.clear&&"function"===typeof e.distinct&&"function"===typeof hv(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof md(e)&&"function"===typeof e.max&&"function"===typeof e.min&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.remove&&"function"===typeof e.setOptions&&"function"===typeof e.stream&&"function"===typeof e.update&&"function"===typeof e.updateOnly}function TT(t,e){return"object"===typeof e&&null!==e&&t===e.idProp&&"function"===typeof hv(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof md(e)&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.stream&&IT(t,e.getDataSet())}t.DELETE=hm,t.DataSet=wT,t.DataStream=uT,t.DataView=ET,t.Queue=rT,t.createNewDataPipeFrom=Pd,t.isDataSetLike=IT,t.isDataViewLike=TT}(e)},212:function(t,e,i){!function(t,e){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof i.g?i.g:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){return t&&t.Math===Math&&t},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},l=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),h=l,c=Function.prototype,u=c.apply,d=c.call,f="object"==typeof Reflect&&Reflect.apply||(h?d.bind(u):function(){return d.apply(u,arguments)}),p=l,v=Function.prototype,y=v.call,g=p&&v.bind.bind(y,y),b=p?g:function(t){return function(){return y.apply(t,arguments)}},m=b,w=m({}.toString),_=m("".slice),x=function(t){return _(w(t),8,-1)},k=x,S=b,O=function(t){if("Function"===k(t))return S(t)},E="object"==typeof document&&document.all,I={all:E,IS_HTMLDDA:void 0===E&&void 0!==E},T=I.all,C=I.IS_HTMLDDA?function(t){return"function"==typeof t||t===T}:function(t){return"function"==typeof t},D={},A=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),M=l,B=Function.prototype.call,F=M?B.bind(B):function(){return B.apply(B,arguments)},P={},N={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,z=j&&!N.call({1:2},1);P.f=z?function(t){var e=j(this,t);return!!e&&e.enumerable}:N;var L,R,U=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},H=a,V=x,W=Object,Y=b("".split),q=H((function(){return!W("z").propertyIsEnumerable(0)}))?function(t){return"String"===V(t)?Y(t,""):W(t)}:W,X=function(t){return null==t},G=X,K=TypeError,$=function(t){if(G(t))throw new K("Can't call method on "+t);return t},J=q,Z=$,Q=function(t){return J(Z(t))},tt=C,et=I.all,it=I.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:tt(t)||t===et}:function(t){return"object"==typeof t?null!==t:tt(t)},nt={},rt=nt,ot=s,st=C,at=function(t){return st(t)?t:void 0},lt=function(t,e){return arguments.length<2?at(rt[t])||at(ot[t]):rt[t]&&rt[t][e]||ot[t]&&ot[t][e]},ht=b({}.isPrototypeOf),ct="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ut=s,dt=ct,ft=ut.process,pt=ut.Deno,vt=ft&&ft.versions||pt&&pt.version,yt=vt&&vt.v8;yt&&(R=(L=yt.split("."))[0]>0&&L[0]<4?1:+(L[0]+L[1])),!R&&dt&&(!(L=dt.match(/Edge\/(\d+)/))||L[1]>=74)&&(L=dt.match(/Chrome\/(\d+)/))&&(R=+L[1]);var gt=R,bt=gt,mt=a,wt=s.String,_t=!!Object.getOwnPropertySymbols&&!mt((function(){var t=Symbol("symbol detection");return!wt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&bt&&bt<41})),xt=_t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,kt=lt,St=C,Ot=ht,Et=Object,It=xt?function(t){return"symbol"==typeof t}:function(t){var e=kt("Symbol");return St(e)&&Ot(e.prototype,Et(t))},Tt=String,Ct=function(t){try{return Tt(t)}catch(t){return"Object"}},Dt=C,At=Ct,Mt=TypeError,Bt=function(t){if(Dt(t))return t;throw new Mt(At(t)+" is not a function")},Ft=Bt,Pt=X,Nt=function(t,e){var i=t[e];return Pt(i)?void 0:Ft(i)},jt=F,zt=C,Lt=it,Rt=TypeError,Ut={exports:{}},Ht=s,Vt=Object.defineProperty,Wt=function(t,e){try{Vt(Ht,t,{value:e,configurable:!0,writable:!0})}catch(n){Ht[t]=e}return e},Yt="__core-js_shared__",qt=s[Yt]||Wt(Yt,{}),Xt=qt;(Ut.exports=function(t,e){return Xt[t]||(Xt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Gt=Ut.exports,Kt=$,$t=Object,Jt=function(t){return $t(Kt(t))},Zt=Jt,Qt=b({}.hasOwnProperty),te=Object.hasOwn||function(t,e){return Qt(Zt(t),e)},ee=b,ie=0,ne=Math.random(),re=ee(1..toString),oe=function(t){return"Symbol("+(void 0===t?"":t)+")_"+re(++ie+ne,36)},se=Gt,ae=te,le=oe,he=_t,ce=xt,ue=s.Symbol,de=se("wks"),fe=ce?ue.for||ue:ue&&ue.withoutSetter||le,pe=function(t){return ae(de,t)||(de[t]=he&&ae(ue,t)?ue[t]:fe("Symbol."+t)),de[t]},ve=F,ye=it,ge=It,be=Nt,me=function(t,e){var i,n;if("string"===e&&zt(i=t.toString)&&!Lt(n=jt(i,t)))return n;if(zt(i=t.valueOf)&&!Lt(n=jt(i,t)))return n;if("string"!==e&&zt(i=t.toString)&&!Lt(n=jt(i,t)))return n;throw new Rt("Can't convert object to primitive value")},we=TypeError,_e=pe("toPrimitive"),xe=function(t,e){if(!ye(t)||ge(t))return t;var i,n=be(t,_e);if(n){if(void 0===e&&(e="default"),i=ve(n,t,e),!ye(i)||ge(i))return i;throw new we("Can't convert object to primitive value")}return void 0===e&&(e="number"),me(t,e)},ke=It,Se=function(t){var e=xe(t,"string");return ke(e)?e:e+""},Oe=it,Ee=s.document,Ie=Oe(Ee)&&Oe(Ee.createElement),Te=function(t){return Ie?Ee.createElement(t):{}},Ce=Te,De=!A&&!a((function(){return 7!==Object.defineProperty(Ce("div"),"a",{get:function(){return 7}}).a})),Ae=A,Me=F,Be=P,Fe=U,Pe=Q,Ne=Se,je=te,ze=De,Le=Object.getOwnPropertyDescriptor;D.f=Ae?Le:function(t,e){if(t=Pe(t),e=Ne(e),ze)try{return Le(t,e)}catch(t){}if(je(t,e))return Fe(!Me(Be.f,t,e),t[e])};var Re=a,Ue=C,He=/#|\.prototype\./,Ve=function(t,e){var i=Ye[We(t)];return i===Xe||i!==qe&&(Ue(e)?Re(e):!!e)},We=Ve.normalize=function(t){return String(t).replace(He,".").toLowerCase()},Ye=Ve.data={},qe=Ve.NATIVE="N",Xe=Ve.POLYFILL="P",Ge=Ve,Ke=Bt,$e=l,Je=O(O.bind),Ze=function(t,e){return Ke(t),void 0===e?t:$e?Je(t,e):function(){return t.apply(e,arguments)}},Qe={},ti=A&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ei=it,ii=String,ni=TypeError,ri=function(t){if(ei(t))return t;throw new ni(ii(t)+" is not an object")},oi=A,si=De,ai=ti,li=ri,hi=Se,ci=TypeError,ui=Object.defineProperty,di=Object.getOwnPropertyDescriptor,fi="enumerable",pi="configurable",vi="writable";Qe.f=oi?ai?function(t,e,i){if(li(t),e=hi(e),li(i),"function"==typeof t&&"prototype"===e&&"value"in i&&vi in i&&!i[vi]){var n=di(t,e);n&&n[vi]&&(t[e]=i.value,i={configurable:pi in i?i[pi]:n[pi],enumerable:fi in i?i[fi]:n[fi],writable:!1})}return ui(t,e,i)}:ui:function(t,e,i){if(li(t),e=hi(e),li(i),si)try{return ui(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new ci("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var yi=Qe,gi=U,bi=A?function(t,e,i){return yi.f(t,e,gi(1,i))}:function(t,e,i){return t[e]=i,t},mi=s,wi=f,_i=O,xi=C,ki=D.f,Si=Ge,Oi=nt,Ei=Ze,Ii=bi,Ti=te,Ci=function(t){var e=function(i,n,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,n)}return new t(i,n,r)}return wi(t,this,arguments)};return e.prototype=t.prototype,e},Di=function(t,e){var i,n,r,o,s,a,l,h,c,u=t.target,d=t.global,f=t.stat,p=t.proto,v=d?mi:f?mi[u]:(mi[u]||{}).prototype,y=d?Oi:Oi[u]||Ii(Oi,u,{})[u],g=y.prototype;for(o in e)n=!(i=Si(d?o:u+(f?".":"#")+o,t.forced))&&v&&Ti(v,o),a=y[o],n&&(l=t.dontCallGetSet?(c=ki(v,o))&&c.value:v[o]),s=n&&l?l:e[o],n&&typeof a==typeof s||(h=t.bind&&n?Ei(s,mi):t.wrap&&n?Ci(s):p&&xi(s)?_i(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Ii(h,"sham",!0),Ii(y,o,h),p&&(Ti(Oi,r=u+"Prototype")||Ii(Oi,r,{}),Ii(Oi[r],o,s),t.real&&g&&(i||!g[o])&&Ii(g,o,s)))},Ai=Math.ceil,Mi=Math.floor,Bi=Math.trunc||function(t){var e=+t;return(e>0?Mi:Ai)(e)},Fi=function(t){var e=+t;return e!=e||0===e?0:Bi(e)},Pi=Fi,Ni=Math.max,ji=Math.min,zi=function(t,e){var i=Pi(t);return i<0?Ni(i+e,0):ji(i,e)},Li=Fi,Ri=Math.min,Ui=function(t){return t>0?Ri(Li(t),9007199254740991):0},Hi=function(t){return Ui(t.length)},Vi=Q,Wi=zi,Yi=Hi,qi=function(t){return function(e,i,n){var r,o=Vi(e),s=Yi(o),a=Wi(n,s);if(t&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===i)return t||a||0;return!t&&-1}},Xi={includes:qi(!0),indexOf:qi(!1)},Gi={},Ki=te,$i=Q,Ji=Xi.indexOf,Zi=Gi,Qi=b([].push),tn=function(t,e){var i,n=$i(t),r=0,o=[];for(i in n)!Ki(Zi,i)&&Ki(n,i)&&Qi(o,i);for(;e.length>r;)Ki(n,i=e[r++])&&(~Ji(o,i)||Qi(o,i));return o},en=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],nn=tn,rn=en,on=Object.keys||function(t){return nn(t,rn)},sn={};sn.f=Object.getOwnPropertySymbols;var an=A,ln=b,hn=F,cn=a,un=on,dn=sn,fn=P,pn=Jt,vn=q,yn=Object.assign,gn=Object.defineProperty,bn=ln([].concat),mn=!yn||cn((function(){if(an&&1!==yn({b:1},yn(gn({},"a",{enumerable:!0,get:function(){gn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!==yn({},t)[i]||un(yn({},e)).join("")!==n}))?function(t,e){for(var i=pn(t),n=arguments.length,r=1,o=dn.f,s=fn.f;n>r;)for(var a,l=vn(arguments[r++]),h=o?bn(un(l),o(l)):un(l),c=h.length,u=0;c>u;)a=h[u++],an&&!hn(s,l,a)||(i[a]=l[a]);return i}:yn,wn=mn;Di({target:"Object",stat:!0,arity:2,forced:Object.assign!==wn},{assign:wn});var _n=r(nt.Object.assign),xn=b([].slice),kn=b,Sn=Bt,On=it,En=te,In=xn,Tn=l,Cn=Function,Dn=kn([].concat),An=kn([].join),Mn={},Bn=Tn?Cn.bind:function(t){var e=Sn(this),i=e.prototype,n=In(arguments,1),r=function(){var i=Dn(n,In(arguments));return this instanceof r?function(t,e,i){if(!En(Mn,e)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";Mn[e]=Cn("C,a","return new C("+An(n,",")+")")}return Mn[e](t,i)}(e,i.length,i):e.apply(t,i)};return On(i)&&(r.prototype=i),r},Fn=Bn;Di({target:"Function",proto:!0,forced:Function.bind!==Fn},{bind:Fn});var Pn=nt,Nn=function(t){return Pn[t+"Prototype"]},jn=Nn("Function").bind,zn=ht,Ln=jn,Rn=Function.prototype,Un=function(t){var e=t.bind;return t===Rn||zn(Rn,t)&&e===Rn.bind?Ln:e},Hn=Un,Vn=r(Hn);function Wn(t,e,i,n){t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()}function Yn(t,e,i,n,r,o){var s=Math.PI/180;n-2*o<0&&(o=n/2),r-2*o<0&&(o=r/2),t.beginPath(),t.moveTo(e+o,i),t.lineTo(e+n-o,i),t.arc(e+n-o,i+o,o,270*s,360*s,!1),t.lineTo(e+n,i+r-o),t.arc(e+n-o,i+r-o,o,0,90*s,!1),t.lineTo(e+o,i+r),t.arc(e+o,i+r-o,o,90*s,180*s,!1),t.lineTo(e,i+o),t.arc(e+o,i+o,o,180*s,270*s,!1),t.closePath()}function qn(t,e,i,n,r){var o=.5522848,s=n/2*o,a=r/2*o,l=e+n,h=i+r,c=e+n/2,u=i+r/2;t.beginPath(),t.moveTo(e,u),t.bezierCurveTo(e,u-a,c-s,i,c,i),t.bezierCurveTo(c+s,i,l,u-a,l,u),t.bezierCurveTo(l,u+a,c+s,h,c,h),t.bezierCurveTo(c-s,h,e,u+a,e,u),t.closePath()}function Xn(t,e,i,n,r){var o=r*(1/3),s=.5522848,a=n/2*s,l=o/2*s,h=e+n,c=i+o,u=e+n/2,d=i+o/2,f=i+(r-o/2),p=i+r;t.beginPath(),t.moveTo(h,d),t.bezierCurveTo(h,d+l,u+a,c,u,c),t.bezierCurveTo(u-a,c,e,d+l,e,d),t.bezierCurveTo(e,d-l,u-a,i,u,i),t.bezierCurveTo(u+a,i,h,d-l,h,d),t.lineTo(h,f),t.bezierCurveTo(h,f+l,u+a,p,u,p),t.bezierCurveTo(u-a,p,e,f+l,e,f),t.lineTo(e,d)}function Gn(t,e,i,n,r,o){t.beginPath(),t.moveTo(e,i);for(var s=o.length,a=n-e,l=r-i,h=l/a,c=Math.sqrt(a*a+l*l),u=0,d=!0,f=0,p=+o[0];c>=.1;)(p=+o[u++%s])>c&&(p=c),f=Math.sqrt(p*p/(1+h*h)),e+=f=a<0?-f:f,i+=h*f,!0===d?t.lineTo(e,i):t.moveTo(e,i),c-=p,d=!d}var Kn={circle:Wn,dashedLine:Gn,database:Xn,diamond:function(t,e,i,n){t.beginPath(),t.lineTo(e,i+n),t.lineTo(e+n,i),t.lineTo(e,i-n),t.lineTo(e-n,i),t.closePath()},ellipse:qn,ellipse_vis:qn,hexagon:function(t,e,i,n){t.beginPath();var r=2*Math.PI/6;t.moveTo(e+n,i);for(var o=1;o<6;o++)t.lineTo(e+n*Math.cos(r*o),i+n*Math.sin(r*o));t.closePath()},roundRect:Yn,square:function(t,e,i,n){t.beginPath(),t.rect(e-n,i-n,2*n,2*n),t.closePath()},star:function(t,e,i,n){t.beginPath(),i+=.1*(n*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*n:.5*n;t.lineTo(e+o*Math.sin(2*r*Math.PI/10),i-o*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,i,n){t.beginPath(),i+=.275*(n*=1.15);var r=2*n,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,i-(a-s)),t.lineTo(e+o,i+s),t.lineTo(e-o,i+s),t.lineTo(e,i-(a-s)),t.closePath()},triangleDown:function(t,e,i,n){t.beginPath(),i-=.275*(n*=1.15);var r=2*n,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,i+(a-s)),t.lineTo(e+o,i-s),t.lineTo(e-o,i-s),t.lineTo(e,i+(a-s)),t.closePath()}},$n={exports:{}};!function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}($n);var Jn=r($n.exports),Zn={};Zn[pe("toStringTag")]="z";var Qn,tr,er,ir="[object z]"===String(Zn),nr=ir,rr=C,or=x,sr=pe("toStringTag"),ar=Object,lr="Arguments"===or(function(){return arguments}()),hr=nr?or:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=ar(t),sr))?i:lr?or(e):"Object"===(n=or(e))&&rr(e.callee)?"Arguments":n},cr=hr,ur=String,dr=function(t){if("Symbol"===cr(t))throw new TypeError("Cannot convert a Symbol value to a string");return ur(t)},fr=b,pr=Fi,vr=dr,yr=$,gr=fr("".charAt),br=fr("".charCodeAt),mr=fr("".slice),wr=function(t){return function(e,i){var n,r,o=vr(yr(e)),s=pr(i),a=o.length;return s<0||s>=a?t?"":void 0:(n=br(o,s))<55296||n>56319||s+1===a||(r=br(o,s+1))<56320||r>57343?t?gr(o,s):n:t?mr(o,s,s+2):r-56320+(n-55296<<10)+65536}},_r={codeAt:wr(!1),charAt:wr(!0)},xr=C,kr=s.WeakMap,Sr=xr(kr)&&/native code/.test(String(kr)),Or=oe,Er=Gt("keys"),Ir=function(t){return Er[t]||(Er[t]=Or(t))},Tr=Sr,Cr=s,Dr=it,Ar=bi,Mr=te,Br=qt,Fr=Ir,Pr=Gi,Nr="Object already initialized",jr=Cr.TypeError,zr=Cr.WeakMap;if(Tr||Br.state){var Lr=Br.state||(Br.state=new zr);Lr.get=Lr.get,Lr.has=Lr.has,Lr.set=Lr.set,Qn=function(t,e){if(Lr.has(t))throw new jr(Nr);return e.facade=t,Lr.set(t,e),e},tr=function(t){return Lr.get(t)||{}},er=function(t){return Lr.has(t)}}else{var Rr=Fr("state");Pr[Rr]=!0,Qn=function(t,e){if(Mr(t,Rr))throw new jr(Nr);return e.facade=t,Ar(t,Rr,e),e},tr=function(t){return Mr(t,Rr)?t[Rr]:{}},er=function(t){return Mr(t,Rr)}}var Ur={set:Qn,get:tr,has:er,enforce:function(t){return er(t)?tr(t):Qn(t,{})},getterFor:function(t){return function(e){var i;if(!Dr(e)||(i=tr(e)).type!==t)throw new jr("Incompatible receiver, "+t+" required");return i}}},Hr=A,Vr=te,Wr=Function.prototype,Yr=Hr&&Object.getOwnPropertyDescriptor,qr=Vr(Wr,"name"),Xr={EXISTS:qr,PROPER:qr&&"something"===function(){}.name,CONFIGURABLE:qr&&(!Hr||Hr&&Yr(Wr,"name").configurable)},Gr={},Kr=A,$r=ti,Jr=Qe,Zr=ri,Qr=Q,to=on;Gr.f=Kr&&!$r?Object.defineProperties:function(t,e){Zr(t);for(var i,n=Qr(e),r=to(e),o=r.length,s=0;o>s;)Jr.f(t,i=r[s++],n[i]);return t};var eo,io=lt("document","documentElement"),no=ri,ro=Gr,oo=en,so=Gi,ao=io,lo=Te,ho="prototype",co="script",uo=Ir("IE_PROTO"),fo=function(){},po=function(t){return"<"+co+">"+t+"</"+co+">"},vo=function(t){t.write(po("")),t.close();var e=t.parentWindow.Object;return t=null,e},yo=function(){try{eo=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;yo="undefined"!=typeof document?document.domain&&eo?vo(eo):(e=lo("iframe"),i="java"+co+":",e.style.display="none",ao.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(po("document.F=Object")),t.close(),t.F):vo(eo);for(var n=oo.length;n--;)delete yo[ho][oo[n]];return yo()};so[uo]=!0;var go,bo,mo,wo=Object.create||function(t,e){var i;return null!==t?(fo[ho]=no(t),i=new fo,fo[ho]=null,i[uo]=t):i=yo(),void 0===e?i:ro.f(i,e)},_o=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),xo=te,ko=C,So=Jt,Oo=_o,Eo=Ir("IE_PROTO"),Io=Object,To=Io.prototype,Co=Oo?Io.getPrototypeOf:function(t){var e=So(t);if(xo(e,Eo))return e[Eo];var i=e.constructor;return ko(i)&&e instanceof i?i.prototype:e instanceof Io?To:null},Do=bi,Ao=function(t,e,i,n){return n&&n.enumerable?t[e]=i:Do(t,e,i),t},Mo=a,Bo=C,Fo=it,Po=wo,No=Co,jo=Ao,zo=pe("iterator"),Lo=!1;[].keys&&("next"in(mo=[].keys())?(bo=No(No(mo)))!==Object.prototype&&(go=bo):Lo=!0);var Ro=!Fo(go)||Mo((function(){var t={};return go[zo].call(t)!==t}));Bo((go=Ro?{}:Po(go))[zo])||jo(go,zo,(function(){return this}));var Uo={IteratorPrototype:go,BUGGY_SAFARI_ITERATORS:Lo},Ho=hr,Vo=ir?{}.toString:function(){return"[object "+Ho(this)+"]"},Wo=ir,Yo=Qe.f,qo=bi,Xo=te,Go=Vo,Ko=pe("toStringTag"),$o=function(t,e,i,n){if(t){var r=i?t:t.prototype;Xo(r,Ko)||Yo(r,Ko,{configurable:!0,value:e}),n&&!Wo&&qo(r,"toString",Go)}},Jo={},Zo=Uo.IteratorPrototype,Qo=wo,ts=U,es=$o,is=Jo,ns=function(){return this},rs=b,os=Bt,ss=C,as=String,ls=TypeError,hs=function(t,e,i){try{return rs(os(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},cs=ri,us=function(t){if("object"==typeof t||ss(t))return t;throw new ls("Can't set "+as(t)+" as a prototype")},ds=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=hs(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return cs(i),us(n),e?t(i,n):i.__proto__=n,i}}():void 0),fs=Di,ps=F,vs=function(t,e,i,n){var r=e+" Iterator";return t.prototype=Qo(Zo,{next:ts(+!n,i)}),es(t,r,!1,!0),is[r]=ns,t},ys=Co,gs=$o,bs=Ao,ms=Jo,ws=Uo,_s=Xr.PROPER,xs=ws.BUGGY_SAFARI_ITERATORS,ks=pe("iterator"),Ss="keys",Os="values",Es="entries",Is=function(){return this},Ts=function(t,e,i,n,r,o,s){vs(i,e,n);var a,l,h,c=function(t){if(t===r&&v)return v;if(!xs&&t&&t in f)return f[t];switch(t){case Ss:case Os:case Es:return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[ks]||f["@@iterator"]||r&&f[r],v=!xs&&p||c(r),y="Array"===e&&f.entries||p;if(y&&(a=ys(y.call(new t)))!==Object.prototype&&a.next&&(gs(a,u,!0,!0),ms[u]=Is),_s&&r===Os&&p&&p.name!==Os&&(d=!0,v=function(){return ps(p,this)}),r)if(l={values:c(Os),keys:o?v:c(Ss),entries:c(Es)},s)for(h in l)(xs||d||!(h in f))&&bs(f,h,l[h]);else fs({target:e,proto:!0,forced:xs||d},l);return s&&f[ks]!==v&&bs(f,ks,v,{name:r}),ms[e]=v,l},Cs=function(t,e){return{value:t,done:e}},Ds=_r.charAt,As=dr,Ms=Ur,Bs=Ts,Fs=Cs,Ps="String Iterator",Ns=Ms.set,js=Ms.getterFor(Ps);Bs(String,"String",(function(t){Ns(this,{type:Ps,string:As(t),index:0})}),(function(){var t,e=js(this),i=e.string,n=e.index;return n>=i.length?Fs(void 0,!0):(t=Ds(i,n),e.index+=t.length,Fs(t,!1))}));var zs=F,Ls=ri,Rs=Nt,Us=function(t,e,i){var n,r;Ls(t);try{if(!(n=Rs(t,"return"))){if("throw"===e)throw i;return i}n=zs(n,t)}catch(t){r=!0,n=t}if("throw"===e)throw i;if(r)throw n;return Ls(n),i},Hs=ri,Vs=Us,Ws=Jo,Ys=pe("iterator"),qs=Array.prototype,Xs=function(t){return void 0!==t&&(Ws.Array===t||qs[Ys]===t)},Gs=C,Ks=qt,$s=b(Function.toString);Gs(Ks.inspectSource)||(Ks.inspectSource=function(t){return $s(t)});var Js=Ks.inspectSource,Zs=b,Qs=a,ta=C,ea=hr,ia=Js,na=function(){},ra=[],oa=lt("Reflect","construct"),sa=/^\s*(?:class|function)\b/,aa=Zs(sa.exec),la=!sa.test(na),ha=function(t){if(!ta(t))return!1;try{return oa(na,ra,t),!0}catch(t){return!1}},ca=function(t){if(!ta(t))return!1;switch(ea(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return la||!!aa(sa,ia(t))}catch(t){return!0}};ca.sham=!0;var ua=!oa||Qs((function(){var t;return ha(ha.call)||!ha(Object)||!ha((function(){t=!0}))||t}))?ca:ha,da=Se,fa=Qe,pa=U,va=function(t,e,i){var n=da(e);n in t?fa.f(t,n,pa(0,i)):t[n]=i},ya=hr,ga=Nt,ba=X,ma=Jo,wa=pe("iterator"),_a=function(t){if(!ba(t))return ga(t,wa)||ga(t,"@@iterator")||ma[ya(t)]},xa=F,ka=Bt,Sa=ri,Oa=Ct,Ea=_a,Ia=TypeError,Ta=function(t,e){var i=arguments.length<2?Ea(t):e;if(ka(i))return Sa(xa(i,t));throw new Ia(Oa(t)+" is not iterable")},Ca=Ze,Da=F,Aa=Jt,Ma=function(t,e,i,n){try{return n?e(Hs(i)[0],i[1]):e(i)}catch(e){Vs(t,"throw",e)}},Ba=Xs,Fa=ua,Pa=Hi,Na=va,ja=Ta,za=_a,La=Array,Ra=pe("iterator"),Ua=!1;try{var Ha=0,Va={next:function(){return{done:!!Ha++}},return:function(){Ua=!0}};Va[Ra]=function(){return this},Array.from(Va,(function(){throw 2}))}catch(t){}var Wa=function(t){var e=Aa(t),i=Fa(this),n=arguments.length,r=n>1?arguments[1]:void 0,o=void 0!==r;o&&(r=Ca(r,n>2?arguments[2]:void 0));var s,a,l,h,c,u,d=za(e),f=0;if(!d||this===La&&Ba(d))for(s=Pa(e),a=i?new this(s):La(s);s>f;f++)u=o?r(e[f],f):e[f],Na(a,f,u);else for(c=(h=ja(e,d)).next,a=i?new this:[];!(l=Da(c,h)).done;f++)u=o?Ma(h,r,[l.value,f],!0):l.value,Na(a,f,u);return a.length=f,a},Ya=function(t,e){try{if(!e&&!Ua)return!1}catch(t){return!1}var i=!1;try{var n={};n[Ra]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i};Di({target:"Array",stat:!0,forced:!Ya((function(t){Array.from(t)}))},{from:Wa});var qa=nt.Array.from,Xa=r(qa),Ga=Q,Ka=Jo,$a=Ur;Qe.f;var Ja=Ts,Za=Cs,Qa="Array Iterator",tl=$a.set,el=$a.getterFor(Qa);Ja(Array,"Array",(function(t,e){tl(this,{type:Qa,target:Ga(t),index:0,kind:e})}),(function(){var t=el(this),e=t.target,i=t.kind,n=t.index++;if(!e||n>=e.length)return t.target=void 0,Za(void 0,!0);switch(i){case"keys":return Za(n,!1);case"values":return Za(e[n],!1)}return Za([n,e[n]],!1)}),"values"),Ka.Arguments=Ka.Array;var il=_a,nl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},rl=s,ol=hr,sl=bi,al=Jo,ll=pe("toStringTag");for(var hl in nl){var cl=rl[hl],ul=cl&&cl.prototype;ul&&ol(ul)!==ll&&sl(ul,ll,hl),al[hl]=al.Array}var dl=il,fl=r(dl),pl=r(dl);function vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var yl={exports:{}},gl=Di,bl=A,ml=Qe.f;gl({target:"Object",stat:!0,forced:Object.defineProperty!==ml,sham:!bl},{defineProperty:ml});var wl=nt.Object,_l=yl.exports=function(t,e,i){return wl.defineProperty(t,e,i)};wl.defineProperty.sham&&(_l.sham=!0);var xl=yl.exports,kl=r(xl),Sl=x,Ol=Array.isArray||function(t){return"Array"===Sl(t)},El=TypeError,Il=function(t){if(t>9007199254740991)throw El("Maximum allowed index exceeded");return t},Tl=Ol,Cl=ua,Dl=it,Al=pe("species"),Ml=Array,Bl=function(t){var e;return Tl(t)&&(e=t.constructor,(Cl(e)&&(e===Ml||Tl(e.prototype))||Dl(e)&&null===(e=e[Al]))&&(e=void 0)),void 0===e?Ml:e},Fl=function(t,e){return new(Bl(t))(0===e?0:e)},Pl=a,Nl=gt,jl=pe("species"),zl=function(t){return Nl>=51||!Pl((function(){var e=[];return(e.constructor={})[jl]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ll=Di,Rl=a,Ul=Ol,Hl=it,Vl=Jt,Wl=Hi,Yl=Il,ql=va,Xl=Fl,Gl=zl,Kl=gt,$l=pe("isConcatSpreadable"),Jl=Kl>=51||!Rl((function(){var t=[];return t[$l]=!1,t.concat()[0]!==t})),Zl=function(t){if(!Hl(t))return!1;var e=t[$l];return void 0!==e?!!e:Ul(t)};Ll({target:"Array",proto:!0,arity:1,forced:!Jl||!Gl("concat")},{concat:function(t){var e,i,n,r,o,s=Vl(this),a=Xl(s,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(Zl(o=-1===e?s:arguments[e]))for(r=Wl(o),Yl(l+r),i=0;i<r;i++,l++)i in o&&ql(a,l,o[i]);else Yl(l+1),ql(a,l++,o);return a.length=l,a}});var Ql={},th=tn,eh=en.concat("length","prototype");Ql.f=Object.getOwnPropertyNames||function(t){return th(t,eh)};var ih={},nh=zi,rh=Hi,oh=va,sh=Array,ah=Math.max,lh=function(t,e,i){for(var n=rh(t),r=nh(e,n),o=nh(void 0===i?n:i,n),s=sh(ah(o-r,0)),a=0;r<o;r++,a++)oh(s,a,t[r]);return s.length=a,s},hh=x,ch=Q,uh=Ql.f,dh=lh,fh="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ih.f=function(t){return fh&&"Window"===hh(t)?function(t){try{return uh(t)}catch(t){return dh(fh)}}(t):uh(ch(t))};var ph=Qe,vh=function(t,e,i){return ph.f(t,e,i)},yh={},gh=pe;yh.f=gh;var bh=nt,mh=te,wh=yh,_h=Qe.f,xh=function(t){var e=bh.Symbol||(bh.Symbol={});mh(e,t)||_h(e,t,{value:wh.f(t)})},kh=F,Sh=lt,Oh=pe,Eh=Ao,Ih=function(){var t=Sh("Symbol"),e=t&&t.prototype,i=e&&e.valueOf,n=Oh("toPrimitive");e&&!e[n]&&Eh(e,n,(function(t){return kh(i,this)}),{arity:1})},Th=Ze,Ch=q,Dh=Jt,Ah=Hi,Mh=Fl,Bh=b([].push),Fh=function(t){var e=1===t,i=2===t,n=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(l,h,c,u){for(var d,f,p=Dh(l),v=Ch(p),y=Th(h,c),g=Ah(v),b=0,m=u||Mh,w=e?m(l,g):i||s?m(l,0):void 0;g>b;b++)if((a||b in v)&&(f=y(d=v[b],b,p),t))if(e)w[b]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:Bh(w,d)}else switch(t){case 4:return!1;case 7:Bh(w,d)}return o?-1:n||r?r:w}},Ph={forEach:Fh(0),map:Fh(1),filter:Fh(2),some:Fh(3),every:Fh(4),find:Fh(5),findIndex:Fh(6),filterReject:Fh(7)},Nh=Di,jh=s,zh=F,Lh=b,Rh=A,Uh=_t,Hh=a,Vh=te,Wh=ht,Yh=ri,qh=Q,Xh=Se,Gh=dr,Kh=U,$h=wo,Jh=on,Zh=Ql,Qh=ih,tc=sn,ec=D,ic=Qe,nc=Gr,rc=P,oc=Ao,sc=vh,ac=Gt,lc=Gi,hc=oe,cc=pe,uc=yh,dc=xh,fc=Ih,pc=$o,vc=Ur,yc=Ph.forEach,gc=Ir("hidden"),bc="Symbol",mc="prototype",wc=vc.set,_c=vc.getterFor(bc),xc=Object[mc],kc=jh.Symbol,Sc=kc&&kc[mc],Oc=jh.RangeError,Ec=jh.TypeError,Ic=jh.QObject,Tc=ec.f,Cc=ic.f,Dc=Qh.f,Ac=rc.f,Mc=Lh([].push),Bc=ac("symbols"),Fc=ac("op-symbols"),Pc=ac("wks"),Nc=!Ic||!Ic[mc]||!Ic[mc].findChild,jc=function(t,e,i){var n=Tc(xc,e);n&&delete xc[e],Cc(t,e,i),n&&t!==xc&&Cc(xc,e,n)},zc=Rh&&Hh((function(){return 7!==$h(Cc({},"a",{get:function(){return Cc(this,"a",{value:7}).a}})).a}))?jc:Cc,Lc=function(t,e){var i=Bc[t]=$h(Sc);return wc(i,{type:bc,tag:t,description:e}),Rh||(i.description=e),i},Rc=function(t,e,i){t===xc&&Rc(Fc,e,i),Yh(t);var n=Xh(e);return Yh(i),Vh(Bc,n)?(i.enumerable?(Vh(t,gc)&&t[gc][n]&&(t[gc][n]=!1),i=$h(i,{enumerable:Kh(0,!1)})):(Vh(t,gc)||Cc(t,gc,Kh(1,{})),t[gc][n]=!0),zc(t,n,i)):Cc(t,n,i)},Uc=function(t,e){Yh(t);var i=qh(e),n=Jh(i).concat(Yc(i));return yc(n,(function(e){Rh&&!zh(Hc,i,e)||Rc(t,e,i[e])})),t},Hc=function(t){var e=Xh(t),i=zh(Ac,this,e);return!(this===xc&&Vh(Bc,e)&&!Vh(Fc,e))&&(!(i||!Vh(this,e)||!Vh(Bc,e)||Vh(this,gc)&&this[gc][e])||i)},Vc=function(t,e){var i=qh(t),n=Xh(e);if(i!==xc||!Vh(Bc,n)||Vh(Fc,n)){var r=Tc(i,n);return!r||!Vh(Bc,n)||Vh(i,gc)&&i[gc][n]||(r.enumerable=!0),r}},Wc=function(t){var e=Dc(qh(t)),i=[];return yc(e,(function(t){Vh(Bc,t)||Vh(lc,t)||Mc(i,t)})),i},Yc=function(t){var e=t===xc,i=Dc(e?Fc:qh(t)),n=[];return yc(i,(function(t){!Vh(Bc,t)||e&&!Vh(xc,t)||Mc(n,Bc[t])})),n};Uh||(kc=function(){if(Wh(Sc,this))throw new Ec("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Gh(arguments[0]):void 0,e=hc(t),i=function(t){this===xc&&zh(i,Fc,t),Vh(this,gc)&&Vh(this[gc],e)&&(this[gc][e]=!1);var n=Kh(1,t);try{zc(this,e,n)}catch(t){if(!(t instanceof Oc))throw t;jc(this,e,n)}};return Rh&&Nc&&zc(xc,e,{configurable:!0,set:i}),Lc(e,t)},oc(Sc=kc[mc],"toString",(function(){return _c(this).tag})),oc(kc,"withoutSetter",(function(t){return Lc(hc(t),t)})),rc.f=Hc,ic.f=Rc,nc.f=Uc,ec.f=Vc,Zh.f=Qh.f=Wc,tc.f=Yc,uc.f=function(t){return Lc(cc(t),t)},Rh&&sc(Sc,"description",{configurable:!0,get:function(){return _c(this).description}})),Nh({global:!0,constructor:!0,wrap:!0,forced:!Uh,sham:!Uh},{Symbol:kc}),yc(Jh(Pc),(function(t){dc(t)})),Nh({target:bc,stat:!0,forced:!Uh},{useSetter:function(){Nc=!0},useSimple:function(){Nc=!1}}),Nh({target:"Object",stat:!0,forced:!Uh,sham:!Rh},{create:function(t,e){return void 0===e?$h(t):Uc($h(t),e)},defineProperty:Rc,defineProperties:Uc,getOwnPropertyDescriptor:Vc}),Nh({target:"Object",stat:!0,forced:!Uh},{getOwnPropertyNames:Wc}),fc(),pc(kc,bc),lc[gc]=!0;var qc=_t&&!!Symbol.for&&!!Symbol.keyFor,Xc=Di,Gc=lt,Kc=te,$c=dr,Jc=Gt,Zc=qc,Qc=Jc("string-to-symbol-registry"),tu=Jc("symbol-to-string-registry");Xc({target:"Symbol",stat:!0,forced:!Zc},{for:function(t){var e=$c(t);if(Kc(Qc,e))return Qc[e];var i=Gc("Symbol")(e);return Qc[e]=i,tu[i]=e,i}});var eu=Di,iu=te,nu=It,ru=Ct,ou=qc,su=Gt("symbol-to-string-registry");eu({target:"Symbol",stat:!0,forced:!ou},{keyFor:function(t){if(!nu(t))throw new TypeError(ru(t)+" is not a symbol");if(iu(su,t))return su[t]}});var au=Ol,lu=C,hu=x,cu=dr,uu=b([].push),du=Di,fu=lt,pu=f,vu=F,yu=b,gu=a,bu=C,mu=It,wu=xn,_u=function(t){if(lu(t))return t;if(au(t)){for(var e=t.length,i=[],n=0;n<e;n++){var r=t[n];"string"==typeof r?uu(i,r):"number"!=typeof r&&"Number"!==hu(r)&&"String"!==hu(r)||uu(i,cu(r))}var o=i.length,s=!0;return function(t,e){if(s)return s=!1,e;if(au(this))return e;for(var n=0;n<o;n++)if(i[n]===t)return e}}},xu=_t,ku=String,Su=fu("JSON","stringify"),Ou=yu(/./.exec),Eu=yu("".charAt),Iu=yu("".charCodeAt),Tu=yu("".replace),Cu=yu(1..toString),Du=/[\uD800-\uDFFF]/g,Au=/^[\uD800-\uDBFF]$/,Mu=/^[\uDC00-\uDFFF]$/,Bu=!xu||gu((function(){var t=fu("Symbol")("stringify detection");return"[null]"!==Su([t])||"{}"!==Su({a:t})||"{}"!==Su(Object(t))})),Fu=gu((function(){return'"\\udf06\\ud834"'!==Su("\udf06\ud834")||'"\\udead"'!==Su("\udead")})),Pu=function(t,e){var i=wu(arguments),n=_u(e);if(bu(n)||void 0!==t&&!mu(t))return i[1]=function(t,e){if(bu(n)&&(e=vu(n,this,ku(t),e)),!mu(e))return e},pu(Su,null,i)},Nu=function(t,e,i){var n=Eu(i,e-1),r=Eu(i,e+1);return Ou(Au,t)&&!Ou(Mu,r)||Ou(Mu,t)&&!Ou(Au,n)?"\\u"+Cu(Iu(t,0),16):t};Su&&du({target:"JSON",stat:!0,arity:3,forced:Bu||Fu},{stringify:function(t,e,i){var n=wu(arguments),r=pu(Bu?Pu:Su,null,n);return Fu&&"string"==typeof r?Tu(r,Du,Nu):r}});var ju=sn,zu=Jt;Di({target:"Object",stat:!0,forced:!_t||a((function(){ju.f(1)}))},{getOwnPropertySymbols:function(t){var e=ju.f;return e?e(zu(t)):[]}}),xh("asyncIterator"),xh("hasInstance"),xh("isConcatSpreadable"),xh("iterator"),xh("match"),xh("matchAll"),xh("replace"),xh("search"),xh("species"),xh("split");var Lu=Ih;xh("toPrimitive"),Lu();var Ru=lt,Uu=$o;xh("toStringTag"),Uu(Ru("Symbol"),"Symbol"),xh("unscopables"),$o(s.JSON,"JSON",!0);var Hu=nt.Symbol,Vu=pe,Wu=Qe.f,Yu=Vu("metadata"),qu=Function.prototype;void 0===qu[Yu]&&Wu(qu,Yu,{value:null}),xh("asyncDispose"),xh("dispose"),xh("metadata");var Xu=Hu,Gu=b,Ku=lt("Symbol"),$u=Ku.keyFor,Ju=Gu(Ku.prototype.valueOf),Zu=Ku.isRegisteredSymbol||function(t){try{return void 0!==$u(Ju(t))}catch(t){return!1}};Di({target:"Symbol",stat:!0},{isRegisteredSymbol:Zu});for(var Qu=Gt,td=lt,ed=b,id=It,nd=pe,rd=td("Symbol"),od=rd.isWellKnownSymbol,sd=td("Object","getOwnPropertyNames"),ad=ed(rd.prototype.valueOf),ld=Qu("wks"),hd=0,cd=sd(rd),ud=cd.length;hd<ud;hd++)try{var dd=cd[hd];id(rd[dd])&&nd(dd)}catch(t){}var fd=function(t){if(od&&od(t))return!0;try{for(var e=ad(t),i=0,n=sd(ld),r=n.length;i<r;i++)if(ld[n[i]]==e)return!0}catch(t){}return!1};Di({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:fd}),xh("matcher"),xh("observable"),Di({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Zu}),Di({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:fd}),xh("metadataKey"),xh("patternMatch"),xh("replaceAll");var pd=r(Xu),vd=r(yh.f("iterator"));function yd(t){return yd="function"==typeof pd&&"symbol"==typeof vd?function(t){return typeof t}:function(t){return t&&"function"==typeof pd&&t.constructor===pd&&t!==pd.prototype?"symbol":typeof t},yd(t)}var gd=r(yh.f("toPrimitive"));function bd(t){var e=function(t,e){if("object"!==yd(t)||null===t)return t;var i=t[gd];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==yd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yd(e)?e:String(e)}function md(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),kl(t,bd(n.key),n)}}function wd(t,e,i){return e&&md(t.prototype,e),i&&md(t,i),kl(t,"prototype",{writable:!1}),t}Di({target:"Array",stat:!0},{isArray:Ol});var _d=nt.Array.isArray,xd=r(_d),kd=A,Sd=Ol,Od=TypeError,Ed=Object.getOwnPropertyDescriptor,Id=kd&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Sd(t)&&!Ed(t,"length").writable)throw new Od("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Td=Jt,Cd=Hi,Dd=Id,Ad=Il;Di({target:"Array",proto:!0,arity:1,forced:a((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=Td(this),i=Cd(e),n=arguments.length;Ad(i+n);for(var r=0;r<n;r++)e[i]=arguments[r],i++;return Dd(e,i),i}});var Md=Nn("Array").push,Bd=ht,Fd=Md,Pd=Array.prototype,Nd=function(t){var e=t.push;return t===Pd||Bd(Pd,t)&&e===Pd.push?Fd:e},jd=r(Nd),zd=Di,Ld=Ol,Rd=ua,Ud=it,Hd=zi,Vd=Hi,Wd=Q,Yd=va,qd=pe,Xd=xn,Gd=zl("slice"),Kd=qd("species"),$d=Array,Jd=Math.max;zd({target:"Array",proto:!0,forced:!Gd},{slice:function(t,e){var i,n,r,o=Wd(this),s=Vd(o),a=Hd(t,s),l=Hd(void 0===e?s:e,s);if(Ld(o)&&(i=o.constructor,(Rd(i)&&(i===$d||Ld(i.prototype))||Ud(i)&&null===(i=i[Kd]))&&(i=void 0),i===$d||void 0===i))return Xd(o,a,l);for(n=new(void 0===i?$d:i)(Jd(l-a,0)),r=0;a<l;a++,r++)a in o&&Yd(n,r,o[a]);return n.length=r,n}});var Zd=Nn("Array").slice,Qd=ht,tf=Zd,ef=Array.prototype,nf=function(t){var e=t.slice;return t===ef||Qd(ef,t)&&e===ef.slice?tf:e},rf=nf,of=r(rf),sf=r(qa);function af(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function lf(t,e){var i;if(t){if("string"==typeof t)return af(t,e);var n=of(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?sf(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?af(t,e):void 0}}function hf(t,e){return function(t){if(xd(t))return t}(t)||function(t,e){var i=null==t?null:void 0!==pd&&fl(t)||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,h=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(jd(a).call(a,n.value),a.length!==e);l=!0);}catch(t){h=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(h)throw r}}return a}}(t,e)||lf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cf(t){return function(t){if(xd(t))return af(t)}(t)||function(t){if(void 0!==pd&&null!=fl(t)||null!=t["@@iterator"])return sf(t)}(t)||lf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var uf=r(Hu),df=Nn("Array").concat,ff=ht,pf=df,vf=Array.prototype,yf=function(t){var e=t.concat;return t===vf||ff(vf,t)&&e===vf.concat?pf:e},gf=r(yf),bf=r(rf),mf=lt,wf=Ql,_f=sn,xf=ri,kf=b([].concat),Sf=mf("Reflect","ownKeys")||function(t){var e=wf.f(xf(t)),i=_f.f;return i?kf(e,i(t)):e},Of=r(_d),Ef=Ph.map;Di({target:"Array",proto:!0,forced:!zl("map")},{map:function(t){return Ef(this,t,arguments.length>1?arguments[1]:void 0)}});var If=Nn("Array").map,Tf=ht,Cf=If,Df=Array.prototype,Af=function(t){var e=t.map;return t===Df||Tf(Df,t)&&e===Df.map?Cf:e},Mf=r(Af),Bf=Jt,Ff=on;Di({target:"Object",stat:!0,forced:a((function(){Ff(1)}))},{keys:function(t){return Ff(Bf(t))}});var Pf=r(nt.Object.keys),Nf=Di,jf=Date,zf=b(jf.prototype.getTime);Nf({target:"Date",stat:!0},{now:function(){return zf(new jf)}});var Lf=r(nt.Date.now),Rf=a,Uf=function(t,e){var i=[][t];return!!i&&Rf((function(){i.call(null,e||function(){return 1},1)}))},Hf=Ph.forEach,Vf=Uf("forEach")?[].forEach:function(t){return Hf(this,t,arguments.length>1?arguments[1]:void 0)};Di({target:"Array",proto:!0,forced:[].forEach!==Vf},{forEach:Vf});var Wf=Nn("Array").forEach,Yf=hr,qf=te,Xf=ht,Gf=Wf,Kf=Array.prototype,$f={DOMTokenList:!0,NodeList:!0},Jf=function(t){var e=t.forEach;return t===Kf||Xf(Kf,t)&&e===Kf.forEach||qf($f,Yf(t))?Gf:e},Zf=r(Jf),Qf=Di,tp=Ol,ep=b([].reverse),ip=[1,2];Qf({target:"Array",proto:!0,forced:String(ip)===String(ip.reverse())},{reverse:function(){return tp(this)&&(this.length=this.length),ep(this)}});var np=Nn("Array").reverse,rp=ht,op=np,sp=Array.prototype,ap=function(t){var e=t.reverse;return t===sp||rp(sp,t)&&e===sp.reverse?op:e},lp=r(ap),hp=Ct,cp=TypeError,up=function(t,e){if(!delete t[e])throw new cp("Cannot delete property "+hp(e)+" of "+hp(t))},dp=Di,fp=Jt,pp=zi,vp=Fi,yp=Hi,gp=Id,bp=Il,mp=Fl,wp=va,_p=up,xp=zl("splice"),kp=Math.max,Sp=Math.min;dp({target:"Array",proto:!0,forced:!xp},{splice:function(t,e){var i,n,r,o,s,a,l=fp(this),h=yp(l),c=pp(t,h),u=arguments.length;for(0===u?i=n=0:1===u?(i=0,n=h-c):(i=u-2,n=Sp(kp(vp(e),0),h-c)),bp(h+i-n),r=mp(l,n),o=0;o<n;o++)(s=c+o)in l&&wp(r,o,l[s]);if(r.length=n,i<n){for(o=c;o<h-n;o++)a=o+i,(s=o+n)in l?l[a]=l[s]:_p(l,a);for(o=h;o>h-n+i;o--)_p(l,o-1)}else if(i>n)for(o=h-n;o>c;o--)a=o+i-1,(s=o+n-1)in l?l[a]=l[s]:_p(l,a);for(o=0;o<i;o++)l[o+c]=arguments[o+2];return gp(l,h-n+i),r}});var Op=Nn("Array").splice,Ep=ht,Ip=Op,Tp=Array.prototype,Cp=function(t){var e=t.splice;return t===Tp||Ep(Tp,t)&&e===Tp.splice?Ip:e},Dp=r(Cp),Ap=Xi.includes;Di({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(t){return Ap(this,t,arguments.length>1?arguments[1]:void 0)}});var Mp=Nn("Array").includes,Bp=it,Fp=x,Pp=pe("match"),Np=function(t){var e;return Bp(t)&&(void 0!==(e=t[Pp])?!!e:"RegExp"===Fp(t))},jp=TypeError,zp=pe("match"),Lp=Di,Rp=function(t){if(Np(t))throw new jp("The method doesn't accept regular expressions");return t},Up=$,Hp=dr,Vp=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[zp]=!1,"/./"[t](e)}catch(t){}}return!1},Wp=b("".indexOf);Lp({target:"String",proto:!0,forced:!Vp("includes")},{includes:function(t){return!!~Wp(Hp(Up(this)),Hp(Rp(t)),arguments.length>1?arguments[1]:void 0)}});var Yp=Nn("String").includes,qp=ht,Xp=Mp,Gp=Yp,Kp=Array.prototype,$p=String.prototype,Jp=function(t){var e=t.includes;return t===Kp||qp(Kp,t)&&e===Kp.includes?Xp:"string"==typeof t||t===$p||qp($p,t)&&e===$p.includes?Gp:e},Zp=r(Jp),Qp=Jt,tv=Co,ev=_o;Di({target:"Object",stat:!0,forced:a((function(){tv(1)})),sham:!ev},{getPrototypeOf:function(t){return tv(Qp(t))}});var iv=nt.Object.getPrototypeOf,nv=r(iv),rv=Ph.filter;Di({target:"Array",proto:!0,forced:!zl("filter")},{filter:function(t){return rv(this,t,arguments.length>1?arguments[1]:void 0)}});var ov=Nn("Array").filter,sv=ht,av=ov,lv=Array.prototype,hv=function(t){var e=t.filter;return t===lv||sv(lv,t)&&e===lv.filter?av:e},cv=r(hv),uv="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",dv=$,fv=dr,pv=uv,vv=b("".replace),yv=RegExp("^["+pv+"]+"),gv=RegExp("(^|[^"+pv+"])["+pv+"]+$"),bv=function(t){return function(e){var i=fv(dv(e));return 1&t&&(i=vv(i,yv,"")),2&t&&(i=vv(i,gv,"$1")),i}},mv={start:bv(1),end:bv(2),trim:bv(3)},wv=s,_v=a,xv=b,kv=dr,Sv=mv.trim,Ov=uv,Ev=wv.parseInt,Iv=wv.Symbol,Tv=Iv&&Iv.iterator,Cv=/^[+-]?0x/i,Dv=xv(Cv.exec),Av=8!==Ev(Ov+"08")||22!==Ev(Ov+"0x16")||Tv&&!_v((function(){Ev(Object(Tv))}))?function(t,e){var i=Sv(kv(t));return Ev(i,e>>>0||(Dv(Cv,i)?16:10))}:Ev;Di({global:!0,forced:parseInt!==Av},{parseInt:Av});var Mv=r(nt.parseInt),Bv=Di,Fv=Xi.indexOf,Pv=Uf,Nv=O([].indexOf),jv=!!Nv&&1/Nv([1],1,-0)<0;Bv({target:"Array",proto:!0,forced:jv||!Pv("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return jv?Nv(this,t,e)||0:Fv(this,t,e)}});var zv=Nn("Array").indexOf,Lv=ht,Rv=zv,Uv=Array.prototype,Hv=function(t){var e=t.indexOf;return t===Uv||Lv(Uv,t)&&e===Uv.indexOf?Rv:e},Vv=r(Hv);Di({target:"Object",stat:!0,sham:!A},{create:wo});var Wv=nt.Object,Yv=function(t,e){return Wv.create(t,e)},qv=r(Yv),Xv=nt,Gv=f;Xv.JSON||(Xv.JSON={stringify:JSON.stringify});var Kv=function(t,e,i){return Gv(Xv.JSON.stringify,null,arguments)},$v=r(Kv),Jv="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Zv=TypeError,Qv=s,ty=f,ey=C,iy=Jv,ny=ct,ry=xn,oy=function(t,e){if(t<e)throw new Zv("Not enough arguments");return t},sy=Qv.Function,ay=/MSIE .\./.test(ny)||iy&&function(){var t=Qv.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),ly=function(t,e){var i=e?2:1;return ay?function(n,r){var o=oy(arguments.length,1)>i,s=ey(n)?n:sy(n),a=o?ry(arguments,i):[],l=o?function(){ty(s,this,a)}:s;return e?t(l,r):t(l)}:t},hy=Di,cy=s,uy=ly(cy.setInterval,!0);hy({global:!0,bind:!0,forced:cy.setInterval!==uy},{setInterval:uy});var dy=Di,fy=s,py=ly(fy.setTimeout,!0);dy({global:!0,bind:!0,forced:fy.setTimeout!==py},{setTimeout:py});var vy=r(nt.setTimeout),yy=Jt,gy=zi,by=Hi,my=function(t){for(var e=yy(this),i=by(e),n=arguments.length,r=gy(n>1?arguments[1]:void 0,i),o=n>2?arguments[2]:void 0,s=void 0===o?i:gy(o,i);s>r;)e[r++]=t;return e};Di({target:"Array",proto:!0},{fill:my});var wy,_y=Nn("Array").fill,xy=ht,ky=_y,Sy=Array.prototype,Oy=function(t){var e=t.fill;return t===Sy||xy(Sy,t)&&e===Sy.fill?ky:e},Ey=r(Oy);function Iy(){return Iy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Iy.apply(this,arguments)}function Ty(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Cy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}wy="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var Dy,Ay=wy,My=["","webkit","Moz","MS","ms","o"],By="undefined"==typeof document?{style:{}}:document.createElement("div"),Fy=Math.round,Py=Math.abs,Ny=Date.now;function jy(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<My.length;){if((n=(i=My[o])?i+r:e)in t)return n;o++}}Dy="undefined"==typeof window?{}:window;var zy=jy(By.style,"touchAction"),Ly=void 0!==zy,Ry="compute",Uy="auto",Hy="manipulation",Vy="none",Wy="pan-x",Yy="pan-y",qy=function(){if(!Ly)return!1;var t={},e=Dy.CSS&&Dy.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||Dy.CSS.supports("touch-action",i)})),t}(),Xy="ontouchstart"in Dy,Gy=void 0!==jy(Dy,"PointerEvent"),Ky=Xy&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),$y="touch",Jy="mouse",Zy=25,Qy=1,tg=4,eg=8,ig=1,ng=2,rg=4,og=8,sg=16,ag=ng|rg,lg=og|sg,hg=ag|lg,cg=["x","y"],ug=["clientX","clientY"];function dg(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function fg(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function pg(t,e){return t.indexOf(e)>-1}var vg=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Ry&&(t=this.compute()),Ly&&this.manager.element.style&&qy[t]&&(this.manager.element.style[zy]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return dg(this.manager.recognizers,(function(e){fg(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(pg(t,Vy))return Vy;var e=pg(t,Wy),i=pg(t,Yy);return e&&i?Vy:e||i?e?Wy:Yy:pg(t,Hy)?Hy:Uy}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=pg(n,Vy)&&!qy[Vy],o=pg(n,Yy)&&!qy[Yy],s=pg(n,Wy)&&!qy[Wy];if(r){var a=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(a&&l&&h)return}if(!s||!o)return r||o&&i&ag||s&&i&lg?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function yg(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function gg(t){var e=t.length;if(1===e)return{x:Fy(t[0].clientX),y:Fy(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:Fy(i/e),y:Fy(n/e)}}function bg(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Fy(t.pointers[i].clientX),clientY:Fy(t.pointers[i].clientY)},i++;return{timeStamp:Ny(),pointers:e,center:gg(e),deltaX:t.deltaX,deltaY:t.deltaY}}function mg(t,e,i){i||(i=cg);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function wg(t,e,i){i||(i=cg);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function _g(t,e){return t===e?ig:Py(t)>=Py(e)?t<0?ng:rg:e<0?og:sg}function xg(t,e,i){return{x:e/t||0,y:i/t||0}}function kg(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=bg(e)),r>1&&!i.firstMultiple?i.firstMultiple=bg(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,l=e.center=gg(n);e.timeStamp=Ny(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=wg(a,l),e.distance=mg(a,l),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Qy&&o.eventType!==tg||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=_g(e.deltaX,e.deltaY);var h,c,u=xg(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Py(u.x)>Py(u.y)?u.x:u.y,e.scale=s?(h=s.pointers,mg((c=n)[0],c[1],ug)/mg(h[0],h[1],ug)):1,e.rotation=s?function(t,e){return wg(e[1],e[0],ug)+wg(t[1],t[0],ug)}(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==eg&&(a>Zy||void 0===s.velocity)){var l=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,c=xg(a,l,h);n=c.x,r=c.y,i=Py(c.x)>Py(c.y)?c.x:c.y,o=_g(l,h),t.lastInterval=e}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}(i,e);var d,f=t.element,p=e.srcEvent;yg(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}function Sg(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&Qy&&n-r==0,s=e&(tg|eg)&&n-r==0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,kg(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Og(t){return t.trim().split(/\s+/g)}function Eg(t,e,i){dg(Og(e),(function(e){t.addEventListener(e,i,!1)}))}function Ig(t,e,i){dg(Og(e),(function(e){t.removeEventListener(e,i,!1)}))}function Tg(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Cg=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){fg(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Eg(this.element,this.evEl,this.domHandler),this.evTarget&&Eg(this.target,this.evTarget,this.domHandler),this.evWin&&Eg(Tg(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Ig(this.element,this.evEl,this.domHandler),this.evTarget&&Ig(this.target,this.evTarget,this.domHandler),this.evWin&&Ig(Tg(this.element),this.evWin,this.domHandler)},t}();function Dg(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var Ag={pointerdown:Qy,pointermove:2,pointerup:tg,pointercancel:eg,pointerout:eg},Mg={2:$y,3:"pen",4:Jy,5:"kinect"},Bg="pointerdown",Fg="pointermove pointerup pointercancel";Dy.MSPointerEvent&&!Dy.PointerEvent&&(Bg="MSPointerDown",Fg="MSPointerMove MSPointerUp MSPointerCancel");var Pg=function(t){function e(){var i,n=e.prototype;return n.evEl=Bg,n.evWin=Fg,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return Ty(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Ag[n],o=Mg[t.pointerType]||t.pointerType,s=o===$y,a=Dg(e,t.pointerId,"pointerId");r&Qy&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(tg|eg)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))},e}(Cg);function Ng(t){return Array.prototype.slice.call(t,0)}function jg(t,e,i){for(var n=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];Dg(r,s)<0&&n.push(t[o]),r[o]=s,o++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}var zg={touchstart:Qy,touchmove:2,touchend:tg,touchcancel:eg},Lg=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return Ty(e,t),e.prototype.handler=function(t){var e=zg[t.type],i=Rg.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:$y,srcEvent:t})},e}(Cg);function Rg(t,e){var i,n,r=Ng(t.touches),o=this.targetIds;if(e&(2|Qy)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Ng(t.changedTouches),a=[],l=this.target;if(n=r.filter((function(t){return yg(t.target,l)})),e===Qy)for(i=0;i<n.length;)o[n[i].identifier]=!0,i++;for(i=0;i<s.length;)o[s[i].identifier]&&a.push(s[i]),e&(tg|eg)&&delete o[s[i].identifier],i++;return a.length?[jg(n.concat(a),"identifier",!0),a]:void 0}var Ug={mousedown:Qy,mousemove:2,mouseup:tg},Hg=function(t){function e(){var i,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return Ty(e,t),e.prototype.handler=function(t){var e=Ug[t.type];e&Qy&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=tg),this.pressed&&(e&tg&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Jy,srcEvent:t}))},e}(Cg),Vg=2500;function Wg(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),Vg)}}function Yg(t,e){t&Qy?(this.primaryTouch=e.changedPointers[0].identifier,Wg.call(this,e)):t&(tg|eg)&&Wg.call(this,e)}function qg(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=25&&s<=25)return!0}return!1}var Xg=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===$y,o=i.pointerType===Jy;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(r)Yg.call(Cy(Cy(n)),e,i);else if(o&&qg.call(Cy(Cy(n)),i))return;n.callback(t,e,i)}},n.touch=new Lg(n.manager,n.handler),n.mouse=new Hg(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Ty(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Cg);function Gg(t,e,i){return!!Array.isArray(t)&&(dg(t,i[e],i),!0)}var Kg=32,$g=1;function Jg(t,e){var i=e.manager;return i?i.get(t):t}function Zg(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Qg=function(){function t(t){void 0===t&&(t={}),this.options=Iy({enable:!0},t),this.id=$g++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Ay(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Gg(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Jg(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Gg(t,"dropRecognizeWith",this)||(t=Jg(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Gg(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Dg(e,t=Jg(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Gg(t,"dropRequireFailure",this))return this;t=Jg(t,this);var e=Dg(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+Zg(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+Zg(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Kg},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Ay({},t);if(!fg(this.options.enable,[this,e]))return this.reset(),void(this.state=Kg);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),tb=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Iy({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Ty(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Hy]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime<i.time;if(this.reset(),t.eventType&Qy&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!==tg)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||mg(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return Kg},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Kg}),this.options.interval),Kg},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Qg),eb=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iy({pointers:1},e))||this}Ty(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(i&eg||!r)?16|e:n||r?i&tg?8|e:2&e?4|e:2:Kg},e}(Qg);function ib(t){return t===sg?"down":t===og?"up":t===ng?"left":t===rg?"right":""}var nb=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Iy({event:"pan",threshold:10,pointers:1,direction:hg},e))||this).pX=null,i.pY=null,i}Ty(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&ag&&e.push(Yy),t&lg&&e.push(Wy),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&ag?(r=0===o?ig:o<0?ng:rg,i=o!==this.pX,n=Math.abs(t.deltaX)):(r=0===s?ig:s<0?og:sg,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},i.attrTest=function(t){return eb.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=ib(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(eb),rb=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iy({event:"swipe",threshold:10,velocity:.3,direction:ag|lg,pointers:1},e))||this}Ty(e,t);var i=e.prototype;return i.getTouchAction=function(){return nb.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return n&(ag|lg)?i=e.overallVelocity:n&ag?i=e.overallVelocityX:n&lg&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Py(i)>this.options.velocity&&e.eventType&tg},i.emit=function(t){var e=ib(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(eb),ob=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iy({event:"pinch",threshold:0,pointers:2},e))||this}Ty(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Vy]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(eb),sb=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iy({event:"rotate",threshold:0,pointers:2},e))||this}Ty(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Vy]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(eb),ab=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Iy({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Ty(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Uy]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime>i.time;if(this._input=t,!r||!n||t.eventType&(tg|eg)&&!o)this.reset();else if(t.eventType&Qy)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(t.eventType&tg)return 8;return Kg},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&t.eventType&tg?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Ny(),this.manager.emit(this.options.event,this._input)))},e}(Qg),lb={domEvents:!1,touchAction:Ry,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hb=[[sb,{enable:!1}],[ob,{enable:!1},["rotate"]],[rb,{direction:ag}],[nb,{direction:ag},["swipe"]],[tb],[tb,{event:"doubletap",taps:2},["tap"]],[ab]];function cb(t,e){var i,n=t.element;n.style&&(dg(t.options.cssProps,(function(r,o){i=jy(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var ub=function(){function t(t,e){var i,n=this;this.options=Ay({},lb,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Gy?Pg:Ky?Lg:Xy?Xg:Hg))(i,Sg),this.touchAction=new vg(this,this.options.touchAction),cb(this,!0),dg(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Ay(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(e.curRecognizer=i,r=i),o++}},e.get=function(t){if(t instanceof Qg)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(Gg(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Gg(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=Dg(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return dg(Og(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return dg(Og(t),(function(t){e?i[t]&&i[t].splice(Dg(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&cb(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),db={touchstart:Qy,touchmove:2,touchend:tg,touchcancel:eg},fb=function(t){function e(){var i,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return Ty(e,t),e.prototype.handler=function(t){var e=db[t.type];if(e===Qy&&(this.started=!0),this.started){var i=pb.call(this,t,e);e&(tg|eg)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:$y,srcEvent:t})}},e}(Cg);function pb(t,e){var i=Ng(t.touches),n=Ng(t.changedTouches);return e&(tg|eg)&&(i=jg(i.concat(n),"identifier",!0)),[i,n]}function vb(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,i),t.apply(this,arguments)}}var yb=vb((function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),gb=vb((function(t,e){return yb(t,e,!0)}),"merge","Use `assign`.");function bb(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&Ay(n,i)}function mb(t,e){return function(){return t.apply(e,arguments)}}var wb=function(){var t=function(t,e){return void 0===e&&(e={}),new ub(t,Iy({recognizers:hb.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=hg,t.DIRECTION_DOWN=sg,t.DIRECTION_LEFT=ng,t.DIRECTION_RIGHT=rg,t.DIRECTION_UP=og,t.DIRECTION_HORIZONTAL=ag,t.DIRECTION_VERTICAL=lg,t.DIRECTION_NONE=ig,t.DIRECTION_DOWN=sg,t.INPUT_START=Qy,t.INPUT_MOVE=2,t.INPUT_END=tg,t.INPUT_CANCEL=eg,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Kg,t.Manager=ub,t.Input=Cg,t.TouchAction=vg,t.TouchInput=Lg,t.MouseInput=Hg,t.PointerEventInput=Pg,t.TouchMouseInput=Xg,t.SingleTouchInput=fb,t.Recognizer=Qg,t.AttrRecognizer=eb,t.Tap=tb,t.Pan=nb,t.Swipe=rb,t.Pinch=ob,t.Rotate=sb,t.Press=ab,t.on=Eg,t.off=Ig,t.each=dg,t.merge=gb,t.extend=yb,t.bindFn=mb,t.assign=Ay,t.inherit=bb,t.bindFn=mb,t.prefixed=jy,t.toArray=Ng,t.inArray=Dg,t.uniqueArray=jg,t.splitStr=Og,t.boolOrFn=fg,t.hasParent=yg,t.addEventListeners=Eg,t.removeEventListeners=Ig,t.defaults=Ay({},lb,{preset:hb}),t}();wb.defaults;var _b=wb;function xb(t,e){var i=void 0!==uf&&pl(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return kb(t,e);var n=bf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Xa(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kb(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function kb(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Sb(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){var e=function(){for(var t=function(){var t=4022871197;return function(e){for(var i=e.toString(),n=0;n<i.length;n++){var r=.02519603282416938*(t+=i.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}(),e=t(" "),i=t(" "),n=t(" "),r=0;r<arguments.length;r++)(e-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(e+=1),(i-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1),(n-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1);return[e,i,n]}(t),i=hf(e,3),n=i[0],r=i[1],o=i[2],s=1,a=function(){var t=2091639*n+2.3283064365386963e-10*s;return n=r,r=o,o=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}(e.length?e:[Lf()])}uf("DELETE");var Ob="undefined"!=typeof window?window.Hammer||_b:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Eb(t){var e,i=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}));var n=Ob(this._dom.overlay);n.on("tap",Vn(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){n.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Zf(r).call(r,(function(t){n.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",i._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}Jn(Eb.prototype),Eb.current=null,Eb.prototype.destroy=function(){var t,e;this.deactivate();var i,n=xb(lp(t=Dp(e=this._cleanupQueue).call(e,0)).call(t));try{for(n.s();!(i=n.n()).done;)(0,i.value)()}catch(t){n.e(t)}finally{n.f()}},Eb.prototype.activate=function(){Eb.current&&Eb.current.deactivate(),Eb.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Eb.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Eb.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Ib=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Tb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Cb=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Db=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ab(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(Ab(e),t.removeChild(e))}}function Mb(t){return t instanceof String||"string"==typeof t}function Bb(t){return"object"===yd(t)&&null!==t}function Fb(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function Pb(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in t)if(void 0!==e[n])if(null===e[n]||"object"!==yd(e[n]))Fb(t,e,n,i);else{var r=t[n],o=e[n];Bb(r)&&Bb(o)&&Pb(r,o,i)}}function Nb(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Of(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var o=t[r];if(Object.prototype.hasOwnProperty.call(i,o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?zb(e[o],i[o],!1,n):Fb(e,i,o,n);else{if(Of(i[o]))throw new TypeError("Arrays are not supported by deepExtend");Fb(e,i,o,n)}}return e}function jb(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Of(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&!Zp(t).call(t,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?zb(e[r],i[r]):Fb(e,i,r,n);else if(Of(i[r])){e[r]=[];for(var o=0;o<i[r].length;o++)e[r].push(i[r][o])}else Fb(e,i,r,n);return e}function zb(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"===yd(e[r])&&null!==e[r]&&nv(e[r])===Object.prototype)void 0===t[r]?t[r]=zb({},e[r],i):"object"===yd(t[r])&&null!==t[r]&&nv(t[r])===Object.prototype?zb(t[r],e[r],i):Fb(t,e,r,n);else if(Of(e[r])){var o;t[r]=bf(o=e[r]).call(o)}else Fb(t,e,r,n);return t}function Lb(t,e){var i;return gf(i=[]).call(i,cf(t),[e])}function Rb(t){return t.getBoundingClientRect().top}function Ub(t,e){if(Of(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function Hb(t){var e;switch(t.length){case 3:case 4:return(e=Tb.exec(t))?{r:Mv(e[1]+e[1],16),g:Mv(e[2]+e[2],16),b:Mv(e[3]+e[3],16)}:null;case 6:case 7:return(e=Ib.exec(t))?{r:Mv(e[1],16),g:Mv(e[2],16),b:Mv(e[3],16)}:null;default:return null}}function Vb(t,e){if(Zp(t).call(t,"rgba"))return t;if(Zp(t).call(t,"rgb")){var i=t.substr(Vv(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var n=Hb(t);return null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function Wb(t,e,i){var n;return"#"+bf(n=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(n,1)}function Yb(t,e){if(Mb(t)){var i=t;if($b(i)){var n,r=Mf(n=i.substr(4).substr(0,i.length-5).split(",")).call(n,(function(t){return Mv(t)}));i=Wb(r[0],r[1],r[2])}if(!0===Kb(i)){var o=function(t){var e=Hb(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return qb(e.r,e.g,e.b)}(i),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},l=Gb(a.h,a.s,a.v),h=Gb(s.h,s.s,s.v);return{background:i,border:l,highlight:{background:h,border:l},hover:{background:h,border:l}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:Mb(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Mb(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Mb(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Mb(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function qb(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),r=Math.max(t,Math.max(e,i));return n===r?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(r-n))/360,s:(r-n)/r,v:r}}function Xb(t,e,i){var n,r,o,s=Math.floor(6*t),a=6*t-s,l=i*(1-e),h=i*(1-a*e),c=i*(1-(1-a)*e);switch(s%6){case 0:n=i,r=c,o=l;break;case 1:n=h,r=i,o=l;break;case 2:n=l,r=i,o=c;break;case 3:n=l,r=h,o=i;break;case 4:n=c,r=l,o=i;break;case 5:n=i,r=l,o=h}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*o)}}function Gb(t,e,i){var n=Xb(t,e,i);return Wb(n.r,n.g,n.b)}function Kb(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function $b(t){return Cb.test(t)}function Jb(t){if(null===t||"object"!==yd(t))return null;if(t instanceof Element)return t;var e=qv(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==yd(t[i])&&(e[i]=Jb(t[i]));return e}function Zb(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},o=function(t){return null!==t&&"object"===yd(t)};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!o(n))throw new Error("Parameter globalOptions must be an object");var s=e[i],a=o(n)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)?n[i]:void 0,l=a?a.enabled:void 0;if(void 0!==s){if("boolean"==typeof s)return o(t[i])||(t[i]={}),void(t[i].enabled=s);if(null===s&&!o(t[i])){if(!r(a))return;t[i]=qv(a)}if(o(s)){var h=!0;void 0!==s.enabled?h=s.enabled:void 0!==l&&(h=a.enabled),function(t,e,i){o(t[i])||(t[i]={});var n=e[i],r=t[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}(t,e,i),t[i].enabled=h}}}var Qb={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function tm(t,e){var i;Of(e)||(e=[e]);var n,r=xb(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o){i=o[e[0]];for(var s=1;s<e.length;s++)i&&(i=i[e[s]]);if(void 0!==i)break}}}catch(t){r.e(t)}finally{r.f()}return i}var em={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},im=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;vl(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return wd(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return em[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===Mb(t)){if(!0===$b(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===function(t){return Db.test(t)}(t)){var o=t.substr(5).substr(0,t.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===Kb(t)){var s=Hb(t);i={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:a}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+$v(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=_n({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",vy((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=_n({},t)),this.color=t;var e=qb(t.r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,r=this.centerCoordinates.x+n*Math.sin(i*e.h),o=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=qb(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=Xb(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=qb(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Ey(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Vn(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Vn(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Vn(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Vn(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Ob(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,i,n,r,o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,o,s),this.centerCoordinates={x:.5*o,y:.5*s},this.r=.49*o;var a,l=2*Math.PI/360,h=1/this.r;for(n=0;n<360;n++)for(r=0;r<this.r;r++)e=this.centerCoordinates.x+r*Math.sin(l*n),i=this.centerCoordinates.y+r*Math.cos(l*n),a=Xb(.002777777777777778*n,r*h,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,o,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,s=i-o,a=n-r,l=Math.atan2(s,a),h=.98*Math.min(Math.sqrt(s*s+a*a),o),c=Math.cos(l)*h+r,u=Math.sin(l)*h+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var d=l/(2*Math.PI);d=d<0?d+1:d;var f=h/this.r,p=qb(this.color.r,this.color.g,this.color.b);p.h=d,p.s=f;var v=Xb(p.h,p.s,p.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function nm(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var n=document.createElement(e[0]);return n.appendChild(nm.apply(void 0,cf(bf(e).call(e,1)))),n}var rm,om=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};vl(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},_n(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new im(r),this.wrapper=void 0}return wd(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(Of(t))this.options.filter=t.join();else if("object"===yd(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==cv(t)&&(this.options.filter=cv(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===cv(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=cv(this.options),e=0,i=!1;for(var n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==t&&-1===Vv(t).call(t,n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Zf(n).call(n,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(nm("i","b",t))}else n.innerText=t+":";return n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==Vv(t).call(t,e)&&(r=Vv(t).call(t,e));for(var o=0;o<t.length;o++){var s=document.createElement("option");s.value=t[o],o===r&&(s.selected="selected"),s.innerText=t[o],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],r=t[1],o=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(t){}a.step=s;var l="",h=0;if(void 0!==e){var c=1.2;e<0&&e*c<r?(a.min=Math.ceil(e*c),h=a.min,l="range increased"):e/c<r&&(a.min=Math.ceil(e/c),h=a.min,l="range increased"),e*c>o&&1!==o&&(a.max=Math.ceil(e*c),h=a.max,l="range increased"),a.value=e}else a.value=n;var u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=a.value;var d=this;a.onchange=function(){u.value=this.value,d._update(Number(this.value),i)},a.oninput=function(){u.value=this.value};var f=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,f,a,u);""!==l&&this.popupHistory[p]!==h&&(this.popupHistory[p]=h,this._setupPopup(l,p))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=vy((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=vy((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===yd(t)?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var r=this;n.onchange=function(){r._update(this.checked,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var r=this;n.onchange=function(){r._update(this.value,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,r=t[1],o=document.createElement("div");"none"!==(e=void 0===e?r:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){n._showColorPicker(e,o,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,n._update(r,i)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){n._showColorPicker(t,e,i)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=cv(this.options),o=!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){n=!0;var a=t[s],l=Lb(e,s);if("function"==typeof r&&!1===(n=r(s,e))&&!Of(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==n){o=!0;var h=this._getValue(l);if(Of(a))this._handleArray(a,h,l);else if("string"==typeof a)this._makeTextInput(a,h,l);else if("boolean"==typeof a)this._makeCheckbox(a,h,l);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){var c=Lb(l,"enabled"),u=this._getValue(c);if(!0===u){var d=this._makeLabel(s,l,!0);this._makeItem(l,d),o=this._handleObject(a,l)||o}else this._makeCheckbox(a,u,l)}else{var f=this._makeLabel(s,l,!0);this._makeItem(l,f),o=this._handleObject(a,l)||o}}else console.error("dont know how to handle",a,s,l)}}return o}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===n[e[r]]&&(n[e[r]]={}),r!==e.length-1?n=n[e[r]]:n[e[r]]=t);return i}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(nm("pre","const options = "+$v(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),sm=function(){function t(e,i){vl(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return wd(t,[{key:"setPosition",value:function(t,e){this.x=Mv(t),this.y=Mv(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+i>r-this.padding&&(a=!0),o=a?this.x-i:this.x,s=l?this.y-e:this.y}else(s=this.y-e)+e+this.padding>n&&(s=n-e-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+i+this.padding>r&&(o=r-i-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),am=!1,lm="background: #FFeeee; color: #dd0000",hm=function(){function t(){vl(this,t)}return wd(t,null,[{key:"validate",value:function(e,i,n){am=!1,rm=i;var r=i;return void 0!==n&&(r=i[n]),t.parse(e,r,[]),am}},{key:"parse",value:function(e,i,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.check(r,e,i,n)}},{key:"check",value:function(e,i,n,r){if(void 0!==n[e]||void 0!==n.__any__){var o=e,s=!0;void 0===n[e]&&void 0!==n.__any__&&(o="__any__",s="object"===t.getType(i[e]));var a=n[o];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,o,a,r)}else t.getSuggestion(e,n,r)}},{key:"checkFields",value:function(e,i,n,r,o,s){var a=function(i){console.error("%c"+i+t.printLocation(s,e),lm)},l=t.getType(i[e]),h=o[l];void 0!==h?"array"===t.getType(h)&&-1===Vv(h).call(h,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(h)+' not "'+i[e]+'". '),am=!0):"object"===l&&"__any__"!==r&&(s=Lb(s,e),t.parse(i[e],n[r],s)):void 0===o.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(Pf(o))+". Received ["+l+'] "'+i[e]+'"'),am=!0)}},{key:"getType",value:function(t){var e=yd(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Of(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var r,o=t.findInOptions(e,i,n,!1),s=t.findInOptions(e,rm,[],!0);r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(Pf(i))+t.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+r,lm),am=!0}},{key:"findInOptions",value:function(e,i,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,a="",l=[],h=e.toLowerCase(),c=void 0;for(var u in i){var d=void 0;if(void 0!==i[u].__type__&&!0===o){var f=t.findInOptions(e,i[u],Lb(n,u));s>f.distance&&(a=f.closestMatch,l=f.path,s=f.distance,c=f.indexMatch)}else{var p;-1!==Vv(p=u.toLowerCase()).call(p,h)&&(c=u),s>(d=t.levenshteinDistance(e,u))&&(a=u,l=bf(r=n).call(r),s=d)}}return{closestMatch:a,path:l,distance:s,indexMatch:c}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var r=0;r<n+1;r++)i+="  ";i+=t[n]+": {\n"}for(var o=0;o<t.length+1;o++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return $v(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,r=[];for(i=0;i<=e.length;i++)r[i]=[i];for(n=0;n<=t.length;n++)r[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?r[i][n]=r[i-1][n-1]:r[i][n]=Math.min(r[i-1][n-1]+1,Math.min(r[i][n-1]+1,r[i-1][n]+1));return r[e.length][t.length]}}]),t}(),cm=Eb,um=om,dm=Ob,fm=sm,pm=lm,vm=hm;function ym(t){return _m=t,function(){var t={};if(xm=0,km=_m.charAt(0),Fm(),"strict"===Sm&&(t.strict=!0,Fm()),"graph"!==Sm&&"digraph"!==Sm||(t.type=Sm,Fm()),Om===mm.IDENTIFIER&&(t.id=Sm,Fm()),"{"!=Sm)throw Rm("Angle bracket { expected");if(Fm(),Pm(t),"}"!=Sm)throw Rm("Angle bracket } expected");if(Fm(),""!==Sm)throw Rm("End of file expected");return Fm(),delete t.node,delete t.edge,delete t.graph,t}()}var gm={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},bm=qv(gm);bm.color="color.color",bm.style="dashes";var mm={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},wm={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},_m="",xm=0,km="",Sm="",Om=mm.NULL;function Em(){xm++,km=_m.charAt(xm)}function Im(){return _m.charAt(xm+1)}function Tm(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Cm(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Dm(t,e,i){for(var n=e.split("."),r=t;n.length;){var o=n.shift();n.length?(r[o]||(r[o]={}),r=r[o]):r[o]=i}}function Am(t,e){for(var i,n,r=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){r=s.nodes[i];break}for(r||(r={id:e.id},t.node&&(r.attr=Cm(r.attr,t.node))),i=o.length-1;i>=0;i--){var a,l=o[i];l.nodes||(l.nodes=[]),-1===Vv(a=l.nodes).call(a,r)&&l.nodes.push(r)}e.attr&&(r.attr=Cm(r.attr,e.attr))}function Mm(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=Cm({},t.edge);e.attr=Cm(i,e.attr)}}function Bm(t,e,i,n,r){var o={from:e,to:i,type:n};return t.edge&&(o.attr=Cm({},t.edge)),o.attr=Cm(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function Fm(){for(Om=mm.NULL,Sm="";" "===km||"\t"===km||"\n"===km||"\r"===km;)Em();do{var t=!1;if("#"===km){for(var e=xm-1;" "===_m.charAt(e)||"\t"===_m.charAt(e);)e--;if("\n"===_m.charAt(e)||""===_m.charAt(e)){for(;""!=km&&"\n"!=km;)Em();t=!0}}if("/"===km&&"/"===Im()){for(;""!=km&&"\n"!=km;)Em();t=!0}if("/"===km&&"*"===Im()){for(;""!=km;){if("*"===km&&"/"===Im()){Em(),Em();break}Em()}t=!0}for(;" "===km||"\t"===km||"\n"===km||"\r"===km;)Em()}while(t);if(""!==km){var i=km+Im();if(wm[i])return Om=mm.DELIMITER,Sm=i,Em(),void Em();if(wm[km])return Om=mm.DELIMITER,Sm=km,void Em();if(Tm(km)||"-"===km){for(Sm+=km,Em();Tm(km);)Sm+=km,Em();return"false"===Sm?Sm=!1:"true"===Sm?Sm=!0:isNaN(Number(Sm))||(Sm=Number(Sm)),void(Om=mm.IDENTIFIER)}if('"'===km){for(Em();""!=km&&('"'!=km||'"'===km&&'"'===Im());)'"'===km?(Sm+=km,Em()):"\\"===km&&"n"===Im()?(Sm+="\n",Em()):Sm+=km,Em();if('"'!=km)throw Rm('End of string " expected');return Em(),void(Om=mm.IDENTIFIER)}for(Om=mm.UNKNOWN;""!=km;)Sm+=km,Em();throw new SyntaxError('Syntax error in part "'+Um(Sm,30)+'"')}Om=mm.DELIMITER}function Pm(t){for(;""!==Sm&&"}"!=Sm;)Nm(t),";"===Sm&&Fm()}function Nm(t){var e=jm(t);if(e)zm(t,e);else{var i=function(t){return"node"===Sm?(Fm(),t.node=Lm(),"node"):"edge"===Sm?(Fm(),t.edge=Lm(),"edge"):"graph"===Sm?(Fm(),t.graph=Lm(),"graph"):null}(t);if(!i){if(Om!=mm.IDENTIFIER)throw Rm("Identifier expected");var n=Sm;if(Fm(),"="===Sm){if(Fm(),Om!=mm.IDENTIFIER)throw Rm("Identifier expected");t[n]=Sm,Fm()}else!function(t,e){var i={id:e},n=Lm();n&&(i.attr=n),Am(t,i),zm(t,e)}(t,n)}}}function jm(t){var e=null;if("subgraph"===Sm&&((e={}).type="subgraph",Fm(),Om===mm.IDENTIFIER&&(e.id=Sm,Fm())),"{"===Sm){if(Fm(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,Pm(e),"}"!=Sm)throw Rm("Angle bracket } expected");Fm(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function zm(t,e){for(;"->"===Sm||"--"===Sm;){var i,n=Sm;Fm();var r=jm(t);if(r)i=r;else{if(Om!=mm.IDENTIFIER)throw Rm("Identifier or subgraph expected");Am(t,{id:i=Sm}),Fm()}Mm(t,Bm(t,e,i,n,Lm())),e=i}}function Lm(){for(var t,e,i=null,n={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===Sm;){for(Fm(),i={};""!==Sm&&"]"!=Sm;){if(Om!=mm.IDENTIFIER)throw Rm("Attribute name expected");var a=Sm;if(Fm(),"="!=Sm)throw Rm("Equal sign = expected");if(Fm(),Om!=mm.IDENTIFIER)throw Rm("Attribute value expected");var l=Sm;"style"===a&&(l=n[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:r[l]}}),o.push({attr:i,name:a,value:l}),s.push(a),Fm(),","==Sm&&Fm()}if("]"!=Sm)throw Rm("Bracket ] expected");Fm()}if(Zp(s).call(s,"dir")){var h={arrows:{}};for(t=0;t<o.length;t++)if("arrows"===o[t].name)if(null!=o[t].value.to)h.arrows.to=t;else{if(null==o[t].value.from)throw Rm("Invalid value of arrows");h.arrows.from=t}else"dir"===o[t].name&&(h.dir=t);var c,u,d=o[h.dir].value;if(!Zp(s).call(s,"arrows"))if("both"===d)o.push({attr:o[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=o.length-1,o.push({attr:o[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=o.length-1;else if("forward"===d)o.push({attr:o[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=o.length-1;else if("back"===d)o.push({attr:o[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=o.length-1;else{if("none"!==d)throw Rm('Invalid dir type "'+d+'"');o.push({attr:o[h.dir].attr,name:"arrows",value:""}),h.arrows.to=o.length-1}if("both"===d)h.arrows.to&&h.arrows.from?(u=o[h.arrows.to].value.to.type,c=o[h.arrows.from].value.from.type,o[h.arrows.to]={attr:o[h.arrows.to].attr,name:o[h.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}},Dp(o).call(o,h.arrows.from,1)):h.arrows.to?(u=o[h.arrows.to].value.to.type,c="arrow",o[h.arrows.to]={attr:o[h.arrows.to].attr,name:o[h.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}):h.arrows.from&&(u="arrow",c=o[h.arrows.from].value.from.type,o[h.arrows.from]={attr:o[h.arrows.from].attr,name:o[h.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}});else if("back"===d)h.arrows.to&&h.arrows.from?(u="",c=o[h.arrows.from].value.from.type,o[h.arrows.from]={attr:o[h.arrows.from].attr,name:o[h.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}):h.arrows.to?(u="",c="arrow",h.arrows.from=h.arrows.to,o[h.arrows.from]={attr:o[h.arrows.from].attr,name:o[h.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}):h.arrows.from&&(u="",c=o[h.arrows.from].value.from.type,o[h.arrows.to]={attr:o[h.arrows.from].attr,name:o[h.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}),o[h.arrows.from]={attr:o[h.arrows.from].attr,name:o[h.arrows.from].name,value:{from:{enabled:!0,type:o[h.arrows.from].value.from.type}}};else if("none"===d){var f;o[f=h.arrows.to?h.arrows.to:h.arrows.from]={attr:o[f].attr,name:o[f].name,value:""}}else{if("forward"!==d)throw Rm('Invalid dir type "'+d+'"');h.arrows.to&&h.arrows.from||h.arrows.to?(u=o[h.arrows.to].value.to.type,c="",o[h.arrows.to]={attr:o[h.arrows.to].attr,name:o[h.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}):h.arrows.from&&(u="arrow",c="",h.arrows.to=h.arrows.from,o[h.arrows.to]={attr:o[h.arrows.to].attr,name:o[h.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}),o[h.arrows.to]={attr:o[h.arrows.to].attr,name:o[h.arrows.to].name,value:{to:{enabled:!0,type:o[h.arrows.to].value.to.type}}}}Dp(o).call(o,h.dir,1)}if(Zp(s).call(s,"penwidth")){var p=[];for(e=o.length,t=0;t<e;t++)"width"!==o[t].name&&("penwidth"===o[t].name&&(o[t].name="width"),p.push(o[t]));o=p}for(e=o.length,t=0;t<e;t++)Dm(o[t].attr,o[t].name,o[t].value);return i}function Rm(t){return new SyntaxError(t+', got "'+Um(Sm,30)+'" (char '+xm+")")}function Um(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Hm(t,e,i){for(var n=e.split("."),r=n.pop(),o=t,s=0;s<n.length;s++){var a=n[s];a in o||(o[a]={}),o=o[a]}return o[r]=i,t}function Vm(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=e[n];Of(r)?Zf(r).call(r,(function(e){Hm(i,e,t[n])})):Hm(i,"string"==typeof r?r:n,t[n])}return i}function Wm(t){var e,i=ym(t),n={nodes:[],edges:[],options:{}};if(i.nodes&&Zf(e=i.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};Cm(e,Vm(t.attr,gm)),e.image&&(e.shape="image"),n.nodes.push(e)})),i.edges){var r,o=function(t){var e={from:t.from,to:t.to};return Cm(e,Vm(t.attr,bm)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Zf(r=i.edges).call(r,(function(t){var e,i,r,s,a,l,h;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&Zf(r=t.from.edges).call(r,(function(t){var e=o(t);n.edges.push(e)})),a=i,l=function(e,i){var r=Bm(n,e.id,i.id,t.type,t.attr),s=o(r);n.edges.push(s)},Of(s=e)?Zf(s).call(s,(function(t){Of(a)?Zf(a).call(a,(function(e){l(t,e)})):l(t,a)})):Of(a)?Zf(a).call(a,(function(t){l(s,t)})):l(s,a),t.to instanceof Object&&t.to.edges&&Zf(h=t.to.edges).call(h,(function(t){var e=o(t);n.edges.push(e)}))}))}return i.attr&&(n.options=i.attr),n}var Ym=Object.freeze({__proto__:null,DOTToGraph:Wm,parseDOT:ym});function qm(t,e){var i,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));var r=t.edges,o=Mf(r).call(r,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e}));return{nodes:Mf(i=t.nodes).call(i,(function(t){var e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===n.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:o}}var Xm=Object.freeze({__proto__:null,parseGephi:qm}),Gm=Object.freeze({__proto__:null,cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"}}),Km=function(){function t(){vl(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return wd(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),r=Math.floor(e/8),o=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),h=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,l,r],[5*l,n,h,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],r=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,r,o){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,r,o)}else t.drawImage(this.image,i,n,r,o)}}]),t}(),$m=function(){function t(e){vl(this,t),this.images={},this.imageBroken={},this.callback=e}return wd(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var r=new Km;return this.images[t]=r,r.image.onload=function(){i._fixImageCoordinates(r.image),r.init(),i._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),Jm={exports:{}},Zm=a((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Qm=a,tw=it,ew=x,iw=Zm,nw=Object.isExtensible,rw=Qm((function(){nw(1)}))||iw?function(t){return!!tw(t)&&(!iw||"ArrayBuffer"!==ew(t))&&(!nw||nw(t))}:nw,ow=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),sw=Di,aw=b,lw=Gi,hw=it,cw=te,uw=Qe.f,dw=Ql,fw=ih,pw=rw,vw=ow,yw=!1,gw=oe("meta"),bw=0,mw=function(t){uw(t,gw,{value:{objectID:"O"+bw++,weakData:{}}})},ww=Jm.exports={enable:function(){ww.enable=function(){},yw=!0;var t=dw.f,e=aw([].splice),i={};i[gw]=1,t(i).length&&(dw.f=function(i){for(var n=t(i),r=0,o=n.length;r<o;r++)if(n[r]===gw){e(n,r,1);break}return n},sw({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fw.f}))},fastKey:function(t,e){if(!hw(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!cw(t,gw)){if(!pw(t))return"F";if(!e)return"E";mw(t)}return t[gw].objectID},getWeakData:function(t,e){if(!cw(t,gw)){if(!pw(t))return!0;if(!e)return!1;mw(t)}return t[gw].weakData},onFreeze:function(t){return vw&&yw&&pw(t)&&!cw(t,gw)&&mw(t),t}};lw[gw]=!0;var _w=Jm.exports,xw=Ze,kw=F,Sw=ri,Ow=Ct,Ew=Xs,Iw=Hi,Tw=ht,Cw=Ta,Dw=_a,Aw=Us,Mw=TypeError,Bw=function(t,e){this.stopped=t,this.result=e},Fw=Bw.prototype,Pw=function(t,e,i){var n,r,o,s,a,l,h,c=i&&i.that,u=!(!i||!i.AS_ENTRIES),d=!(!i||!i.IS_RECORD),f=!(!i||!i.IS_ITERATOR),p=!(!i||!i.INTERRUPTED),v=xw(e,c),y=function(t){return n&&Aw(n,"normal",t),new Bw(!0,t)},g=function(t){return u?(Sw(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(d)n=t.iterator;else if(f)n=t;else{if(!(r=Dw(t)))throw new Mw(Ow(t)+" is not iterable");if(Ew(r)){for(o=0,s=Iw(t);s>o;o++)if((a=g(t[o]))&&Tw(Fw,a))return a;return new Bw(!1)}n=Cw(t,r)}for(l=d?t.next:n.next;!(h=kw(l,n)).done;){try{a=g(h.value)}catch(t){Aw(n,"throw",t)}if("object"==typeof a&&a&&Tw(Fw,a))return a}return new Bw(!1)},Nw=ht,jw=TypeError,zw=function(t,e){if(Nw(e,t))return t;throw new jw("Incorrect invocation")},Lw=Di,Rw=s,Uw=_w,Hw=a,Vw=bi,Ww=Pw,Yw=zw,qw=C,Xw=it,Gw=X,Kw=$o,$w=Qe.f,Jw=Ph.forEach,Zw=A,Qw=Ur.set,t_=Ur.getterFor,e_=function(t,e,i){var n,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=Rw[t],l=a&&a.prototype,h={};if(Zw&&qw(a)&&(o||l.forEach&&!Hw((function(){(new a).entries().next()})))){var c=(n=e((function(e,i){Qw(Yw(e,c),{type:t,collection:new a}),Gw(i)||Ww(i,e[s],{that:e,AS_ENTRIES:r})}))).prototype,u=t_(t);Jw(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in l)||o&&"clear"===t||Vw(c,t,(function(i,n){var r=u(this).collection;if(!e&&o&&!Xw(i))return"get"===t&&void 0;var s=r[t](0===i?0:i,n);return e?this:s}))})),o||$w(c,"size",{configurable:!0,get:function(){return u(this).collection.size}})}else n=i.getConstructor(e,t,r,s),Uw.enable();return Kw(n,t,!1,!0),h[t]=n,Lw({global:!0,forced:!0},h),o||i.setStrong(n,t,r),n},i_=Ao,n_=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:i_(t,n,e[n],i);return t},r_=lt,o_=vh,s_=A,a_=pe("species"),l_=wo,h_=vh,c_=n_,u_=Ze,d_=zw,f_=X,p_=Pw,v_=Ts,y_=Cs,g_=function(t){var e=r_(t);s_&&e&&!e[a_]&&o_(e,a_,{configurable:!0,get:function(){return this}})},b_=A,m_=_w.fastKey,w_=Ur.set,__=Ur.getterFor,x_={getConstructor:function(t,e,i,n){var r=t((function(t,r){d_(t,o),w_(t,{type:e,index:l_(null),first:void 0,last:void 0,size:0}),b_||(t.size=0),f_(r)||p_(r,t[n],{that:t,AS_ENTRIES:i})})),o=r.prototype,s=__(e),a=function(t,e,i){var n,r,o=s(t),a=l(t,e);return a?a.value=i:(o.last=a={index:r=m_(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),b_?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var i,n=s(t),r=m_(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key===e)return i};return c_(o,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,b_?t.size=0:this.size=0},delete:function(t){var e=this,i=s(e),n=l(e,t);if(n){var r=n.next,o=n.previous;delete i.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),i.first===n&&(i.first=r),i.last===n&&(i.last=o),b_?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=s(this),n=u_(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),c_(o,i?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),b_&&h_(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=__(e),o=__(n);v_(t,e,(function(t,e){w_(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?y_("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=void 0,y_(void 0,!0))}),i?"entries":"values",!i,!0),g_(e)}};e_("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),x_);var k_=r(nt.Map),S_=function(){function t(){vl(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},_n(this.options,this.defaultOptions)}return wd(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===Vv(e).call(e,i)){var n=t[i];this.add(i,n)}}},{key:"clear",value:function(){this._groups=new k_,this._groupNames=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var n=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[n]),this._groups.set(t,i)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[r],this._groups.set(t,i)}return i}},{key:"add",value:function(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}]),t}();Di({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var O_=r(nt.Number.isNaN),E_=s.isFinite,I_=Number.isFinite||function(t){return"number"==typeof t&&E_(t)};Di({target:"Number",stat:!0},{isFinite:I_});var T_=r(nt.Number.isFinite),C_=Ph.some;Di({target:"Array",proto:!0,forced:!Uf("some")},{some:function(t){return C_(this,t,arguments.length>1?arguments[1]:void 0)}});var D_=Nn("Array").some,A_=ht,M_=D_,B_=Array.prototype,F_=function(t){var e=t.some;return t===B_||A_(B_,t)&&e===B_.some?M_:e},P_=r(F_),N_=r(nt.Object.getOwnPropertySymbols),j_={exports:{}},z_=Di,L_=a,R_=Q,U_=D.f,H_=A;z_({target:"Object",stat:!0,forced:!H_||L_((function(){U_(1)})),sham:!H_},{getOwnPropertyDescriptor:function(t,e){return U_(R_(t),e)}});var V_=nt.Object,W_=j_.exports=function(t,e){return V_.getOwnPropertyDescriptor(t,e)};V_.getOwnPropertyDescriptor.sham&&(W_.sham=!0);var Y_=j_.exports,q_=r(Y_),X_=Sf,G_=Q,K_=D,$_=va;Di({target:"Object",stat:!0,sham:!A},{getOwnPropertyDescriptors:function(t){for(var e,i,n=G_(t),r=K_.f,o=X_(n),s={},a=0;o.length>a;)void 0!==(i=r(n,e=o[a++]))&&$_(s,e,i);return s}});var J_=r(nt.Object.getOwnPropertyDescriptors),Z_={exports:{}},Q_=Di,tx=A,ex=Gr.f;Q_({target:"Object",stat:!0,forced:Object.defineProperties!==ex,sham:!tx},{defineProperties:ex});var ix=nt.Object,nx=Z_.exports=function(t,e){return ix.defineProperties(t,e)};ix.defineProperties.sham&&(nx.sham=!0);var rx=r(Z_.exports),ox=r(xl);function sx(t,e,i){return(e=bd(e))in t?kl(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ax=s,lx=a,hx=dr,cx=mv.trim,ux=uv,dx=b("".charAt),fx=ax.parseFloat,px=ax.Symbol,vx=px&&px.iterator,yx=1/fx(ux+"-0")!=-1/0||vx&&!lx((function(){fx(Object(vx))}))?function(t){var e=cx(hx(t)),i=fx(e);return 0===i&&"-"===dx(e,0)?-0:i}:fx;Di({global:!0,forced:parseFloat!==yx},{parseFloat:yx});var gx=r(nt.parseFloat),bx=Di,mx=a,wx=ih.f;bx({target:"Object",stat:!0,forced:mx((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:wx});var _x=nt.Object,xx=function(t){return _x.getOwnPropertyNames(t)},kx=r(xx);function Sx(t,e){var i=["node","edge","label"],n=!0,r=tm(e,"chosen");if("boolean"==typeof r)n=r;else if("object"===yd(r)){if(-1===Vv(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var o=tm(e,["chosen",t]);"boolean"!=typeof o&&"function"!=typeof o||(n=o)}return n}function Ox(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var r=-i.angle;e={x:Math.cos(r)*n.x-Math.sin(r)*n.y,y:Math.sin(r)*n.x+Math.cos(r)*n.y}}else e=n}var o=t.x+t.width,s=t.y+t.width;return t.left<e.x&&o>e.x&&t.top<e.y&&s>e.y}function Ex(t){return"string"==typeof t&&""!==t}function Ix(t,e,i,n){var r=n.x,o=n.y;if("function"==typeof n.distanceToBorder){var s=n.distanceToBorder(t,e),a=Math.sin(e)*s,l=Math.cos(e)*s;l===s?(r+=s,o=n.y):a===s?(r=n.x,o-=s):(r+=l,o-=a)}else n.shape.width>n.shape.height?(r=n.x+.5*n.shape.width,o=n.y-i):(r=n.x+i,o=n.y-.5*n.shape.height);return{x:r,y:o}}var Tx=Nn("Array").values,Cx=hr,Dx=te,Ax=ht,Mx=Tx,Bx=Array.prototype,Fx={DOMTokenList:!0,NodeList:!0},Px=function(t){var e=t.values;return t===Bx||Ax(Bx,t)&&e===Bx.values||Dx(Fx,Cx(t))?Mx:e},Nx=r(Px),jx=function(){function t(e){vl(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return wd(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;void 0!==e&&""!==e||(n=" ");var r=this.measureText(n,i),o=_n({},Nx(r));o.text=e,o.width=r.width,o.mod=i,void 0!==e&&""!==e||(o.width=0),this.lines[t].blocks.push(o),this.lines[t].width+=o.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var r=e.blocks[n];i<r.height&&(i=r.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var n={};_n(n,i),n.blocks=[];for(var r=void 0,o=[],s=0;s<i.blocks.length;s++){var a=i.blocks[s];0!==a.width?o.push(a):void 0===r&&(r=a)}0===o.length&&void 0!==r&&o.push(r),n.blocks=o,t.push(n)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),zx={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Lx=function(){function t(e){vl(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return wd(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e))&&(this.setTag(t),!0)}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=hf(this.prepareRegExp(t),2),n=i[0],r=i[1],o=n.test(this.text.substr(this.position,r));return o&&e&&(this.position+=r-1),o}},{key:"parseEndTag",value:function(t,e,i){var n=this.mod()===t;return!(!(n="mono"===t?n&&this.mono:n&&!this.mono)||!this.match(e))&&(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),!0)}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,i;if(t instanceof RegExp)i=t,e=1;else{var n=zx[t];i=void 0!==n?n:new RegExp(t),e=t.length}return[i,e]}}]),t}(),Rx=function(){function t(e,i,n,r){var o=this;vl(this,t),this.ctx=e,this.parent=i,this.selected=n,this.hover=r,this.lines=new jx((function(t,i){if(void 0===t)return 0;var s=o.parent.getFormattingValues(e,n,r,i),a=0;return""!==t&&(a=o.ctx.measureText(t).width),{width:a,values:s}}))}return wd(t,[{key:"process",value:function(t){if(!Ex(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var r=0;r<n;r++){var o=this.splitBlocks(i[r],e.multi);if(void 0!==o)if(0!==o.length){if(e.maxWdt>0)for(var s=0;s<o.length;s++){var a=o[s].mod,l=o[s].text;this.splitStringIntoLines(l,a,!0)}else for(var h=0;h<o.length;h++){var c=o[h].mod,u=o[h].text;this.lines.append(u,c)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var d=0;d<n;d++)this.splitStringIntoLines(i[d]);else for(var f=0;f<n;f++)this.lines.newLine(i[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new Lx(t),i=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var n=e.text.charAt(e.position);e.parseWS(n)||/</.test(n)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(n)||e.add(n),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,i=new Lx(t),n=!0,r=function(t){return!!/\\/.test(t)&&(i.position<e.text.length+1&&(i.position++,t=e.text.charAt(i.position),/ \t/.test(t)?i.spacing=!0:(i.add(t),n=!1)),!0)};i.position<i.text.length;){var o=i.text.charAt(i.position);i.parseWS(o)||r(o)||(n||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(o),n=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(bf(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var r=this.getLongestFit(n);if(0===r){var o=n[0],s=this.getLongestFitWord(o);this.lines.newLine(bf(o).call(o,0,s),e),n[0]=bf(o).call(o,s)}else{var a=r;" "===n[r-1]?r--:" "===n[a]&&a++;var l=bf(n).call(n,0,r).join("");r==n.length&&i?this.lines.append(l,e):this.lines.newLine(l,e),n=bf(n).call(n,a)}}}}]),t}(),Ux=["bold","ital","boldital","mono"],Hx=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];vl(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return wd(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),Ex(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===yd(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;Ub(Ux,(function(t){i.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Ub(e,(function(t,e){null!=t&&"object"!==yd(t)&&(i.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=tm(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===yd(i)){var n=tm(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=Number(n));var r=tm(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var o=tm(t,"heightConstraint");if("number"==typeof o)e.minHgt=Number(o);else if("object"===yd(o)){var s=tm(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));var a=tm(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),zb(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=Sx("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var i=e.font;t.push(i)}}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var r=e[n],o={};t.parseFontString(o,r)&&(r=o),Ub(r,(function(t,e){void 0!==t&&(Object.prototype.hasOwnProperty.call(i,e)||(-1!==Vv(Ux).call(Ux,e)?i[e]={}:i[e]=t))}))}return i}},{key:"getFontOption",value:function(e,i,n){for(var r,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,i)){if(null==(r=s[i]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),Object.prototype.hasOwnProperty.call(r,n))return r[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],r=0;r<n.length;++r){var o=n[r];i[o]=this.getFontOption(t,e,o)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=function(){var t=Ux[r],n=e.fontOptions[t];Ub(e.getFontOptions(i,t),(function(t,e){n[e]=t})),n.size=Number(n.size),n.vadjust=Number(n.vadjust)},r=0;r<Ux.length;++r)n()}},{key:"draw",value:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,r,e,i,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=hf(this._setAlignment(t,e,i,n),2);e=o[0],i=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var s=0;s<this.lineCount;s++){var a=this.lines[s];if(a&&a.blocks){var l=0;this.isEdgeLabel||"center"===this.fontOptions.align?l+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(l+=this.size.width-a.width);for(var h=0;h<a.blocks.length;h++){var c=a.blocks[h];t.font=c.font;var u=hf(this._getColor(c.color,r,c.strokeColor),2),d=u[0],f=u[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=f,t.lineJoin="round"),t.fillStyle=d,c.strokeWidth>0&&t.strokeText(c.text,e+l,i+c.vadjust),t.fillText(c.text,e+l,i+c.vadjust),l+=c.width}i+=a.height}}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",r=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=Vb(n,o),r=Vb(r,o)}return[n,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var r=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},o={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,i));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),s+=o.size+"px "+o.face,t.font=s.replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new Rx(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}(),Vx=ua,Wx=Ct,Yx=TypeError,qx=Di,Xx=f,Gx=Bn,Kx=function(t){if(Vx(t))return t;throw new Yx(Wx(t)+" is not a constructor")},$x=ri,Jx=it,Zx=wo,Qx=a,tk=lt("Reflect","construct"),ek=Object.prototype,ik=[].push,nk=Qx((function(){function t(){}return!(tk((function(){}),[],t)instanceof t)})),rk=!Qx((function(){tk((function(){}))})),ok=nk||rk;qx({target:"Reflect",stat:!0,forced:ok,sham:ok},{construct:function(t,e){Kx(t),$x(e);var i=arguments.length<3?t:Kx(arguments[2]);if(rk&&!nk)return tk(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Xx(ik,n,e),new(Xx(Gx,t,n))}var r=i.prototype,o=Zx(Jx(r)?r:ek),s=Xx(t,o,e);return Jx(s)?s:o}});var sk=r(nt.Reflect.construct),ak=r(Yv);Di({target:"Object",stat:!0},{setPrototypeOf:ds});var lk=r(nt.Object.setPrototypeOf),hk=r(Hn);function ck(t,e){var i;return ck=lk?hk(i=lk).call(i):function(t,e){return t.__proto__=e,t},ck(t,e)}function uk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=ak(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),kl(t,"prototype",{writable:!1}),e&&ck(t,e)}function dk(t,e){if(e&&("object"===yd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var fk=r(iv);function pk(t){var e;return pk=lk?hk(e=fk).call(e):function(t){return t.__proto__||fk(t)},pk(t)}var vk=function(){function t(e,i,n){vl(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==yd(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),Ey(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,r){void 0!==i&&this.resize(i,n,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,r=this.textSize.height;return 0===n&&(n=14,r=14),{width:n,height:r}}}]),t}();function yk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var gk=function(t){uk(i,t);var e=yk(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r))._setMargins(r),o}return wd(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,o),Yn(t,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),i}(vk);function bk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var mk=function(t){uk(i,t);var e=bk(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r)).labelOffset=0,o.selected=!1,o}return wd(i,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==yd(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),Wn(t,e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);var n=this._getImagePadding(),r=this.left+n.left,o=this.top+n.top,s=this.width-n.left-n.right,a=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(t,i,r,o,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,r){var o=0;if(void 0!==this.height){o=.5*this.height;var s=this.labelModule.getTextSize(t,n,r);s.lineCount>=1&&(o+=s.height/2)}var a=i+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,a,n,r,"hanging")}}]),i}(vk);function wk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var _k=function(t){uk(i,t);var e=wk(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r))._setMargins(r),o}return wd(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),r=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),i}(mk);function xk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var kk=function(t){uk(i,t);var e=xk(i);function i(t,n,r,o,s){var a;return vl(this,i),(a=e.call(this,t,n,r)).setImages(o,s),a}return wd(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,o){this.switchImages(n),this.resize();var s=e,a=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,s,a,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,s,a,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),i}(mk);function Sk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Ok=function(t){uk(i,t);var e=Sk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var r,o;this.labelModule.getTextSize(t,e,i);var s=2*n.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:s,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,r,o,s,a){var l,h=this;return this.resize(t,o,s,a),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(l=e,Object.prototype.hasOwnProperty.call(Kn,l)?Kn[l]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[l].call(t,i)})(t,n,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,r)),{drawExternalLabel:function(){if(void 0!==h.options.label){h.labelModule.calculateLabelSize(t,o,s,n,r,"hanging");var e=r+.5*h.height+.5*h.labelModule.size.height;h.labelModule.draw(t,n,e,o,s,"hanging")}h.updateBoundingBox(n,r)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),i}(vk);function Ek(t,e){var i=Pf(t);if(N_){var n=N_(t);e&&(n=cv(n).call(n,(function(e){return q_(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ik(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Zf(i=Ek(Object(r),!0)).call(i,(function(e){sx(t,e,r[e])})):J_?rx(t,J_(r)):Zf(n=Ek(Object(r))).call(n,(function(e){ox(t,e,q_(r,e))}))}return t}function Tk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Ck=function(t){uk(i,t);var e=Tk(i);function i(t,n,r,o){var s;return vl(this,i),(s=e.call(this,t,n,r,o)).ctxRenderer=o,s}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r,o),this.left=e-this.width/2,this.top=i-this.height/2,t.save();var s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:n,hover:r},style:Ik({},o),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){t.save(),a(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ok);function Dk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Ak=function(t){uk(i,t);var e=Dk(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r))._setMargins(r),o}return wd(i,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,o),Xn(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(vk);function Mk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Bk=function(t){uk(i,t);var e=Mk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"diamond",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ok);function Fk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Pk=function(t){uk(i,t);var e=Fk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"circle",2,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),this.options.size}}]),i}(Ok);function Nk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var jk=function(t){uk(i,t);var e=Nk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,o),qn(t,this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,e,i,n,r)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=.5*this.width,n=.5*this.height,r=Math.sin(e)*i,o=Math.cos(e)*n;return i*n/Math.sqrt(r*r+o*o)}}]),i}(vk);function zk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Lk=function(t){uk(i,t);var e=zk(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r))._setMargins(r),o}return wd(i,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,o){var s=this;return this.resize(t,n,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,r,o),{drawExternalLabel:function(){void 0!==s.options.label&&s.labelModule.draw(t,s.left+s.iconSize.width/2+s.margin.left,i+s.height/2+5,n),s.updateBoundingBox(e,i)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(vk);function Rk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Uk=function(t){uk(i,t);var e=Rk(i);function i(t,n,r,o,s){var a;return vl(this,i),(a=e.call(this,t,n,r)).setImages(o,s),a}return wd(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,o){t.save(),this.switchImages(n),this.resize();var s=e,a=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var l=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,c=(n?h:l)/this.body.view.scale;t.lineWidth=Math.min(this.width,c),t.beginPath();var u=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,d=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(u=Vb(u,o.opacity),d=Vb(d,o.opacity)),t.strokeStyle=u,t.fillStyle=d,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),Ey(t).call(t),this.performStroke(t,o),t.closePath()}this._drawImageAtPosition(t,o),this._drawImageLabel(t,s,a,n,r),this.updateBoundingBox(e,i),t.restore()}},{key:"updateBoundingBox",value:function(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(mk);function Hk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Vk=function(t){uk(i,t);var e=Hk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"square",2,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ok);function Wk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Yk=function(t){uk(i,t);var e=Wk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"hexagon",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ok);function qk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Xk=function(t){uk(i,t);var e=qk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"star",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ok);function Gk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Kk=function(t){uk(i,t);var e=Gk(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r))._setMargins(r),o}return wd(i,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r),this.disableShadow(t,o),this.updateBoundingBox(e,i,t,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(vk);function $k(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Jk=function(t){uk(i,t);var e=$k(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"triangle",3,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ok);function Zk(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var Qk=function(t){uk(i,t);var e=Zk(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"triangleDown",3,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ok);function tS(t,e){var i=Pf(t);if(N_){var n=N_(t);e&&(n=cv(n).call(n,(function(e){return q_(t,e).enumerable}))),i.push.apply(i,n)}return i}function eS(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Zf(i=tS(Object(r),!0)).call(i,(function(e){sx(t,e,r[e])})):J_?rx(t,J_(r)):Zf(n=tS(Object(r))).call(n,(function(e){ox(t,e,q_(r,e))}))}return t}var iS=function(){function t(e,i,n,r,o,s){vl(this,t),this.options=Jb(o),this.globalOptions=o,this.defaultOptions=s,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Hx(this.body,this.options,!1),this.setOptions(e)}return wd(t,[{key:"attachEdge",value:function(t){var e;-1===Vv(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,i,n=Vv(e=this.edges).call(e,t);-1!=n&&Dp(i=this.edges).call(i,n,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Mv(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Mv(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=gx(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=Sx("node",n),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var e=this.options.opacity;t.borderColor=Vb(t.borderColor,e),t.color=Vb(t.color,e),t.shadowColor=Vb(t.shadowColor,e)}return t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,eS(eS({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new gk(this.options,this.body,this.labelModule);break;case"circle":this.shape=new _k(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new kk(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Ck(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Ak(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Bk(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Pk(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new jk(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Lk(this.options,this.body,this.labelModule);break;case"image":this.shape=new Uk(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Vk(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Yk(this.options,this.body,this.labelModule);break;case"star":this.shape=new Xk(this.options,this.body,this.labelModule);break;case"text":this.shape=new Kk(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Jk(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Qk(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&Ox(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),Ox(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(e,i,n){var r;if(void 0!==n){var o=e.group;if(void 0!==i&&void 0!==i.group&&o!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=n.get(o);void 0!==s.opacity&&void 0===i.opacity&&(t.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=cv(r=kx(i)).call(r,(function(t){return null!=i[t]}));a.push("font"),jb(a,e,s),e.color=Yb(e.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(jb(["color","fixed","shadow"],e,i,n),t.checkMass(i),void 0!==e.opacity&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==i.opacity&&(t.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),i.shapeProperties&&!t.checkCoordinateOrigin(i.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+i.shapeProperties.coordinateOrigin),Zb(e,i,"shadow",r),void 0!==i.color&&null!==i.color){var s=Yb(i.color);Pb(e.color,s)}else!0===n&&null===i.color&&(e.color=Jb(r.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=Jb(r.font)),t.updateGroupOptions(e,i,o),void 0!==i.scaling&&Zb(e.scaling,i.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",pm),t.mass=1}}}]),t}();function nS(t,e){var i=void 0!==uf&&pl(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return rS(t,e);var n=bf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Xa(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rS(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function rS(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var oS=function(){function t(e,i,n,r){var o,s=this;if(vl(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=Vn(o=this.create).call(o,this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(n-t)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Jb(this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("refreshNodes",Vn(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Vn(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Ub(i.nodesListeners,(function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)})),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(iS.parseOptions(this.options,t),void 0!==t.opacity&&(O_(t.opacity)||!T_(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var i=0,n=Pf(this.body.nodes);i<n.length;i++){var r=n[i];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==t.size)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(e.isDataViewLike("id",t))this.body.data.nodes=t;else if(Of(t))this.body.data.nodes=new e.DataSet,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new e.DataSet}if(n&&Ub(this.nodesListeners,(function(t,e){n.off(e,t)})),this.body.nodes={},this.body.data.nodes){var r=this;Ub(this.nodesListeners,(function(t,e){r.body.data.nodes.on(e,t)}));var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<t.length;r++){e=t[r];var o=this.body.data.nodes.get(e),s=this.create(o);n.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,r=!1,o=0;o<t.length;o++){var s=t[o],a=n[s],l=e[o];void 0!==a?a.setOptions(l)&&(r=!0):(r=!0,a=this.create(l),n[s]=a)}r||void 0===i||(r=P_(e).call(e,(function(t,e){var n=i[e];return n&&n.level!==t.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:iS)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ub(this.body.nodes,(function(i,n){var r=t.body.data.nodes.get(n);void 0!==r&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(r))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Of(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];e[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,e=[],i=this.body.data.nodes.getDataSet(),n=nS(i.get());try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.id,s=this.body.nodes[o],a=Math.round(s.x),l=Math.round(s.y);r.x===a&&r.y===l||e.push({id:o,x:a,y:l})}}catch(t){n.e(t)}finally{n.f()}i.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],r={},o=0;o<n.edges.length;o++){var s=n.edges[o];"to"!==e&&s.toId==n.id?void 0===r[s.fromId]&&(i.push(s.fromId),r[s.fromId]=!0):"from"!==e&&s.fromId==n.id&&void 0===r[s.toId]&&(i.push(s.toId),r[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),vy((function(){n.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),sS=te,aS=F,lS=it,hS=ri,cS=function(t){return void 0!==t&&(sS(t,"value")||sS(t,"writable"))},uS=D,dS=Co;Di({target:"Reflect",stat:!0},{get:function t(e,i){var n,r,o=arguments.length<3?e:arguments[2];return hS(e)===o?e[i]:(n=uS.f(e,i))?cS(n)?n.value:void 0===n.get?void 0:aS(n.get,o):lS(r=dS(e))?t(r,i,o):void 0}});var fS=r(nt.Reflect.get),pS=r(Y_);function vS(){var t;return vS="undefined"!=typeof Reflect&&fS?hk(t=fS).call(t):function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pk(t)););return t}(t,e);if(n){var r=pS(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},vS.apply(this,arguments)}var yS=Di,gS=Math.hypot,bS=Math.abs,mS=Math.sqrt;yS({target:"Math",stat:!0,arity:2,forced:!!gS&&gS(1/0,NaN)!==1/0},{hypot:function(t,e){for(var i,n,r=0,o=0,s=arguments.length,a=0;o<s;)a<(i=bS(arguments[o++]))?(r=r*(n=a/i)*n+1,a=i):r+=i>0?(n=i/a)*n:i;return a===1/0?1/0:a*mS(r)}});var wS=r(nt.Math.hypot);function _S(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var xS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"transform",value:function(t,e){Of(t)||(t=[t]);for(var i=e.point.x,n=e.point.y,r=e.angle,o=e.length,s=0;s<t.length;++s){var a=t[s],l=a.x*Math.cos(r)-a.y*Math.sin(r),h=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=i+o*l,a.y=n+o*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),kS=function(t){uk(i,t);var e=_S(i);function i(){return vl(this,i),e.apply(this,arguments)}return wd(i,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var i=null!=e.imageWidth?e.imageWidth:e.image.width,n=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,n),t.restore()}return!1}}]),i}(xS),SS=function(t){uk(i,t);var e=_S(i);function i(){return vl(this,i),e.apply(this,arguments)}return wd(i,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),i}(xS),OS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),t}(),ES=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};xS.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle-n/2,o=e.angle+n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),IS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i={x:-.3,y:0};xS.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle+n/2,o=e.angle+3*n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),TS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),t}(),CS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),t}(),DS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};return xS.transform(i,e),Wn(t,i.x,i.y,.4*e.length),!0}}]),t}(),AS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),t}(),MS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),t}(),BS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),t}(),FS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return xS.transform(i,e),xS.drawPath(t,i),!0}}]),t}(),PS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return kS.draw(t,e);case"circle":return DS.draw(t,e);case"box":return MS.draw(t,e);case"crow":return OS.draw(t,e);case"curve":return ES.draw(t,e);case"diamond":return BS.draw(t,e);case"inv_curve":return IS.draw(t,e);case"triangle":return TS.draw(t,e);case"inv_triangle":return CS.draw(t,e);case"bar":return AS.draw(t,e);case"vee":return FS.draw(t,e);default:return SS.draw(t,e)}}}]),t}();function NS(t,e){var i=Pf(t);if(N_){var n=N_(t);e&&(n=cv(n).call(n,(function(e){return q_(t,e).enumerable}))),i.push.apply(i,n)}return i}function jS(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Zf(i=NS(Object(r),!0)).call(i,(function(e){sx(t,e,r[e])})):J_?rx(t,J_(r)):Zf(n=NS(Object(r))).call(n,(function(e){ox(t,e,q_(r,e))}))}return t}var zS=function(){function t(e,i,n){vl(this,t),this._body=i,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return wd(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,i,n,r){if(this.from!=this.to)this._line(t,e,i,n,r);else{var o=hf(this._getCircleData(t),3),s=o[0],a=o[1],l=o[2];this._circle(t,e,s,a,l)}}},{key:"_drawDashedLine",value:function(t,e,i,n,r){t.lineCap="round";var o=Of(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(o),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var s=hf(this._getCircleData(t),3),a=s[0],l=s[1],h=s[2];this._circle(t,e,a,l,h)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Gn(t,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var c=hf(this._getCircleData(t),3),u=c[0],d=c[1],f=c[2];this._circle(t,e,u,d,f)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,i=hf(bf(e=this._getCircleData(t)).call(e,0,2),2),n=i[0],r=i[1];return{from:this._findBorderPositionCircle(this.from,t,{x:n,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:n,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var i=Ix(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var n,r=i.x,o=i.y,s=i.low,a=i.high,l=i.direction,h=this.options.selfReference.size,c=.5*(s+a),u=0;!0===this.options.arrowStrikethrough&&(-1===l?u=this.options.endPointOffset.from:1===l&&(u=this.options.endPointOffset.to));var d=0;do{c=.5*(s+a),n=this._pointOnCircle(r,o,h,c);var f=Math.atan2(t.y-n.y,t.x-n.x),p=t.distanceToBorder(e,f)+u-Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));if(Math.abs(p)<.05)break;p>0?l>0?s=c:a=c:l>0?a=c:s=c,++d}while(s<=a&&d<10);return jS(jS({},n),{},{t:c})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=Vb(this.from.options.color.border,e.opacity),r=Vb(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,r),i}return"to"===e.inheritsColor?Vb(this.to.options.color.border,e.opacity):Vb(this.from.options.color.border,e.opacity)}return Vb(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,r){this.enableShadow(t,e);var o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,h=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:a,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:a,high:l,direction:1});o=Math.atan2(h.y-n,h.x-i),s=Math.atan2(c.y-n,c.x-i)}t.beginPath(),t.arc(i,n,r,o,s,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,r,o){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,r,o);var s=hf(this._getCircleData(void 0),3),a=s[0],l=s[1],h=s[2],c=a-r,u=l-o;return Math.abs(Math.sqrt(c*c+u*u)-h)}},{key:"_getDistanceToLine",value:function(t,e,i,n,r,o){var s=i-t,a=n-e,l=((r-t)*s+(o-e)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);var h=t+l*s-r,c=e+l*a-o;return Math.sqrt(h*h+c*c)}},{key:"getArrowData",value:function(t,e,i,n,r,o){var s,a,l,h,c,u,d,f=o.width;"from"===e?(l=this.from,h=this.to,c=o.fromArrowScale<0,u=Math.abs(o.fromArrowScale),d=o.fromArrowType):"to"===e?(l=this.to,h=this.from,c=o.toArrowScale<0,u=Math.abs(o.toArrowScale),d=o.toArrowType):(l=this.to,h=this.from,c=o.middleArrowScale<0,u=Math.abs(o.middleArrowScale),d=o.middleArrowType);var p=15*u+3*f;if(l!=h){var v=p/wS(l.x-h.x,l.y-h.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var y=this._findBorderPosition(l,t,{via:i}),g=this.getPoint(y.t+v*("from"===e?1:-1),i);s=Math.atan2(y.y-g.y,y.x-g.x),a=y}else s=Math.atan2(l.y-h.y,l.x-h.x),a=this._findBorderPosition(l,t);else{var b=(c?-v:v)/2,m=this.getPoint(.5+b,i),w=this.getPoint(.5-b,i);s=Math.atan2(m.y-w.y,m.x-w.x),a=this.getPoint(.5,i)}}else{var _=hf(this._getCircleData(t),3),x=_[0],k=_[1],S=_[2];if("from"===e){var O=this.options.selfReference.angle,E=this.options.selfReference.angle+Math.PI,I=this._findBorderPositionCircle(this.from,t,{x:x,y:k,low:O,high:E,direction:-1});s=-2*I.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=I}else if("to"===e){var T=this.options.selfReference.angle,C=this.options.selfReference.angle+Math.PI,D=this._findBorderPositionCircle(this.from,t,{x:x,y:k,low:T,high:C,direction:1});s=-2*D.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=D}else{var A=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(x,k,S,A),s=-2*A*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*p*Math.cos(s),y:a.y-.9*p*Math.sin(s)},angle:s,length:p,type:d}}},{key:"drawArrowHead",value:function(t,e,i,n,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,PS.draw(t,r)&&(this.enableShadow(t,e),Ey(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var i=Of(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function LS(t,e){var i=Pf(t);if(N_){var n=N_(t);e&&(n=cv(n).call(n,(function(e){return q_(t,e).enumerable}))),i.push.apply(i,n)}return i}function RS(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Zf(i=LS(Object(r),!0)).call(i,(function(e){sx(t,e,r[e])})):J_?rx(t,J_(r)):Zf(n=LS(Object(r))).call(n,(function(e){ox(t,e,q_(r,e))}))}return t}function US(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var HS=function(t){uk(i,t);var e=US(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=!1,s=1,a=0,l=this.to,h=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(l=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(h=0);var c=0;do{n=.5*(a+s),i=this.getPoint(n,r);var u=Math.atan2(l.y-i.y,l.x-i.x),d=l.distanceToBorder(e,u)+h-Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2));if(Math.abs(d)<.2)break;d<0?!1===o?a=n:s=n:!1===o?s=n:a=n,++c}while(a<=s&&c<10);return RS(RS({},i),{},{t:n})}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,r,o,s){var a,l,h,c,u,d=1e9,f=t,p=e;for(l=1;l<10;l++)h=.1*l,c=Math.pow(1-h,2)*t+2*h*(1-h)*s.x+Math.pow(h,2)*i,u=Math.pow(1-h,2)*e+2*h*(1-h)*s.y+Math.pow(h,2)*n,l>0&&(d=(a=this._getDistanceToLine(f,p,c,u,r,o))<d?a:d),f=c,p=u;return d}},{key:"_bezierCurve",value:function(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),i}(zS);function VS(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var WS=function(t){uk(i,t);var e=VS(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return wd(i,[{key:"setOptions",value:function(t){vS(pk(i.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var i=hf(this._getCircleData(),3),n=i[0],r=i[1],o=i[2],s=2*Math.PI*(1-t);return{x:n+o*Math.sin(s),y:r+o-o*(1-Math.cos(s))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){return this._getDistanceToBezierEdge(t,e,i,n,r,o,this.via)}}]),i}(HS);function YS(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var qS=function(t){uk(i,t);var e=YS(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=this.options.smooth.roundness,n=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var s,a;s=a=r<=o?i*o:i*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var l=this.from.x+s,h=this.from.y+a;return"discrete"===n&&(r<=o?l=r<i*o?this.from.x:l:h=o<i*r?this.from.y:h),{x:l,y:h}}if("straightCross"===n){var c=(1-i)*r,u=(1-i)*o;return r<=o?(c=0,this.from.y<this.to.y&&(u=-u)):(this.from.x<this.to.x&&(c=-c),u=0),{x:this.to.x+c,y:this.to.y+u}}if("horizontal"===n){var d=(1-i)*r;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===n){var f=(1-i)*o;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var p=Math.sqrt(r*r+o*o),v=Math.PI,y=(Math.atan2(o,r)+(.5*i+.5)*v)%(2*v);return{x:this.from.x+(.5*i+.5)*p*Math.sin(y),y:this.from.y+(.5*i+.5)*p*Math.cos(y)}}if("curvedCCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var g=Math.sqrt(r*r+o*o),b=Math.PI,m=(Math.atan2(o,r)+(.5*-i+.5)*b)%(2*b);return{x:this.from.x+(.5*i+.5)*g*Math.sin(m),y:this.from.y+(.5*i+.5)*g*Math.cos(m)}}t=e=r<=o?i*o:i*r,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var w=this.from.x+t,_=this.from.y+e;return r<=o?w=this.from.x<=this.to.x?this.to.x<w?this.to.x:w:this.to.x>w?this.to.x:w:_=this.from.y>=this.to.y?this.to.y>_?this.to.y:_:this.to.y<_?this.to.y:_,{x:w,y:_}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,r,o,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}]),i}(HS);function XS(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var GS=function(t){uk(i,t);var e=XS(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"_getDistanceToBezierEdge2",value:function(t,e,i,n,r,o,s,a){for(var l=1e9,h=t,c=e,u=[0,0,0,0],d=1;d<10;d++){var f=.1*d;u[0]=Math.pow(1-f,3),u[1]=3*f*Math.pow(1-f,2),u[2]=3*Math.pow(f,2)*(1-f),u[3]=Math.pow(f,3);var p=u[0]*t+u[1]*s.x+u[2]*a.x+u[3]*i,v=u[0]*e+u[1]*s.y+u[2]*a.y+u[3]*n;if(d>0){var y=this._getDistanceToLine(h,c,p,v,r,o);l=y<l?y:l}h=p,c=v}return l}}]),i}(HS);function KS(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var $S=function(t){uk(i,t);var e=KS(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"_line",value:function(t,e,i){var n=i[0],r=i[1];this._bezierCurve(t,e,n,r)}},{key:"_getViaCoordinates",value:function(){var t,e,i,n,r=this.from.x-this.to.x,o=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,n=this.to.y,t=this.from.x-s*r,i=this.to.x+s*r):(e=this.from.y-s*o,n=this.to.y+s*o,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:n}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){var s=hf(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),a=s[0],l=s[1];return this._getDistanceToBezierEdge2(t,e,i,n,r,o,a,l)}},{key:"getPoint",value:function(t){var e=hf(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),i=e[0],n=e[1],r=t,o=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:o[0]*this.fromPoint.x+o[1]*i.x+o[2]*n.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*i.y+o[2]*n.y+o[3]*this.toPoint.y}}}]),i}(GS);function JS(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var ZS=function(t){uk(i,t);var e=JS(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var r=Math.atan2(i.y-n.y,i.x-n.x),o=i.x-n.x,s=i.y-n.y,a=Math.sqrt(o*o+s*s),l=(a-t.distanceToBorder(e,r))/a;return{x:(1-l)*n.x+l*i.x,y:(1-l)*n.y+l*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){return this._getDistanceToLine(t,e,i,n,r,o)}}]),i}(zS),QS=function(){function t(e,i,n,r,o){if(vl(this,t),void 0===i)throw new Error("No body provided");this.options=Jb(r),this.globalOptions=r,this.defaultOptions=o,this.body=i,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Hx(this.body,this.options,!0),this.setOptions(e)}return wd(t,[{key:"setOptions",value:function(e){if(e){var i=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=gx(e.value));var n=[e,this.options,this.defaultOptions];return this.chooser=Sx("edge",n),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,r={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"==typeof o?r.width=o(r.width):"number"==typeof o&&(r.width+=o),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?r.width=s(r.width):"number"==typeof s&&(r.width+=s),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)));else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof WS&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof $S&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof qS&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof ZS&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new WS(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new $S(this.options,this.body,this.labelModule):this.edgeType=new qS(this.options,this.body,this.labelModule):this.edgeType=new ZS(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),e.fromArrowSrc&&(n.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(n.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(n.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),e.toArrowSrc&&(n.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(n.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(n.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(n.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(n.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(n.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.to)}}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i,n=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),n.id!=r.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,e),t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s=Ix(t,this.options.selfReference.angle,this.options.selfReference.size,n);i=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();Ox(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}var n={left:t.x,top:t.y};return this.isOverlappingWith(n)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,n=this.to.x,r=this.to.y,o=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,i,n,r,o,s)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var r=this.from.y-this.to.y,o=this.from.x-this.to.x,s=Math.atan2(r,o);return(s<-1&&o<0||s>0&&o<0)&&(s+=Math.PI),n.angle=s,n}},{key:"_pointOnCircle",value:function(t,e,i,n){return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Nb(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(T_(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==n.endPointOffset.from?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(T_(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==n.endPointOffset.to?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Ex(e.label)?t.label=e.label:Ex(t.label)||(t.label=void 0),Zb(t,e,"smooth",n),Zb(t,e,"shadow",n),Zb(t,e,"background",n),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=qv(n.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),Zb(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=qv(n.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=Vv(o).call(o,"to"),t.arrows.middle.enabled=-1!=Vv(o).call(o,"middle"),t.arrows.from.enabled=-1!=Vv(o).call(o,"from")}else{if("object"!==yd(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+$v(e.arrows));Zb(t.arrows,e.arrows,"to",n.arrows),Zb(t.arrows,e.arrows,"middle",n.arrows),Zb(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=qv(n.arrows));if(void 0!==e.color&&null!==e.color){var s=Mb(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,a=t.color;if(r)zb(a,n.color,!1,i);else for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&delete a[l];if(Mb(a))a.color=a,a.highlight=a,a.hover=a,a.inherit=!1,void 0===s.opacity&&(a.opacity=1);else{var h=!1;void 0!==s.color&&(a.color=s.color,h=!0),void 0!==s.highlight&&(a.highlight=s.highlight,h=!0),void 0!==s.hover&&(a.hover=s.hover,h=!0),void 0!==s.inherit&&(a.inherit=s.inherit),void 0!==s.opacity&&(a.opacity=Math.min(1,Math.max(0,s.opacity))),!0===h?a.inherit=!1:void 0===a.inherit&&(a.inherit="from")}}else!0===i&&null===e.color&&(t.color=Jb(n.color));!0===i&&null===e.font&&(t.font=Jb(n.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}}]),t}(),tO=function(){function t(e,i,n){var r,o=this;vl(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=Vn(r=this.create).call(r,this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(n-t)*r)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},zb(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var n=!1;for(var r in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,r)){var o=i.body.edges[r],s=i.body.data.edges.get(r);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&i.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){i.reconnectEdges()})),this.body.emitter.on("refreshEdges",Vn(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Vn(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Ub(i.edgesListeners,(function(t,e){i.body.data.edges&&i.body.data.edges.off(e,t)})),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){QS.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(e.isDataViewLike("id",t))this.body.data.edges=t;else if(Of(t))this.body.data.edges=new e.DataSet,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new e.DataSet}if(r&&Ub(this.edgesListeners,(function(t,e){r.off(e,t)})),this.body.edges={},this.body.data.edges){Ub(this.edgesListeners,(function(t,e){i.body.data.edges.on(e,t)}));var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],s=i[o];s&&s.disconnect();var a=n.get(o,{showInternalIds:!0});i[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,r=0;r<t.length;r++){var o=t[r],s=i.get(o),a=e[o];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[o]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;Ub(t,(function(t){var e=i[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;Ub(this.body.edges,(function(e,i){var n=t.body.data.edges.get(i);void 0!==n&&e.setOptions(n)}))}},{key:"create",value:function(t){return new QS(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];Ub(this.body.edges,(function(i,n){var r=t.body.nodes[i.toId],o=t.body.nodes[i.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||e.push(n)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,i=[];Zf(t).call(t,(function(t,n){void 0===e[n]&&i.push(n)})),this.add(i,!0)}}}]),t}(),eO=function(){function t(e,i,n){vl(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(n),this._rng=Sb("BARNES HUT SOLVER")}return wd(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,r=this._formBarnesHutTree(e,i);this.barnesHutTree=r;for(var o=0;o<n;o++)(t=e[i[o]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,r=Math.sqrt(i*i+n*n);r*t.calcSize>this.thetaInversed?this._calculateForces(r,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,i,n,e,t)}}},{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(t,3),s=e*o,a=i*o;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,n=e.length,r=t[e[0]].x,o=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var h=t[e[l]],c=h.x,u=h.y;h.options.mass>0&&(c<r&&(r=c),c>s&&(s=c),u<o&&(o=u),u>a&&(a=u))}var d=Math.abs(s-r)-Math.abs(a-o);d>0?(o-=.5*d,a+=.5*d):(r+=.5*d,s-=.5*d);var f=Math.max(1e-5,Math.abs(s-r)),p=.5*f,v=.5*(r+s),y=.5*(o+a),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-p,maxX:v+p,minY:y-p,maxY:y+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var b=0;b<n;b++)(i=t[e[b]]).options.mass>0&&this._placeInTree(g.root,i);return g}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,r=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=r,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=r,t.mass=n;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n,r=t.children.NW.range;n=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,n)}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i,n,r,o,s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,r=t.range.minY,o=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,r=t.range.minY,o=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,r=t.range.minY+s,o=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,r=t.range.minY+s,o=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),iO=function(){function t(e,i,n){vl(this,t),this._rng=Sb("REPULSION SOLVER"),this.body=e,this.physicsBody=i,this.setOptions(n)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o,s,a,l=this.body.nodes,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,u=this.options.nodeDistance,d=-2/3/u,f=0;f<h.length-1;f++){s=l[h[f]];for(var p=f+1;p<h.length;p++)t=(a=l[h[p]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*this._rng()),i<2*u&&(o=i<.5*u?1:d*i+1.3333333333333333,n=t*(o/=i),r=e*o,c[s.id].x-=n,c[s.id].y-=r,c[a.id].x+=n,c[a.id].y+=r)}}}]),t}(),nO=function(){function t(e,i,n){vl(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return wd(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance,r=0;r<e.length-1;r++)for(var o=t[e[r]],s=r+1;s<e.length;s++){var a=t[e[s]];if(o.level===a.level){var l=n+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(a.shape.radius||0)/2),h=a.x-o.x,c=a.y-o.y,u=Math.sqrt(h*h+c*c),d=void 0;d=u<l?-Math.pow(.05*u,2)+Math.pow(.05*l,2):0,0!==u&&(d/=u);var f=h*d,p=c*d;i[o.id].x-=f,i[o.id].y-=p,i[a.id].x+=f,i[a.id].y+=p}}}}]),t}(),rO=function(){function t(e,i,n){vl(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<o.length;a++)!0===(e=s[o[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.to,n=e.edgeType.via,r=e.from,this._calculateSpringForce(i,n,.5*t),this._calculateSpringForce(n,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=Math.max(Math.sqrt(n*n+r*r),.01),s=this.options.springConstant*(i-o)/o,a=n*s,l=r*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}(),oO=function(){function t(e,i,n){vl(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o,s,a,l,h,c=this.body.edges,u=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<f.length;v++){var y=f[v];p[y].springFx=0,p[y].springFy=0}for(var g=0;g<d.length;g++)!0===(e=c[d[g]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=0===(a=Math.sqrt(i*i+n*n))?.01:a,r=i*(s=this.options.springConstant*(t-a)/a),o=n*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=r,p[e.toId].springFy-=o),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=r,p[e.fromId].springFy+=o)):(void 0!==p[e.toId]&&(p[e.toId].x-=u*r,p[e.toId].y-=u*o),void 0!==p[e.fromId]&&(p[e.fromId].x+=u*r,p[e.fromId].y+=u*o)));s=1;for(var b=0;b<f.length;b++){var m=f[b];l=Math.min(s,Math.max(-s,p[m].springFx)),h=Math.min(s,Math.max(-s,p[m].springFy)),p[m].x+=l,p[m].y+=h}for(var w=0,_=0,x=0;x<f.length;x++){var k=f[x];w+=p[k].x,_+=p[k].y}for(var S=w/f.length,O=_/f.length,E=0;E<f.length;E++){var I=f[E];p[I].x-=S,p[I].y-=O}}}]),t}(),sO=function(){function t(e,i,n){vl(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)t=-(n=r[o[a]]).x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}},{key:"_calculateForces",value:function(t,e,i,n,r){var o=0===t?0:this.options.centralGravity/t;n[r.id].x=e*o,n[r.id].y=i*o}}]),t}();function aO(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var lO=function(t){uk(i,t);var e=aO(i);function i(t,n,r){var o;return vl(this,i),(o=e.call(this,t,n,r))._rng=Sb("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return wd(i,[{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=n.edges.length+1,s=this.options.gravitationalConstant*r.mass*n.options.mass*o/Math.pow(t,2),a=e*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}}]),i}(eO);function hO(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var cO=function(t){uk(i,t);var e=hO(i);function i(t,n,r){return vl(this,i),e.call(this,t,n,r)}return wd(i,[{key:"_calculateForces",value:function(t,e,i,n,r){if(t>0){var o=r.edges.length+1,s=this.options.centralGravity*o*r.options.mass;n[r.id].x=e*s,n[r.id].y=i*s}}}]),i}(sO),uO=function(){function t(e){vl(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},_n(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,jb(["stabilization"],this.options,t),Zb(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var e=this.options.wind;e&&(("number"!=typeof e.x||O_(e.x))&&(e.x=0),("number"!=typeof e.y||O_(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new lO(this.body,this.physicsBody,t),this.edgesSolver=new rO(this.body,this.physicsBody,t),this.gravitySolver=new cO(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new iO(this.body,this.physicsBody,t),this.edgesSolver=new rO(this.body,this.physicsBody,t),this.gravitySolver=new sO(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new nO(this.body,this.physicsBody,t),this.edgesSolver=new oO(this.body,this.physicsBody,t),this.gravitySolver=new sO(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new eO(this.body,this.physicsBody,t),this.edgesSolver=new rO(this.body,this.physicsBody,t),this.gravitySolver=new sO(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Vn(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Lf();this.physicsTick(),(Lf()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&vy((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=Pf(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var r=t[n];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t,e,i=this.body.nodes,n=this.referenceState;for(var r in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,r)&&void 0!==i[r]&&(t=i[r].x-n[r].positions.x,e=i[r].y-n[r].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var r=t[n],o=this._performStep(r);e=Math.max(e,o),i+=o}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,vy((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n,r=0;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;i(),e()?vy(Vn(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],r=this.physicsBody.forces[i],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,l=Gb((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),h={x:n.x+20*r.x,y:n.y+20*r.y};t.lineWidth=s,t.strokeStyle=l,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(h.x,h.y),t.stroke();var c=Math.atan2(r.y,r.x);t.fillStyle=l,PS.draw(t,{type:"arrow",point:h,angle:c,length:a}),Ey(t).call(t)}}}]),t}();let dO;const fO=new Uint8Array(16);function pO(){if(!dO&&(dO="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dO))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dO(fO)}const vO=[];for(let i=0;i<256;++i)vO.push((i+256).toString(16).slice(1));var yO={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function gO(t,e,i){if(yO.randomUUID&&!e&&!t)return yO.randomUUID();const n=(t=t||{}).random||(t.rng||pO)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=n[t];return e}return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return vO[t[e+0]]+vO[t[e+1]]+vO[t[e+2]]+vO[t[e+3]]+"-"+vO[t[e+4]]+vO[t[e+5]]+"-"+vO[t[e+6]]+vO[t[e+7]]+"-"+vO[t[e+8]]+vO[t[e+9]]+"-"+vO[t[e+10]]+vO[t[e+11]]+vO[t[e+12]]+vO[t[e+13]]+vO[t[e+14]]+vO[t[e+15]]}(n)}var bO=function(){function t(){vl(this,t)}return wd(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)o>(e=t[i[a]]).shape.boundingBox.left&&(o=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===n&&-1e9===r&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)o>(e=t[i[a]]).x&&(o=e.x),s<e.x&&(s=e.x),n>e.y&&(n=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===s&&1e9===n&&-1e9===r&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(zb(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):zb(i,t.options,!0),i}}]),t}();function mO(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var wO=function(t){uk(i,t);var e=mO(i);function i(t,n,r,o,s,a){var l;return vl(this,i),(l=e.call(this,t,n,r,o,s,a)).isCluster=!0,l.containedNodes={},l.containedEdges={},l}return wd(i,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],Ub(i.edges,(function(t){delete e.containedEdges[t.id]})),Ub(i.containedNodes,(function(t,i){e.containedNodes[i]=t})),i.containedNodes={},Ub(i.containedEdges,(function(t,i){e.containedEdges[i]=t})),i.containedEdges={},Ub(i.edges,(function(t){Ub(e.edges,(function(i){var n,r,o=Vv(n=i.clusteringEdgeReplacingIds).call(n,t.id);-1!==o&&(Ub(t.clusteringEdgeReplacingIds,(function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id})),Dp(r=i.clusteringEdgeReplacingIds).call(r,o,1))}))})),i.edges=[]}}]),i}(iS),_O=function(){function t(e){var i=this;vl(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},_n(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){i.clusteredNodes={},i.clusteredEdges={}}))}return wd(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===yd(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=t&&i.push(r.id)}for(var o=0;o<i.length;o++)this.clusterByConnection(i[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},r={};Ub(this.body.nodes,(function(i,o){i.options&&!0===e.joinCondition(i.options)&&(n[o]=i,Ub(i.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(n,r,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,o,s,a=[],l={},h=function(){var n={},h={},u=i.body.nodeIndices[c],d=i.body.nodes[u];if(void 0===l[u]){s=0,o=[];for(var f=0;f<d.edges.length;f++)r=d.edges[f],void 0===i.clusteredEdges[r.id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===t){for(var p=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=bO.cloneOptions(t);return e.joinCondition(i)},v=!0,y=0;y<o.length;y++){r=o[y];var g=i._getConnectedId(r,u);if(!p(d)){v=!1;break}h[r.id]=r,n[u]=d,n[g]=i.body.nodes[g],l[u]=!0}if(Pf(n).length>0&&Pf(h).length>0&&!0===v){var b=function(){for(var t=0;t<a.length;++t)for(var e in n)if(void 0!==a[t].nodes[e])return a[t]}();if(void 0!==b){for(var m in n)void 0===b.nodes[m]&&(b.nodes[m]=n[m]);for(var w in h)void 0===b.edges[w]&&(b.edges[w]=h[w])}else a.push({nodes:n,edges:h})}}}},c=0;c<this.body.nodeIndices.length;c++)h();for(var u=0;u<a.length;u++)this._cluster(a[u].nodes,a[u].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},s={},a=r.id,l=bO.cloneOptions(r);o[a]=r;for(var h=0;h<r.edges.length;h++){var c=r.edges[h];if(void 0===this.clusteredEdges[c.id]){var u=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[u])if(u!==a)if(void 0===e.joinCondition)s[c.id]=c,o[u]=this.body.nodes[u];else{var d=bO.cloneOptions(this.body.nodes[u]);!0===e.joinCondition(l,d)&&(s[c.id]=c,o[u]=this.body.nodes[u])}else s[c.id]=c}}var f=Mf(i=Pf(o)).call(i,(function(t){return o[t].id}));for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p))for(var v=o[p],y=0;y<v.edges.length;y++){var g=v.edges[y];Vv(f).call(f,this._getConnectedId(g,v.id))>-1&&(s[g.id]=g)}this._cluster(o,s,e,n)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var r,o,s,a,l,h,c=Pf(t),u=[],d=0;d<c.length;d++){s=t[o=c[d]];for(var f=0;f<s.edges.length;f++)r=s.edges[f],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==o?(a=i.id,h=l=r.fromId):(a=r.toId,l=i.id,h=a),void 0===t[h]&&u.push({edge:r,fromId:l,toId:a}))}for(var p=[],v=function(t){for(var e=0;e<p.length;e++){var i=p[e],n=t.fromId===i.fromId&&t.toId===i.toId,r=t.fromId===i.toId&&t.toId===i.fromId;if(n||r)return i}return null},y=0;y<u.length;y++){var g=u[y],b=g.edge,m=v(g);null===m?(m=this._createClusteredEdge(g.fromId,g.toId,b,n),p.push(m)):m.clusteringEdgeReplacingIds.push(b.id),this.body.edges[b.id].edgeReplacedById=m.id,this._backupEdgeOptions(b),b.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete t[r[s]];if(0!=Pf(t).length&&(1!=Pf(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var a=zb({},i.clusterNodeProperties);if(void 0!==i.processProperties){var l=[];for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var c=bO.cloneOptions(t[h]);l.push(c)}var u=[];for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)&&"clusterEdge:"!==d.substr(0,12)){var f=bO.cloneOptions(e[d],"edge");u.push(f)}if(!(a=i.processProperties(a,l,u)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+gO());var p=a.id;void 0===a.label&&(a.label="cluster");var v=void 0;void 0===a.x&&(v=this._getClusterPosition(t),a.x=v.x),void 0===a.y&&(void 0===v&&(v=this._getClusterPosition(t)),a.y=v.y),a.id=p;var y=this.body.functions.createNode(a,wO);y.containedNodes=t,y.containedEdges=e,y.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[a.id]=y,this._clusterEdges(t,e,a,i.clusterEdgeProperties),a.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,i=Pf(t),n=t[i[0]].x,r=t[i[0]].x,o=t[i[0]].y,s=t[i[0]].y,a=1;a<i.length;a++)n=(e=t[i[a]]).x<n?e.x:n,r=e.x>r?e.x:r,o=e.y<o?e.y:o,s=e.y>s?e.y:s;return{x:.5*(n+r),y:.5*(o+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=Vv(r).call(r,t)-1;if(o>=0){var s=r[o];return this.body.nodes[s]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var a=n.containedNodes,l=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var h={},c={x:n.x,y:n.y};for(var u in a)if(Object.prototype.hasOwnProperty.call(a,u)){var d=this.body.nodes[u];h[u]={x:d.x,y:d.y}}var f=e.releaseFunction(c,h);for(var p in a)if(Object.prototype.hasOwnProperty.call(a,p)){var v=this.body.nodes[p];void 0!==f[p]&&(v.x=void 0===f[p].x?n.x:f[p].x,v.y=void 0===f[p].y?n.y:f[p].y)}}else Ub(a,(function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)}));for(var y in a)if(Object.prototype.hasOwnProperty.call(a,y)){var g=this.body.nodes[y];g.vx=n.vx,g.vy=n.vy,g.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var b=[],m=0;m<n.edges.length;m++)b.push(n.edges[m]);for(var w=0;w<b.length;w++){for(var _=b[w],x=this._getConnectedId(_,t),k=this.clusteredNodes[x],S=0;S<_.clusteringEdgeReplacingIds.length;S++){var O=_.clusteringEdgeReplacingIds[S],E=this.body.edges[O];if(void 0!==E)if(void 0!==k){var I=this.body.nodes[k.clusterId];I.containedEdges[E.id]=E,delete l[E.id];var T=E.fromId,C=E.toId;E.toId==x?C=k.clusterId:T=k.clusterId,this._createClusteredEdge(T,C,E,I.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(E)}_.remove()}for(var D in l)Object.prototype.hasOwnProperty.call(l,D)&&this._restoreEdge(l[D]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e,i=[],n=0;void 0!==this.clusteredNodes[t]&&n<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,n++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),lp(i).call(i),i)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return lp(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],n=[],r=0;e.length>0&&r<100;){var o=e.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)n.push(o);else for(var l=0;l<a.length;++l){var h=a[l];-1===Vv(e).call(e,a)&&-1===Vv(i).call(i,a)&&e.push(h)}i.push(o)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>n&&(n=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return l>n&&(l=n),l}},{key:"_createClusteredEdge",value:function(t,e,i,n,r){var o=bO.cloneOptions(i,"edge");zb(o,n),o.from=t,o.to=e,o.id="clusterEdge:"+gO(),void 0!==r&&zb(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof QS){var r=e,o={};o[r.id]=r,e=o}if(t instanceof iS){var s=t,a={};a[s.id]=s,t=a}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(Object.prototype.hasOwnProperty.call(e,l)&&void 0!==this.body.edges[l]){var h=this.body.edges[l];this._backupEdgeOptions(h),h.setOptions({physics:!1})}for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(this.clusteredNodes[c]={clusterId:i.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return Ub(t,(function(t){e(t)&&i.push(t)})),i}},{key:"_updateState",value:function(){var t,e=this,i=[],n={},r=function(t){Ub(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&i.push(t);r((function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]}));for(var o=0;o<i.length;o++)delete this.clusteredNodes[i[o]];Ub(this.clusteredEdges,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||(n[t]=t)})),r((function(t){Ub(t.containedEdges,(function(t,e){t.endPointsValid()||n[e]||(n[e]=e)}))})),Ub(this.body.edges,(function(t,i){var r=!0,o=t.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;Ub(o,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(s+=1)})),r=s>0}t.endPointsValid()&&r||(n[i]=i)})),r((function(t){Ub(n,(function(i){delete t.containedEdges[i],Ub(t.edges,(function(r,o){r.id!==i?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(t){return!n[t]})):t.edges[o]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),Ub(n,(function(t){delete e.clusteredEdges[t]})),Ub(n,(function(t){delete e.body.edges[t]})),Ub(Pf(this.body.edges),(function(t){var i=e.body.edges[t],n=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(n!==e._isClusteredEdge(i.id))if(n){var r=e._getClusterNodeForNode(i.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[i.fromId],i,r);var o=e._getClusterNodeForNode(i.toId);void 0!==o&&e._clusterEdges(e.body.nodes[i.toId],i,o)}else delete e._clusterEdges[t],e._restoreEdge(i)}));for(var s=!1,a=!0,l=function(){var t=[];r((function(e){var i=Pf(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)}));for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);a=t.length>0,s=s||a};a;)l();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}(),xO=function(){function t(e,i){var n;vl(this,t),void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(t){t()}:n,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},_n(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=vy((function(){var t;e.zooming=!1,Vn(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Vn(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&Nb(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i,n=window;return!0===this.requiresTimeout?i=vy(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Vn(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,r),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var o=this._drawNodes(i,t).drawExternalLabels;e.drawExternalLabels=o}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,n,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,i=this.body.nodes;for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&((e=i[n]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,i,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,s=[],a=[],l=this.canvas.DOMtoCanvas({x:-20,y:-20}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),c={top:l.y,left:l.x,bottom:h.y,right:h.x},u=[],d=0;d<o.length;d++)if((e=r[o[d]]).hover)a.push(o[d]);else if(e.isSelected())s.push(o[d]);else if(!0===n){var f=e.draw(t);null!=f.drawExternalLabel&&u.push(f.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(c)){var p=e.draw(t);null!=p.drawExternalLabel&&u.push(p.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);var v=s.length,y=a.length;for(i=0;i<v;i++){var g=(e=r[s[i]]).draw(t);null!=g.drawExternalLabel&&u.push(g.drawExternalLabel)}for(i=0;i<y;i++){var b=(e=r[a[i]]).draw(t);null!=b.drawExternalLabel&&u.push(b.drawExternalLabel)}return{drawExternalLabels:function(){for(var t=0,e=u;t<e.length;t++)(0,e[t])()}}}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=0;n<i.length;n++){var r=e[i[n]];!0===r.connected&&r.draw(t)}}},{key:"_drawArrows",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=0;n<i.length;n++){var r=e[i[n]];!0===r.connected&&r.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=Vv(t).call(t,"msie 9.0")||-1!=Vv(t).call(t,"safari")&&Vv(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),t}(),kO=r(nt.setInterval);function SO(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function OO(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}var EO=function(){function t(e){vl(this,t),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},_n(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Vn(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t&&Nb(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var i;if(window.ResizeObserver){var n=new ResizeObserver((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")})),r=this.frame;n.observe(r),this._cleanupCallbacks.push((function(){n.unobserve(r)}))}else{var o=kO((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(o)}))}var s=Vn(i=this._onResize).call(i,this);window.addEventListener("resize",s),this._cleanupCallbacks.push((function(){window.removeEventListener("resize",s)}))}}},{key:"_cleanUp",value:function(){var t,e,i;Zf(t=lp(e=Dp(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,(function(t){try{t()}catch(t){console.error(t)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==Vv(t).call(t,"%")||-1!==Vv(t).call(t,"px"))return t;if(-1===Vv(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new dm(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:dm.DIRECTION_ALL}),SO(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new dm(this.frame),OO(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}(),IO=function(){function t(e,i){var n,r,o=this;vl(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Vn(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Vn(r=this.releaseNode).call(r,this))}return wd(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){var i=_n({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!Of(i.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"==typeof i.minZoomLevel&&i.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return i}(t,this.body.nodeIndices);var i,n,r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)n=1,i=bO.getRange(this.body.nodes,t.nodes);else if(!0===e){var s=0;for(var a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&!0===this.body.nodes[a].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=bO.getRange(this.body.nodes,t.nodes),n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,n*=Math.min(r/600,o/600)}else{this.body.emitter.emit("_resizeNodes"),i=bO.getRange(this.body.nodes,t.nodes);var l=r/(1.1*Math.abs(i.maxX-i.minX)),h=o/(1.1*Math.abs(i.maxY-i.minY));n=l<=h?l:h}n>t.maxZoomLevel?n=t.maxZoomLevel:n<t.minZoomLevel&&(n=t.minZoomLevel);var c={position:bO.findCenter(i),scale:n,animation:t.animation};this.moveTo(c)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!T_(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!T_(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!T_(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!T_(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,i,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=n.x-t.position.x,o=n.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+t.offset.x,y:this.sourceTranslation.y+o*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Vn(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Vn(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=i.x-t,r=i.y-e,o=this.body.view.translation,s={x:o.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e,i=Qb[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Vn(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function TO(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},l=function(t){h(t,"keyup")},h=function(t,e){if(void 0!==o[e][t.keyCode]){for(var n=o[e][t.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==t.shiftKey||0==n[r].shift&&0==t.shiftKey)&&n[r].fn(t);1==i&&t.preventDefault()}};return r.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===o[i][s[t].code]&&(o[i][s[t].code]=[]),o[i][s[t].code].push({fn:e,shift:s[t].shift})},r.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&r.bind(i,t,e)},r.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],r=o[i][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||n.push(o[i][s[t].code][a]);o[i][s[t].code]=n}else o[i][s[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),r}var CO=function(){function t(e,i){var n=this;vl(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){n.activated=!0,n.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){n.activated=!1,n.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==n.keycharm&&n.keycharm.destroy()})),this.options={}}return wd(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var r,o,s=new dm(this.navigationDOM[e[n]]);"_fit"===i[n]?SO(s,Vn(r=this._fit).call(r,this)):SO(s,Vn(o=this.bindToRedraw).call(o,this,i[n])),this.navigationHammers.push(s)}var a=new dm(this.canvas.frame);OO(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Vn(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,r=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,r=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,i,n,r,o,s,a,l,h,c,u,d,f,p,v,y,g,b,m,w,_,x,k,S=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=TO({container:window,preventDefault:!0}):this.keycharm=TO({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Vn(t=this.keycharm).call(t,"up",(function(){S.bindToRedraw("_moveUp")}),"keydown"),Vn(e=this.keycharm).call(e,"down",(function(){S.bindToRedraw("_moveDown")}),"keydown"),Vn(i=this.keycharm).call(i,"left",(function(){S.bindToRedraw("_moveLeft")}),"keydown"),Vn(n=this.keycharm).call(n,"right",(function(){S.bindToRedraw("_moveRight")}),"keydown"),Vn(r=this.keycharm).call(r,"=",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vn(o=this.keycharm).call(o,"num+",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vn(s=this.keycharm).call(s,"num-",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vn(a=this.keycharm).call(a,"-",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vn(l=this.keycharm).call(l,"[",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vn(h=this.keycharm).call(h,"]",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vn(c=this.keycharm).call(c,"pageup",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vn(u=this.keycharm).call(u,"pagedown",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vn(d=this.keycharm).call(d,"up",(function(){S.unbindFromRedraw("_moveUp")}),"keyup"),Vn(f=this.keycharm).call(f,"down",(function(){S.unbindFromRedraw("_moveDown")}),"keyup"),Vn(p=this.keycharm).call(p,"left",(function(){S.unbindFromRedraw("_moveLeft")}),"keyup"),Vn(v=this.keycharm).call(v,"right",(function(){S.unbindFromRedraw("_moveRight")}),"keyup"),Vn(y=this.keycharm).call(y,"=",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vn(g=this.keycharm).call(g,"num+",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vn(b=this.keycharm).call(b,"num-",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Vn(m=this.keycharm).call(m,"-",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Vn(w=this.keycharm).call(w,"[",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Vn(_=this.keycharm).call(_,"]",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vn(x=this.keycharm).call(x,"pageup",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vn(k=this.keycharm).call(k,"pagedown",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function DO(t,e){var i=void 0!==uf&&pl(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return AO(t,e);var n=bf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Xa(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function AO(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var MO=function(){function t(e,i,n){var r,o,s,a,l,h,c,u,d,f,p,v,y;vl(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new CO(e,i),this.body.eventListeners.onTap=Vn(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=Vn(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Vn(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Vn(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Vn(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Vn(h=this.onDrag).call(h,this),this.body.eventListeners.onDragEnd=Vn(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=Vn(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=Vn(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=Vn(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=Vn(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Vn(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Vn(y=this.getPointer).call(y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},_n(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&(jb(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Zb(this.options,t,"keyboard"),t.tooltip&&(_n(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Yb(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-Rb(this.canvas.frame.canvas)};var e}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];-1===Vv(e).call(e,r)&&i.push(r)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=_n({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var n,r=DO(this.selectionHandler.getSelectedNodes());try{for(r.s();!(n=r.n()).done;){var o=n.value,s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(s)}}catch(t){r.e(t)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,i);var r=i.x-this.drag.pointer.x,o=i.y-this.drag.pointer.y;Zf(n).call(n,(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))})),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var e=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var n=this.body.selectionBox.position,r={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},o=cv(i=this.body.nodeIndices).call(i,(function(t){var i=e.body.nodes[t];return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}));Zf(o).call(o,(function(t){return e.selectionHandler.selectObject(e.body.nodes[t])}));var s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(Zf(a).call(a,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/i,s=(1-o)*e.x+r.x*o,a=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=vy((function(){return e._checkShowPopup(i)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,l=this.body.nodeIndices,h=this.body.nodes,c=[],u=0;u<l.length;u++)!0===(a=h[l[u]]).isOverlappingWith(n)&&(o=!0,void 0!==a.getTitle()&&c.push(l[u]));c.length>0&&(this.popupObj=h[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var d,f=this.body.edgeIndices,p=this.body.edges,v=[],y=0;y<f.length;y++)!0===(d=p[f[y]]).isOverlappingWith(n)&&!0===d.connected&&void 0!==d.getTitle()&&v.push(f[y]);v.length>0&&(this.popupObj=p[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new fm(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e_("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),x_);var BO=r(nt.Set),FO=b,PO=n_,NO=_w.getWeakData,jO=zw,zO=ri,LO=X,RO=it,UO=Pw,HO=te,VO=Ur.set,WO=Ur.getterFor,YO=Ph.find,qO=Ph.findIndex,XO=FO([].splice),GO=0,KO=function(t){return t.frozen||(t.frozen=new $O)},$O=function(){this.entries=[]},JO=function(t,e){return YO(t.entries,(function(t){return t[0]===e}))};$O.prototype={get:function(t){var e=JO(this,t);if(e)return e[1]},has:function(t){return!!JO(this,t)},set:function(t,e){var i=JO(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=qO(this.entries,(function(e){return e[0]===t}));return~e&&XO(this.entries,e,1),!!~e}};var ZO,QO={getConstructor:function(t,e,i,n){var r=t((function(t,r){jO(t,o),VO(t,{type:e,id:GO++,frozen:void 0}),LO(r)||UO(r,t[n],{that:t,AS_ENTRIES:i})})),o=r.prototype,s=WO(e),a=function(t,e,i){var n=s(t),r=NO(zO(e),!0);return!0===r?KO(n).set(e,i):r[n.id]=i,t};return PO(o,{delete:function(t){var e=s(this);if(!RO(t))return!1;var i=NO(t);return!0===i?KO(e).delete(t):i&&HO(i,e.id)&&delete i[e.id]},has:function(t){var e=s(this);if(!RO(t))return!1;var i=NO(t);return!0===i?KO(e).has(t):i&&HO(i,e.id)}}),PO(o,i?{get:function(t){var e=s(this);if(RO(t)){var i=NO(t);return!0===i?KO(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),r}},tE=ow,eE=s,iE=b,nE=n_,rE=_w,oE=e_,sE=QO,aE=it,lE=Ur.enforce,hE=a,cE=Sr,uE=Object,dE=Array.isArray,fE=uE.isExtensible,pE=uE.isFrozen,vE=uE.isSealed,yE=uE.freeze,gE=uE.seal,bE={},mE={},wE=!eE.ActiveXObject&&"ActiveXObject"in eE,_E=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},xE=oE("WeakMap",_E,sE),kE=xE.prototype,SE=iE(kE.set);if(cE)if(wE){ZO=sE.getConstructor(_E,"WeakMap",!0),rE.enable();var OE=iE(kE.delete),EE=iE(kE.has),IE=iE(kE.get);nE(kE,{delete:function(t){if(aE(t)&&!fE(t)){var e=lE(this);return e.frozen||(e.frozen=new ZO),OE(this,t)||e.frozen.delete(t)}return OE(this,t)},has:function(t){if(aE(t)&&!fE(t)){var e=lE(this);return e.frozen||(e.frozen=new ZO),EE(this,t)||e.frozen.has(t)}return EE(this,t)},get:function(t){if(aE(t)&&!fE(t)){var e=lE(this);return e.frozen||(e.frozen=new ZO),EE(this,t)?IE(this,t):e.frozen.get(t)}return IE(this,t)},set:function(t,e){if(aE(t)&&!fE(t)){var i=lE(this);i.frozen||(i.frozen=new ZO),EE(this,t)?SE(this,t,e):i.frozen.set(t,e)}else SE(this,t,e);return this}})}else tE&&hE((function(){var t=yE([]);return SE(new xE,t,1),!pE(t)}))&&nE(kE,{set:function(t,e){var i;return dE(t)&&(pE(t)?i=bE:vE(t)&&(i=mE)),SE(this,t,e),i===bE&&yE(t),i===mE&&gE(t),this}});var TE,CE,DE,AE,ME,BE=r(nt.WeakMap);function FE(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function PE(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i}function NE(t,e){var i=void 0!==uf&&pl(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return jE(t,e);var n=bf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Xa(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jE(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function jE(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function zE(t,e){var i,n=new BO,r=NE(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.has(o)||n.add(o)}}catch(t){r.e(t)}finally{r.f()}return n}"function"==typeof SuppressedError&&SuppressedError;var LE=function(){function t(){vl(this,t),TE.set(this,new BO),CE.set(this,new BO)}return wd(t,[{key:"size",get:function(){return FE(this,CE,"f").size}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];FE(this,CE,"f").add(o)}}},{key:"delete",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];FE(this,CE,"f").delete(o)}}},{key:"clear",value:function(){FE(this,CE,"f").clear()}},{key:"getSelection",value:function(){return cf(FE(this,CE,"f"))}},{key:"getChanges",value:function(){return{added:cf(zE(FE(this,TE,"f"),FE(this,CE,"f"))),deleted:cf(zE(FE(this,CE,"f"),FE(this,TE,"f"))),previous:cf(new BO(FE(this,TE,"f"))),current:cf(new BO(FE(this,CE,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();PE(this,TE,FE(this,CE,"f"),"f"),PE(this,CE,new BO(FE(this,TE,"f")),"f");var e,i=NE(t.added);try{for(i.s();!(e=i.n()).done;)e.value.select()}catch(t){i.e(t)}finally{i.f()}var n,r=NE(t.deleted);try{for(r.s();!(n=r.n()).done;)n.value.unselect()}catch(t){r.e(t)}finally{r.f()}return t}}]),t}();TE=new BE,CE=new BE;var RE=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};vl(this,t),DE.set(this,new LE),AE.set(this,new LE),ME.set(this,void 0),PE(this,ME,e,"f")}return wd(t,[{key:"sizeNodes",get:function(){return FE(this,DE,"f").size}},{key:"sizeEdges",get:function(){return FE(this,AE,"f").size}},{key:"getNodes",value:function(){return FE(this,DE,"f").getSelection()}},{key:"getEdges",value:function(){return FE(this,AE,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=FE(this,DE,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=FE(this,AE,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){FE(this,DE,"f").delete(t)}},{key:"deleteEdges",value:function(t){FE(this,AE,"f").delete(t)}},{key:"clear",value:function(){FE(this,DE,"f").clear(),FE(this,AE,"f").clear()}},{key:"commit",value:function(){for(var t,e,i={nodes:FE(this,DE,"f").commit(),edges:FE(this,AE,"f").commit()},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=FE(this,ME,"f")).call.apply(t,gf(e=[this,i]).call(e,r)),i}}]),t}();function UE(t,e){var i=void 0!==uf&&pl(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return HE(t,e);var n=bf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Xa(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HE(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function HE(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}DE=new BE,AE=new BE,ME=new BE;var VE=function(){function t(e,i){var n=this;vl(this,t),this.body=e,this.canvas=i,this._selectionAccumulator=new RE,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},_n(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){n.updateSelection()}))}return wd(t,[{key:"setOptions",value:function(t){void 0!==t&&Nb(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"generateClickEvent",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(e,i);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==n&&(o.previousSelection=n),"click"==t&&(o.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(o.controlEdge=e.controlEdge),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof iS?(!0===i&&(e=this._selectionAccumulator).addEdges.apply(e,cf(t.edges)),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=o[a];if(l.connected){var h=l.from.x,c=l.from.y,u=l.to.x,d=l.to.y,f=l.edgeType.getDistanceToEdge(h,c,u,d,i.x,i.y);f<n&&(r=a,n=f)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(t){t instanceof iS?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var e;t instanceof iS?(this._selectionAccumulator.deleteNodes(t),(e=this._selectionAccumulator).deleteEdges.apply(e,cf(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof iS?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),r=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),r=!0,i instanceof iS?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),r}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===i||i instanceof iS&&i.id!=r||i instanceof QS)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],n=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===n?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===i||i instanceof QS&&i.id!=o||i instanceof iS&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(void 0!==i){var s=Pf(this.hoverObj.edges).length,a=Pf(this.hoverObj.nodes).length;(n||i instanceof QS&&0===s&&0===a||i instanceof iS&&0===s&&0===a)&&(n=this.emitHoverEvent(t,e,i)),i instanceof iS&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,e){var i=!1,n=this._selectionAccumulator.commit(),r={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,r),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,r),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return Mf(t=this._selectionAccumulator.getNodes()).call(t,(function(t){return t.id}))}},{key:"getSelectedEdgeIds",value:function(){var t;return Mf(t=this._selectionAccumulator.getEdges()).call(t,(function(t){return t.id}))}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes){var i,n=UE(t.nodes);try{for(n.s();!(i=n.n()).done;){var r=i.value,o=this.body.nodes[r];if(!o)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(o,e.highlightEdges)}}catch(t){n.e(t)}finally{n.f()}}if(t.edges){var s,a=UE(t.edges);try{for(a.s();!(s=a.n()).done;){var l=s.value,h=this.body.edges[l];if(!h)throw new RangeError('Edge with id "'+l+'" not found');this.selectObject(h)}}catch(t){a.e(t)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,r=this.body.nodes,o=n.length-1;o>=0;o--){var s=r[n[o]].getItemsOnPoint(e);i.push.apply(i,s)}for(var a=this.body.edgeIndices,l=this.body.edges,h=a.length-1;h>=0;h--){var c=l[a[h]].getItemsOnPoint(e);i.push.apply(i,c)}return i}}]),t}(),WE=lh,YE=Math.floor,qE=function(t,e){var i=t.length,n=YE(i/2);return i<8?XE(t,e):GE(t,qE(WE(t,0,n),e),qE(WE(t,n),e),e)},XE=function(t,e){for(var i,n,r=t.length,o=1;o<r;){for(n=o,i=t[o];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},GE=function(t,e,i,n){for(var r=e.length,o=i.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?n(e[s],i[a])<=0?e[s++]:i[a++]:s<r?e[s++]:i[a++];return t},KE=qE,$E=ct.match(/firefox\/(\d+)/i),JE=!!$E&&+$E[1],ZE=/MSIE|Trident/.test(ct),QE=ct.match(/AppleWebKit\/(\d+)\./),tI=!!QE&&+QE[1],eI=Di,iI=b,nI=Bt,rI=Jt,oI=Hi,sI=up,aI=dr,lI=a,hI=KE,cI=Uf,uI=JE,dI=ZE,fI=gt,pI=tI,vI=[],yI=iI(vI.sort),gI=iI(vI.push),bI=lI((function(){vI.sort(void 0)})),mI=lI((function(){vI.sort(null)})),wI=cI("sort"),_I=!lI((function(){if(fI)return fI<70;if(!(uI&&uI>3)){if(dI)return!0;if(pI)return pI<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)vI.push({k:e+n,v:i})}for(vI.sort((function(t,e){return e.v-t.v})),n=0;n<vI.length;n++)e=vI[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));eI({target:"Array",proto:!0,forced:bI||!mI||!wI||!_I},{sort:function(t){void 0!==t&&nI(t);var e=rI(this);if(_I)return void 0===t?yI(e):yI(e,t);var i,n,r=[],o=oI(e);for(n=0;n<o;n++)n in e&&gI(r,e[n]);for(hI(r,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:aI(e)>aI(i)?1:-1}}(t)),i=oI(r),n=0;n<i;)e[n]=r[n++];for(;n<o;)sI(e,n++);return e}});var xI=Nn("Array").sort,kI=ht,SI=xI,OI=Array.prototype,EI=function(t){var e=t.sort;return t===OI||kI(OI,t)&&e===OI.sort?SI:e},II=r(EI),TI=Bt,CI=Jt,DI=q,AI=Hi,MI=TypeError,BI=function(t){return function(e,i,n,r){TI(i);var o=CI(e),s=DI(o),a=AI(o),l=t?a-1:0,h=t?-1:1;if(n<2)for(;;){if(l in s){r=s[l],l+=h;break}if(l+=h,t?l<0:a<=l)throw new MI("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=h)l in s&&(r=i(r,s[l],l,o));return r}},FI={left:BI(!1),right:BI(!0)},PI="process"===x(s.process),NI=FI.left;Di({target:"Array",proto:!0,forced:!PI&&gt>79&&gt<83||!Uf("reduce")},{reduce:function(t){var e=arguments.length;return NI(this,t,e,e>1?arguments[1]:void 0)}});var jI=Nn("Array").reduce,zI=ht,LI=jI,RI=Array.prototype,UI=function(t){var e=t.reduce;return t===RI||zI(RI,t)&&e===RI.reduce?LI:e},HI=r(UI);function VI(t){var e=function(){if("undefined"==typeof Reflect||!sk)return!1;if(sk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=pk(t);if(e){var r=pk(this).constructor;i=sk(n,arguments,r)}else i=n.apply(this,arguments);return dk(this,i)}}var WI=function(){function t(){vl(this,t)}return wd(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),YI=function(t){uk(i,t);var e=VI(i);function i(t){var n;return vl(this,i),(n=e.call(this)).layout=t,n}return wd(i,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){II(t).call(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),i}(WI),qI=function(t){uk(i,t);var e=VI(i);function i(t){var n;return vl(this,i),(n=e.call(this)).layout=t,n}return wd(i,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){II(t).call(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),i}(WI),XI=Ph.every;Di({target:"Array",proto:!0,forced:!Uf("every")},{every:function(t){return XI(this,t,arguments.length>1?arguments[1]:void 0)}});var GI=Nn("Array").every,KI=ht,$I=GI,JI=Array.prototype,ZI=function(t){var e=t.every;return t===JI||KI(JI,t)&&e===JI.every?$I:e},QI=r(ZI);function tT(t,e){var i=void 0!==uf&&pl(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return eT(t,e);var n=bf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Xa(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eT(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function eT(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function iT(t,e){var i=new BO;return Zf(t).call(t,(function(t){var e;Zf(e=t.edges).call(e,(function(t){t.connected&&i.add(t)}))})),Zf(i).call(i,(function(t){var i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)})),e}function nT(t,e,i,n){var r,o,s=qv(null),a=HI(r=cf(Nx(n).call(n))).call(r,(function(t,e){return t+1+e.edges.length}),0),l=i+"Id",h="to"===i?1:-1,c=tT(n);try{var u,d=function(){var r=hf(o.value,2),c=r[0],u=r[1];if(!n.has(c)||!t(u))return 0;s[c]=0;for(var d,f,p=[u],v=0,y=function(){var t,r;if(!n.has(c))return 0;var o=s[d.id]+h;if(Zf(t=cv(r=d.edges).call(r,(function(t){return t.connected&&t.to!==t.from&&t[i]!==d&&n.has(t.toId)&&n.has(t.fromId)}))).call(t,(function(t){var n=t[l],r=s[n];(null==r||e(o,r))&&(s[n]=o,p.push(t[i]))})),v>a)return{v:{v:iT(n,s)}};++v};d=p.pop();)if(0!==(f=y())&&f)return f.v};for(c.s();!(o=c.n()).done;)if(0!==(u=d())&&u)return u.v}catch(t){c.e(t)}finally{c.f()}return s}var rT=function(){function t(){vl(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return wd(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var r=e.levels[n];if(e.childrenReference[n]){var o=e.childrenReference[n];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,t(o[s]))}return i[n]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),n=Math.max(a.x,n),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:i,max_x:n,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var r=0;r<i.length;r++)for(var o=0;o<n.length;o++)if(i[r]==n[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return Pf(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var r in n)if(n[r]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),oT=function(){function t(e){vl(this,t),this.body=e,this._resetRNG(Math.random()+":"+Lf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},_n(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(Nb(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Zb(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),zb(e,this.optionsBackup)}return e}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=Sb(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===yd(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:{enabled:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],r=2*Math.PI*this._rng();void 0===n.x&&(n.x=e*Math.cos(r)),void 0===n.y&&(n.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var s=t.length;t.length>r&&n<=10;){n+=1;var a=t.length;if(n%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=0;l<t.length;l++){var h=this.body.nodes[t[l]];!1===h.predefinedPosition&&(h.x+=70*(.5-this._rng()),h.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=bO.getRangeCore(this.body.nodes,this.body.nodeIndices),e=bO.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new rT,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(e,i){var n=t.hierarchical.trees;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e&&t.direction.shift(r,i)},r=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e},o=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var r=t.hierarchical.childrenReference[i.id];if(r.length>0)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],n)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,o=1e9,s=-1e9;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=t.body.nodes[a],h=t.hierarchical.levels[l.id],c=t.direction.getPosition(l),u=hf(t._getSpaceAroundNode(l,e),2),d=u[0],f=u[1];n=Math.min(d,n),r=Math.min(f,r),h<=i&&(o=Math.min(c,o),s=Math.max(c,s))}return[o,s,n,r]},a=function(e,i,n){for(var r=t.hierarchical,o=0;o<i.length;o++){var s=i[o],a=r.distributionOrdering[s];if(a.length>1)for(var l=0;l<a.length-1;l++){var h=a[l],c=a[l+1];r.hasSameParent(h,c)&&r.inSameSubNetwork(h,c)&&e(h,c,n)}}},l=function(i,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.direction.getPosition(i),l=t.direction.getPosition(n),h=Math.abs(l-a),c=t.options.hierarchical.nodeSpacing;if(h>c){var u={},d={};o(i,u),o(n,d);var f=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(i.id);return Math.min(n,r)}(i,n),p=s(u,f),v=s(d,f),y=p[1],g=v[0],b=v[2];if(Math.abs(y-g)>c){var m=y-g+c;m<-b+c&&(m=-b+c),m<0&&(t._shiftBlock(n.id,m),e=!0,!0===r&&t._centerParent(n))}}},h=function(n,r){for(var a=r.id,l=r.edges,h=t.hierarchical.levels[r.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,u={},d=[],f=0;f<l.length;f++){var p=l[f];if(p.toId!=p.fromId){var v=p.toId==a?p.from:p.to;u[l[f].id]=v,t.hierarchical.levels[v.id]<h&&d.push(p)}}var y=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==u[i[r].id]){var o=t.direction.getPosition(u[i[r].id])-e;n+=o/Math.sqrt(o*o+c)}return n},g=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==u[i[r].id]){var o=t.direction.getPosition(u[i[r].id])-e;n-=c*Math.pow(o*o+c,-1.5)}return n},b=function(e,i){for(var n=t.direction.getPosition(r),o={},s=0;s<e;s++){var a=y(n,i),l=g(n,i);if(void 0!==o[n-=Math.max(-40,Math.min(40,Math.round(a/l)))])break;o[n]=s}return n},m=b(n,d);!function(n){var a=t.direction.getPosition(r);if(void 0===i[r.id]){var l={};o(r,l),i[r.id]=l}var h=s(i[r.id]),c=h[2],u=h[3],d=n-a,f=0;d>0?f=Math.min(d,u-t.options.hierarchical.nodeSpacing):d<0&&(f=-Math.min(-d,c-t.options.hierarchical.nodeSpacing)),0!=f&&(t._shiftBlock(r.id,f),e=!0)}(m),function(i){var n=t.direction.getPosition(r),o=hf(t._getSpaceAroundNode(r),2),s=o[0],a=o[1],l=i-n,h=n;l>0?h=Math.min(n+(a-t.options.hierarchical.nodeSpacing),i):l<0&&(h=Math.max(n-(s-t.options.hierarchical.nodeSpacing),i)),h!==n&&(t.direction.setPosition(r,h),e=!0)}(m=b(n,l))};!0===this.options.hierarchical.blockShifting&&(function(i){var n=t.hierarchical.getLevels();n=lp(n).call(n);for(var r=0;r<i&&(e=!1,a(l,n,!0),!0===e);r++);}(5),function(){for(var e in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=t.hierarchical.getLevels();n=lp(n).call(n);for(var r=0;r<i;r++){e=!1;for(var o=0;o<n.length;o++)for(var s=n[o],a=t.hierarchical.distributionOrdering[s],l=0;l<a.length;l++)h(1e3,a[l]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=lp(e).call(e);for(var i=0;i<e.length;i++)for(var n=e[i],r=t.hierarchical.distributionOrdering[n],o=0;o<r.length;o++)t._centerParent(r[o])}(),function(){for(var e=r(),i=0,o=0;o<e.length-1;o++)i+=e[o].max-e[o+1].min+t.options.hierarchical.treeSpacing,n(o+1,i)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[n],a=1e9,l=1e9;if(0!==r){var h=s[r-1];(!0===i&&void 0===e[h.id]||!1===i)&&(a=o-this.direction.getPosition(h))}if(r!=s.length-1){var c=s[r+1];if(!0===i&&void 0===e[c.id]||!1===i){var u=this.direction.getPosition(c);l=Math.min(l,u-o)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],r=this.body.nodes[n],o=this.hierarchical.childrenReference[n];if(void 0!==o){var s=this._getCenterPosition(o),a=this.direction.getPosition(r),l=hf(this._getSpaceAroundNode(r),2),h=l[0],c=l[1],u=a-s;(u<0&&Math.abs(u)<c-this.options.hierarchical.nodeSpacing||u>0&&Math.abs(u)<h-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var i,n=Pf(t[e]);n=this._indexArrayToNodes(n),II(i=this.direction).call(i,n);for(var r=0,o=0;o<n.length;o++){var s=n[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,l=a*r;r>0&&(l=this.direction.getPosition(n[o-1])+a),this.direction.setPosition(s,l,e),this._validatePositionAndContinue(s,e,l),r++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i,n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var r=[],o=0;o<n.length;o++)r.push(this.body.nodes[n[o]]);II(i=this.direction).call(i,r);for(var s=0;s<r.length;s++){var a=r[s],l=this.hierarchical.levels[a.id];if(!(l>e&&void 0===this.positionedNodes[a.id]))return;var h=this.options.hierarchical.nodeSpacing,c=void 0;c=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[s-1])+h,this.direction.setPosition(a,c,l),this._validatePositionAndContinue(a,l,c)}var u=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],u,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-i,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e,i={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];var n=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,n),void 0===i[n]&&(i[n]={}),i[n][t]=e}return i}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return Ub(t.edges,(function(t){var n;-1!==Vv(n=e.body.edgeIndices).call(n,t.id)&&i.push(t)})),i}},{key:"_getHubSizes",value:function(){var t=this,e={};Ub(this.body.nodeIndices,(function(i){var n=t.body.nodes[i],r=t._getActiveEdges(n).length;e[r]=!0}));var i=[];return Ub(e,(function(t){i.push(Number(t))})),II(i).call(i,(function(t,e){return e-t})),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=function(){var n=i[r];if(0===n)return 1;Ub(t.body.nodeIndices,(function(i){var r=t.body.nodes[i];n===t._getActiveEdges(r).length&&t._crawlNetwork(e,i)}))},r=0;r<i.length&&!n();++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,i,n){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var o=(bO.cloneOptions(e,"node"),bO.cloneOptions(i,"node"),void bO.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,i=HI(t=this.body.nodeIndices).call(t,(function(t,i){return t.set(i,e.body.nodes[i]),t}),new k_);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return nT((function(e){var i,n;return QI(i=cv(n=e.edges).call(n,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.from===e}))}),(function(t,e){return e<t}),"to",t)}(i):this.hierarchical.levels=function(t){return nT((function(e){var i,n;return QI(i=cv(n=e.edges).call(n,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.to===e}))}),(function(t,e){return e>t}),"from",t)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,n={},r=function i(r,o){if(void 0===n[r.id]){var s;t.hierarchical.setTreeIndex(r,o),n[r.id]=!0;for(var a=t._getActiveEdges(r),l=0;l<a.length;l++){var h=a[l];!0===h.connected&&(s=h.toId==r.id?h.from:h.to,r.id!=s.id&&(e(r,s,h),i(s,o)))}}};if(void 0===i)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];void 0===n[a]&&(r(this.body.nodes[a],o),o+=1)}else{var l=this.body.nodes[i];if(void 0===l)return void console.error("Node not found:",i);r(l)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(r){if(!n[r]){n[r]=!0,i.direction.shift(r,e);var o=i.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)t(o[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];e[s]=!0,t(e,s)}}(n,t),function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==e[s])return{foundParent:s,withChild:n};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new YI(this):new qI(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var r=void 0;if(void 0!==t[n].id)r=t[n];else{var o=t[n];r=this.body.nodes[o]}var s=this.direction.getPosition(r);e=Math.min(e,s),i=Math.max(i,s)}return.5*(e+i)}}]),t}();function sT(t,e){var i=void 0!==uf&&pl(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return aT(t,e);var n=bf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Xa(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aT(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function aT(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var lT=function(){function t(e,i,n,r){var o,s,a=this;vl(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},_n(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Vn(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Vn(s=this._restore).call(s,this))}return wd(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,zb(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),r=i+n,o=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===i&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===n&&0===i&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==r&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,Vn(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Vn(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Vn(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Vn(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=zb({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,i,n,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Vn(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Vn(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Vn(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Vn(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Vn(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",Vn(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==yd(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Vn(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var i,n,r,o,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),l=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Vn(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Vn(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Vn(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",Vn(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=s.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===l.selected&&(l.x=e.to.x,l.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var h=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(h.from.id,h.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),n=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var o={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(o,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=zb({},this.options.controlNodeStyle);i.id="targetNode"+gO(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},Ab(this.editModeDiv);var e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Vn(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(Ab(this.editModeDiv),Ab(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,e,i=sT(Dp(t=this._domEventListenerCleanupQueue).call(t,0));try{for(i.s();!(e=i.n()).done;)(0,e.value)()}catch(t){i.e(t)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Ab(this.manipulationDiv),Ab(this.editModeDiv),Ab(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Vn(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Vn(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Vn(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Vn(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";var n=this._createButton("delete",i,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Vn(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Vn(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+$v(Pf(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,e){var i=new dm(t,{});SO(i,e),this._domEventListenerCleanupQueue.push((function(){i.destroy()}));var n=function(t){var i=t.keyCode,n=t.key;"Enter"!==n&&" "!==n&&13!==i&&32!==i||e()};t.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push((function(){t.removeEventListener("keyup",n,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var i,n=Vv(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);-1!==n&&Dp(i=this.body.edgeIndices).call(i,n,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a=Vv(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);-1!==a&&Dp(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=_n({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=i.isOverlappingWith(e),s=n.isOverlappingWith(e);!0===o?(this.selectedControlNode=i,r.edgeType.from=i):!0===s&&(this.selectedControlNode=n,r.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=_n({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var r=this.body.functions.createEdge({id:"connectionEdge"+gO(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===Vv(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}if(t.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(e.x),l.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===Vv(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(n,o.id)),t.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:gO(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,(function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===yd(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,(function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),hT="string",cT="boolean",uT="number",dT="array",fT="object",pT=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],vT={borderWidth:{number:uT},borderWidthSelected:{number:uT,undefined:"undefined"},brokenImage:{string:hT,undefined:"undefined"},chosen:{label:{boolean:cT,function:"function"},node:{boolean:cT,function:"function"},__type__:{object:fT,boolean:cT}},color:{border:{string:hT},background:{string:hT},highlight:{border:{string:hT},background:{string:hT},__type__:{object:fT,string:hT}},hover:{border:{string:hT},background:{string:hT},__type__:{object:fT,string:hT}},__type__:{object:fT,string:hT}},opacity:{number:uT,undefined:"undefined"},fixed:{x:{boolean:cT},y:{boolean:cT},__type__:{object:fT,boolean:cT}},font:{align:{string:hT},color:{string:hT},size:{number:uT},face:{string:hT},background:{string:hT},strokeWidth:{number:uT},strokeColor:{string:hT},vadjust:{number:uT},multi:{boolean:cT,string:hT},bold:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},boldital:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},ital:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},mono:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},__type__:{object:fT,string:hT}},group:{string:hT,number:uT,undefined:"undefined"},heightConstraint:{minimum:{number:uT},valign:{string:hT},__type__:{object:fT,boolean:cT,number:uT}},hidden:{boolean:cT},icon:{face:{string:hT},code:{string:hT},size:{number:uT},color:{string:hT},weight:{string:hT,number:uT},__type__:{object:fT}},id:{string:hT,number:uT},image:{selected:{string:hT,undefined:"undefined"},unselected:{string:hT,undefined:"undefined"},__type__:{object:fT,string:hT}},imagePadding:{top:{number:uT},right:{number:uT},bottom:{number:uT},left:{number:uT},__type__:{object:fT,number:uT}},label:{string:hT,undefined:"undefined"},labelHighlightBold:{boolean:cT},level:{number:uT,undefined:"undefined"},margin:{top:{number:uT},right:{number:uT},bottom:{number:uT},left:{number:uT},__type__:{object:fT,number:uT}},mass:{number:uT},physics:{boolean:cT},scaling:{min:{number:uT},max:{number:uT},label:{enabled:{boolean:cT},min:{number:uT},max:{number:uT},maxVisible:{number:uT},drawThreshold:{number:uT},__type__:{object:fT,boolean:cT}},customScalingFunction:{function:"function"},__type__:{object:fT}},shadow:{enabled:{boolean:cT},color:{string:hT},size:{number:uT},x:{number:uT},y:{number:uT},__type__:{object:fT,boolean:cT}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:cT,array:dT},borderRadius:{number:uT},interpolation:{boolean:cT},useImageSize:{boolean:cT},useBorderWithImage:{boolean:cT},coordinateOrigin:{string:["center","top-left"]},__type__:{object:fT}},size:{number:uT},title:{string:hT,dom:"dom",undefined:"undefined"},value:{number:uT,undefined:"undefined"},widthConstraint:{minimum:{number:uT},maximum:{number:uT},__type__:{object:fT,boolean:cT,number:uT}},x:{number:uT},y:{number:uT},__type__:{object:fT}},yT={configure:{enabled:{boolean:cT},filter:{boolean:cT,string:hT,array:dT,function:"function"},container:{dom:"dom"},showButton:{boolean:cT},__type__:{object:fT,boolean:cT,string:hT,array:dT,function:"function"}},edges:{arrows:{to:{enabled:{boolean:cT},scaleFactor:{number:uT},type:{string:pT},imageHeight:{number:uT},imageWidth:{number:uT},src:{string:hT},__type__:{object:fT,boolean:cT}},middle:{enabled:{boolean:cT},scaleFactor:{number:uT},type:{string:pT},imageWidth:{number:uT},imageHeight:{number:uT},src:{string:hT},__type__:{object:fT,boolean:cT}},from:{enabled:{boolean:cT},scaleFactor:{number:uT},type:{string:pT},imageWidth:{number:uT},imageHeight:{number:uT},src:{string:hT},__type__:{object:fT,boolean:cT}},__type__:{string:["from","to","middle"],object:fT}},endPointOffset:{from:{number:uT},to:{number:uT},__type__:{object:fT,number:uT}},arrowStrikethrough:{boolean:cT},background:{enabled:{boolean:cT},color:{string:hT},size:{number:uT},dashes:{boolean:cT,array:dT},__type__:{object:fT,boolean:cT}},chosen:{label:{boolean:cT,function:"function"},edge:{boolean:cT,function:"function"},__type__:{object:fT,boolean:cT}},color:{color:{string:hT},highlight:{string:hT},hover:{string:hT},inherit:{string:["from","to","both"],boolean:cT},opacity:{number:uT},__type__:{object:fT,string:hT}},dashes:{boolean:cT,array:dT},font:{color:{string:hT},size:{number:uT},face:{string:hT},background:{string:hT},strokeWidth:{number:uT},strokeColor:{string:hT},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:uT},multi:{boolean:cT,string:hT},bold:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},boldital:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},ital:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},mono:{color:{string:hT},size:{number:uT},face:{string:hT},mod:{string:hT},vadjust:{number:uT},__type__:{object:fT,string:hT}},__type__:{object:fT,string:hT}},hidden:{boolean:cT},hoverWidth:{function:"function",number:uT},label:{string:hT,undefined:"undefined"},labelHighlightBold:{boolean:cT},length:{number:uT,undefined:"undefined"},physics:{boolean:cT},scaling:{min:{number:uT},max:{number:uT},label:{enabled:{boolean:cT},min:{number:uT},max:{number:uT},maxVisible:{number:uT},drawThreshold:{number:uT},__type__:{object:fT,boolean:cT}},customScalingFunction:{function:"function"},__type__:{object:fT}},selectionWidth:{function:"function",number:uT},selfReferenceSize:{number:uT},selfReference:{size:{number:uT},angle:{number:uT},renderBehindTheNode:{boolean:cT},__type__:{object:fT}},shadow:{enabled:{boolean:cT},color:{string:hT},size:{number:uT},x:{number:uT},y:{number:uT},__type__:{object:fT,boolean:cT}},smooth:{enabled:{boolean:cT},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:uT},forceDirection:{string:["horizontal","vertical","none"],boolean:cT},__type__:{object:fT,boolean:cT}},title:{string:hT,undefined:"undefined"},width:{number:uT},widthConstraint:{maximum:{number:uT},__type__:{object:fT,boolean:cT,number:uT}},value:{number:uT,undefined:"undefined"},__type__:{object:fT}},groups:{useDefaultGroups:{boolean:cT},__any__:vT,__type__:{object:fT}},interaction:{dragNodes:{boolean:cT},dragView:{boolean:cT},hideEdgesOnDrag:{boolean:cT},hideEdgesOnZoom:{boolean:cT},hideNodesOnDrag:{boolean:cT},hover:{boolean:cT},keyboard:{enabled:{boolean:cT},speed:{x:{number:uT},y:{number:uT},zoom:{number:uT},__type__:{object:fT}},bindToWindow:{boolean:cT},autoFocus:{boolean:cT},__type__:{object:fT,boolean:cT}},multiselect:{boolean:cT},navigationButtons:{boolean:cT},selectable:{boolean:cT},selectConnectedEdges:{boolean:cT},hoverConnectedEdges:{boolean:cT},tooltipDelay:{number:uT},zoomView:{boolean:cT},zoomSpeed:{number:uT},__type__:{object:fT}},layout:{randomSeed:{undefined:"undefined",number:uT,string:hT},improvedLayout:{boolean:cT},clusterThreshold:{number:uT},hierarchical:{enabled:{boolean:cT},levelSeparation:{number:uT},nodeSpacing:{number:uT},treeSpacing:{number:uT},blockShifting:{boolean:cT},edgeMinimization:{boolean:cT},parentCentralization:{boolean:cT},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:fT,boolean:cT}},__type__:{object:fT}},manipulation:{enabled:{boolean:cT},initiallyActive:{boolean:cT},addNode:{boolean:cT,function:"function"},addEdge:{boolean:cT,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:fT,boolean:cT,function:"function"}},deleteNode:{boolean:cT,function:"function"},deleteEdge:{boolean:cT,function:"function"},controlNodeStyle:vT,__type__:{object:fT,boolean:cT}},nodes:vT,physics:{enabled:{boolean:cT},barnesHut:{theta:{number:uT},gravitationalConstant:{number:uT},centralGravity:{number:uT},springLength:{number:uT},springConstant:{number:uT},damping:{number:uT},avoidOverlap:{number:uT},__type__:{object:fT}},forceAtlas2Based:{theta:{number:uT},gravitationalConstant:{number:uT},centralGravity:{number:uT},springLength:{number:uT},springConstant:{number:uT},damping:{number:uT},avoidOverlap:{number:uT},__type__:{object:fT}},repulsion:{centralGravity:{number:uT},springLength:{number:uT},springConstant:{number:uT},nodeDistance:{number:uT},damping:{number:uT},__type__:{object:fT}},hierarchicalRepulsion:{centralGravity:{number:uT},springLength:{number:uT},springConstant:{number:uT},nodeDistance:{number:uT},damping:{number:uT},avoidOverlap:{number:uT},__type__:{object:fT}},maxVelocity:{number:uT},minVelocity:{number:uT},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:cT},iterations:{number:uT},updateInterval:{number:uT},onlyDynamicEdges:{boolean:cT},fit:{boolean:cT},__type__:{object:fT,boolean:cT}},timestep:{number:uT},adaptiveTimestep:{boolean:cT},wind:{x:{number:uT},y:{number:uT},__type__:{object:fT}},__type__:{object:fT,boolean:cT}},autoResize:{boolean:cT},clickToUse:{boolean:cT},locale:{string:hT},locales:{__any__:{any:"any"},__type__:{object:fT}},height:{string:hT},width:{string:hT},__type__:{object:fT}},gT={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},bT=function(t,e,i){var n;return!(!Zp(t).call(t,"physics")||!Zp(n=gT.physics.solver).call(n,e)||i.physics.solver===e||"wind"===e)},mT=Object.freeze({__proto__:null,allOptions:yT,configuratorHideOption:bT,configureOptions:gT}),wT=function(){function t(){vl(this,t)}return wd(t,[{key:"getDistances",value:function(t,e,i){for(var n={},r=t.edges,o=0;o<e.length;o++){var s={};n[e[o]]=s;for(var a=0;a<e.length;a++)s[e[a]]=o==a?0:1e9}for(var l=0;l<i.length;l++){var h=r[i[l]];!0===h.connected&&void 0!==n[h.fromId]&&void 0!==n[h.toId]&&(n[h.fromId][h.toId]=1,n[h.toId][h.fromId]=1)}for(var c=e.length,u=0;u<c;u++)for(var d=e[u],f=n[d],p=0;p<c-1;p++)for(var v=e[p],y=n[v],g=p+1;g<c;g++){var b=e[g],m=n[b],w=Math.min(y[b],y[d]+f[b]);y[b]=w,m[v]=w}return n}}]),t}(),_T=function(){function t(e,i,n){vl(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new wT}return wd(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var r=0,o=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),s=1e9,a=0,l=0,h=0,c=0,u=0;s>.01&&r<o;){r+=1;var d=hf(this._getHighestEnergyNode(i),4);for(a=d[0],s=d[1],l=d[2],h=d[3],c=s,u=0;c>1&&u<5;){u+=1,this._moveNode(a,l,h);var f=hf(this._getEnergy(a),3);c=f[0],l=f[1],h=f[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,r=e[0],o=0,s=0,a=0;a<e.length;a++){var l=e[a];if(!0!==i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0!==i[l].options.fixed.x||!0!==i[l].options.fixed.y){var h=hf(this._getEnergy(l),3),c=h[0],u=h[1],d=h[2];n<c&&(n=c,r=l,o=u,s=d)}}return[r,n,o,s]}},{key:"_getEnergy",value:function(t){var e=hf(this.E_sums[t],2),i=e[0],n=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,l=r[t].x,h=r[t].y,c=this.K_matrix[t],u=this.L_matrix[t],d=0;d<n.length;d++){var f=n[d];if(f!==t){var p=r[f].x,v=r[f].y,y=c[f],g=u[f],b=1/Math.pow(Math.pow(l-p,2)+Math.pow(h-v,2),1.5);o+=y*(1-g*Math.pow(h-v,2)*b),s+=y*(g*(l-p)*(h-v)*b),a+=y*(1-g*Math.pow(l-p,2)*b)}}var m=(e/o+i/s)/(s/o-a/s),w=-(s*m+e)/o;r[t].x+=w,r[t].y+=m,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[n]][e[r]]=i*t[e[n]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[n]][e[r]]=i*Math.pow(t[e[n]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var r=t[n],o=e[r].x,s=e[r].y,a=0,l=0,h=n;h<t.length;h++){var c=t[h];if(c!==r){var u=e[c].x,d=e[c].y,f=1/Math.sqrt(Math.pow(o-u,2)+Math.pow(s-d,2));this.E_matrix[r][h]=[this.K_matrix[r][c]*(o-u-this.L_matrix[r][c]*(o-u)*f),this.K_matrix[r][c]*(s-d-this.L_matrix[r][c]*(s-d)*f)],this.E_matrix[c][n]=this.E_matrix[r][h],a+=this.E_matrix[r][h][0],l+=this.E_matrix[r][h][1]}}this.E_sums[r]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],r=this.K_matrix[t],o=this.L_matrix[t],s=i[t].x,a=i[t].y,l=0,h=0,c=0;c<e.length;c++){var u=e[c];if(u!==t){var d=n[c],f=d[0],p=d[1],v=i[u].x,y=i[u].y,g=1/Math.sqrt(Math.pow(s-v,2)+Math.pow(a-y,2)),b=r[u]*(s-v-o[u]*(s-v)*g),m=r[u]*(a-y-o[u]*(a-y)*g);n[c]=[b,m],l+=b,h+=m;var w=this.E_sums[u];w[0]+=b-f,w[1]+=m-p}}this.E_sums[t]=[l,h]}}]),t}();function xT(t,e,i){var n,r,o,s,a=this;if(!(this instanceof xT))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Gm,clickToUse:!1},_n(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Vn(n=this.on).call(n,this),off:Vn(r=this.off).call(r,this),emit:Vn(o=this.emit).call(o,this),once:Vn(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new $m((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new S_,this.canvas=new EO(this.body),this.selectionHandler=new VE(this.body,this.canvas),this.interactionHandler=new MO(this.body,this.canvas,this.selectionHandler),this.view=new IO(this.body,this.canvas),this.renderer=new xO(this.body,this.canvas),this.physics=new uO(this.body),this.layoutEngine=new oT(this.body),this.clustering=new _O(this.body),this.manipulation=new lT(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new oS(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new tO(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new _T(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}Jn(xT.prototype),xT.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===vm.validate(t,yT)&&console.error("%cErrors have been found in the supplied options object.",pm),Nb(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{var i=hf(e.split(/[-_ /]/,2),2),n=i[0],r=i[1],o=null!=n?n.toLowerCase():null,s=null!=r?r.toUpperCase():null;if(o&&s){var a,l=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,l))return l;console.warn(gf(a="Unknown variant ".concat(s," of language ")).call(a,o,"."))}if(o){var h=o;if(Object.prototype.hasOwnProperty.call(t,h))return h;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new um(this,this.body.container,gT,this.canvas.pixelRatio,bT)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};zb(i.nodes,this.nodesHandler.options),zb(i.edges,this.edgesHandler.options),zb(i.layout,this.layoutEngine.options),zb(i.interaction,this.selectionHandler.options),zb(i.interaction,this.renderer.options),zb(i.interaction,this.interactionHandler.options),zb(i.manipulation,this.manipulation.options),zb(i.physics,this.physics.options),zb(i.global,this.canvas.options),zb(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new cm(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},xT.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n],o=t[r.fromId],s=t[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},xT.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},xT.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Wm(t.dot);this.setData(e)}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=qm(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},xT.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];Ab(this.body.container)},xT.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,r=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=t[e].getValue();void 0!==o&&(i=void 0===i?o:Math.min(o,i),n=void 0===n?o:Math.max(o,n),r+=o)}if(void 0!==i&&void 0!==n)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,n,r)},xT.prototype.isActive=function(){return!this.activator||this.activator.active},xT.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},xT.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},xT.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},xT.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},xT.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},xT.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},xT.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},xT.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},xT.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},xT.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},xT.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},xT.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},xT.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},xT.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},xT.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},xT.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},xT.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},xT.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},xT.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},xT.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},xT.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},xT.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},xT.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},xT.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},xT.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},xT.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},xT.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},xT.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},xT.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},xT.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},xT.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},xT.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},xT.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},xT.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},xT.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},xT.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},xT.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},xT.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},xT.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},xT.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},xT.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},xT.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},xT.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},xT.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},xT.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},xT.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},xT.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},xT.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},xT.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},xT.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},xT.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},xT.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var kT=Wm;t.Network=xT,t.NetworkImages=$m,t.networkDOTParser=Ym,t.networkGephiParser=Xm,t.networkOptions=mT,t.parseDOTNetwork=kT,t.parseGephiNetwork=qm}(e,i(114))}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),(()=>{"use strict";i(219);var t,e,n,r,o,s,a,l,h,c=i(43);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(t||(t={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(e||(e={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(n||(n={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(r||(r={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(o||(o={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(l||(l={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(h||(h={}));const[u,d]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[f,p]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[v,y]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),g=t=>"number"===typeof t,b=t=>"boolean"===typeof t,m=t=>"function"===typeof t,w=t=>null!=t&&Object(t)===t,_=t=>w(t)&&m(t.then),x=t=>w(t)&&m(t[Symbol.iterator]),k=t=>w(t)&&m(t[Symbol.asyncIterator]),S=t=>w(t)&&w(t.schema),O=t=>w(t)&&"done"in t&&"value"in t,E=t=>w(t)&&m(t.stat)&&g(t.fd),I=t=>w(t)&&C(t.body),T=t=>"_getDOMStream"in t&&"_getNodeStream"in t,C=t=>w(t)&&m(t.cancel)&&m(t.getReader)&&!T(t),D=t=>w(t)&&m(t.read)&&m(t.pipe)&&b(t.readable)&&!T(t);function A(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?"[".concat(t instanceof f||t instanceof v?[...t].map((t=>A(t))):t,"]"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t,((t,e)=>"bigint"===typeof e?"".concat(e):e))}function M(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{l(n.next(t))}catch(e){o(e)}}function a(t){try{l(n.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))}Object.create;function B(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(t){return this instanceof F?(this.v=t,this):new F(t)}function P(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),o=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(t){return function(e){return Promise.resolve(e).then(t,h)}})),n[Symbol.asyncIterator]=function(){return this},n;function s(t,e){r[t]&&(n[t]=function(e){return new Promise((function(i,n){o.push([t,e,i,n])>1||a(t,e)}))},e&&(n[t]=e(n[t])))}function a(t,e){try{(i=r[t](e)).value instanceof F?Promise.resolve(i.value.v).then(l,h):c(o[0][2],i)}catch(n){c(o[0][3],n)}var i}function l(t){a("next",t)}function h(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function N(t){var e,i;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:F(t[n](e)),done:!1}:r?r(e):e}:r}}function j(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=B(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,r){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,r,(e=t[i](e)).done,e.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const z=new TextDecoder("utf-8"),L=t=>z.decode(t),R=new TextEncoder,U=t=>R.encode(t),H="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function V(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,r),s=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return o.set(s,i),t}function W(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,n,r,o;for(let s,a,l=0,h=0,c=t.length;++l<c;)s=e[h],a=t[l],!s||!a||s.buffer!==a.buffer||a.byteOffset<s.byteOffset?a&&(e[++h]=a):(({byteOffset:i,byteLength:r}=s),({byteOffset:n,byteLength:o}=a),i+r<n||n+o<i?a&&(e[++h]=a):e[h]=new Uint8Array(s.buffer,i,n-i+o));return e}(t),n=i.reduce(((t,e)=>t+e.byteLength),0);let r,o,s,a=0,l=-1;const h=Math.min(e||Number.POSITIVE_INFINITY,n);for(const c=i.length;++l<c;){if(r=i[l],o=r.subarray(0,Math.min(r.length,h-a)),h<=a+o.length){o.length<r.length?i[l]=r.subarray(o.length):o.length===r.length&&l++,s?V(s,o,a):s=o;break}V(s||(s=new Uint8Array(h)),o,a),a+=o.length}return[s||new Uint8Array(0),i.slice(l),n-(s?s.byteLength:0)]}function Y(t,e){let i=O(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=U(i)),i instanceof ArrayBuffer||i instanceof H?new t(i):w(n=i)&&m(n.clear)&&m(n.bytes)&&m(n.position)&&m(n.setPosition)&&m(n.capacity)&&m(n.getBufferIdentifier)&&m(n.createLong)?Y(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0);var n}const q=t=>Y(Int32Array,t),X=t=>Y(Uint8Array,t),G=t=>(t.next(),t);function*K(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):x(e)?e:i(e);return yield*G(function*(e){let i=null;do{i=e.next(yield Y(t,i))}while(!i.done)}(n[Symbol.iterator]())),new t}function $(t,e){return P(this,arguments,(function*(){if(_(e))return yield F(yield F(yield*N(j($(t,yield F(e))))));const i=function(t){return P(this,arguments,(function*(){yield yield F(yield F(t))}))},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):x(e)?function(t){return P(this,arguments,(function*(){yield F(yield*N(j(G(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):k(e)?e:i(e);return yield F(yield*N(j(G(function(e){return P(this,arguments,(function*(){let i=null;do{i=yield F(e.next(yield yield F(Y(t,i))))}while(!i.done)}))}(n[Symbol.asyncIterator]()))))),yield F(new t)}))}function J(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}const Z=Symbol.for("isArrowBigNum");function Q(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(Y(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function tt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Q.apply(this,e)}function et(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Q.apply(this,e)}function it(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Q.apply(this,e)}function nt(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,o=new v(e,i,n),s=r&&o[o.length-1]&BigInt(1)<<BigInt(63);let a=s?BigInt(1):BigInt(0),l=BigInt(0);if(s){for(const t of o)a+=~t*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const h of o)a+=h*(BigInt(1)<<BigInt(32)*l++);return a}let rt,ot;function st(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let o=-1;const s=n.length-1;do{for(i[0]=n[o=0];o<s;)n[o++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[o];n[o]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e="".concat(i[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}Q.prototype[Z]=!0,Q.prototype.toJSON=function(){return'"'.concat(rt(this),'"')},Q.prototype.valueOf=function(){return nt(this)},Q.prototype.toString=function(){return rt(this)},Q.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return nt(this);case"string":return rt(this);case"default":return ot(this)}return rt(this)},Object.setPrototypeOf(tt.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(et.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(it.prototype,Object.create(Uint32Array.prototype)),Object.assign(tt.prototype,Q.prototype,{constructor:tt,signed:!0,TypedArray:Int32Array,BigIntArray:f}),Object.assign(et.prototype,Q.prototype,{constructor:et,signed:!1,TypedArray:Uint32Array,BigIntArray:v}),Object.assign(it.prototype,Q.prototype,{constructor:it,signed:!0,TypedArray:Uint32Array,BigIntArray:v}),d?(ot=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:st(t),rt=t=>8===t.byteLength?"".concat(new t.BigIntArray(t.buffer,t.byteOffset,1)[0]):st(t)):(rt=st,ot=rt);class at{static new(t,e){switch(e){case!0:return new tt(t);case!1:return new et(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case f:return new tt(t)}return 16===t.byteLength?new it(t):new et(t)}static signed(t){return new tt(t)}static unsigned(t){return new et(t)}static decimal(t){return new it(t)}constructor(t,e){return at.new(t,e)}}var lt,ht,ct,ut,dt,ft,pt,vt,yt,gt,bt,mt,wt,_t,xt,kt,St,Ot,Et,It;class Tt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===l.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===l.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===l.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===l.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===l.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===l.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===l.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===l.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===l.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===l.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===l.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===l.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===l.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===l.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===l.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===l.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===l.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===l.Dictionary}static isDenseUnion(t){return Tt.isUnion(t)&&t.mode===e.Dense}static isSparseUnion(t){return Tt.isUnion(t)&&t.mode===e.Sparse}get typeId(){return l.NONE}}lt=Symbol.toStringTag,Tt[lt]=((It=Tt.prototype).children=null,It.ArrayType=Array,It[Symbol.toStringTag]="DataType");class Ct extends Tt{toString(){return"Null"}get typeId(){return l.Null}}ht=Symbol.toStringTag,Ct[ht]=(t=>t[Symbol.toStringTag]="Null")(Ct.prototype);class Dt extends Tt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return l.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?f:v}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}ct=Symbol.toStringTag,Dt[ct]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Dt.prototype);class At extends Dt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends Dt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends Dt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(At.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends Dt{constructor(){super(!0,64)}get ArrayType(){return f}}.prototype,"ArrayType",{value:f}),Object.defineProperty(class extends Dt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends Dt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Dt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends Dt{constructor(){super(!1,64)}get ArrayType(){return v}}.prototype,"ArrayType",{value:v});class Mt extends Tt{constructor(t){super(),this.precision=t}get typeId(){return l.Float}get ArrayType(){switch(this.precision){case n.HALF:return Uint16Array;case n.SINGLE:return Float32Array;case n.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}ut=Symbol.toStringTag,Mt[ut]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Mt.prototype);Object.defineProperty(class extends Mt{constructor(){super(n.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Mt{constructor(){super(n.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends Mt{constructor(){super(n.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class Bt extends Tt{constructor(){super()}get typeId(){return l.Binary}toString(){return"Binary"}}dt=Symbol.toStringTag,Bt[dt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Bt.prototype);class Ft extends Tt{constructor(){super()}get typeId(){return l.Utf8}toString(){return"Utf8"}}ft=Symbol.toStringTag,Ft[ft]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Ft.prototype);class Pt extends Tt{constructor(){super()}get typeId(){return l.Bool}toString(){return"Bool"}}pt=Symbol.toStringTag,Pt[pt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Pt.prototype);class Nt extends Tt{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return l.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}vt=Symbol.toStringTag,Nt[vt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Nt.prototype);class jt extends Tt{constructor(t){super(),this.unit=t}get typeId(){return l.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(r[this.unit],">")}}yt=Symbol.toStringTag,jt[yt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(jt.prototype);class zt extends Tt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return l.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(o[this.unit],">")}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return f}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}gt=Symbol.toStringTag,zt[gt]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(zt.prototype);class Lt extends Tt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return l.Timestamp}toString(){return"Timestamp<".concat(o[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}bt=Symbol.toStringTag,Lt[bt]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Lt.prototype);class Rt extends Tt{constructor(t){super(),this.unit=t}get typeId(){return l.Interval}toString(){return"Interval<".concat(s[this.unit],">")}}mt=Symbol.toStringTag,Rt[mt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Rt.prototype);class Ut extends Tt{constructor(t){super(),this.children=[t]}get typeId(){return l.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}wt=Symbol.toStringTag,Ut[wt]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Ut.prototype);class Ht extends Tt{constructor(t){super(),this.children=t}get typeId(){return l.Struct}toString(){return"Struct<{".concat(this.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}_t=Symbol.toStringTag,Ht[_t]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Ht.prototype);class Vt extends Tt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,i)=>(t[e]=i)&&t||t),Object.create(null))}get typeId(){return l.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((t=>"".concat(t.type))).join(" | "),">")}}xt=Symbol.toStringTag,Vt[xt]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Vt.prototype);class Wt extends Tt{constructor(t){super(),this.byteWidth=t}get typeId(){return l.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}kt=Symbol.toStringTag,Wt[kt]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Wt.prototype);class Yt extends Tt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return l.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}St=Symbol.toStringTag,Yt[St]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Yt.prototype);class qt extends Tt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return l.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return"Map<{".concat(this.children[0].type.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}Ot=Symbol.toStringTag,qt[Ot]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(qt.prototype);const Xt=(Gt=-1,()=>++Gt);var Gt;class Kt extends Tt{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Xt():"number"===typeof i?i:i.low}get typeId(){return l.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function $t(t){const e=t;switch(t.typeId){case l.Decimal:return t.bitWidth/32;case l.Timestamp:return 2;case l.Date:case l.Interval:return 1+e.unit;case l.FixedSizeList:return e.listSize;case l.FixedSizeBinary:return e.byteWidth;default:return 1}}Et=Symbol.toStringTag,Kt[Et]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Kt.prototype);class Jt{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map(((t,e)=>this.visit(t,...i.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return Zt(t,e,i);if("string"===typeof e&&e in l)return Zt(t,l[e],i);if(e&&e instanceof Tt)return Zt(t,Qt(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Tt)return Zt(t,Qt(e.type),i);return Zt(t,l.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return Zt(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function Zt(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case l.Null:n=t.visitNull;break;case l.Bool:n=t.visitBool;break;case l.Int:n=t.visitInt;break;case l.Int8:n=t.visitInt8||t.visitInt;break;case l.Int16:n=t.visitInt16||t.visitInt;break;case l.Int32:n=t.visitInt32||t.visitInt;break;case l.Int64:n=t.visitInt64||t.visitInt;break;case l.Uint8:n=t.visitUint8||t.visitInt;break;case l.Uint16:n=t.visitUint16||t.visitInt;break;case l.Uint32:n=t.visitUint32||t.visitInt;break;case l.Uint64:n=t.visitUint64||t.visitInt;break;case l.Float:n=t.visitFloat;break;case l.Float16:n=t.visitFloat16||t.visitFloat;break;case l.Float32:n=t.visitFloat32||t.visitFloat;break;case l.Float64:n=t.visitFloat64||t.visitFloat;break;case l.Utf8:n=t.visitUtf8;break;case l.Binary:n=t.visitBinary;break;case l.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case l.Date:n=t.visitDate;break;case l.DateDay:n=t.visitDateDay||t.visitDate;break;case l.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case l.Timestamp:n=t.visitTimestamp;break;case l.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case l.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case l.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case l.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case l.Time:n=t.visitTime;break;case l.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case l.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case l.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case l.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case l.Decimal:n=t.visitDecimal;break;case l.List:n=t.visitList;break;case l.Struct:n=t.visitStruct;break;case l.Union:n=t.visitUnion;break;case l.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case l.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case l.Dictionary:n=t.visitDictionary;break;case l.Interval:n=t.visitInterval;break;case l.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case l.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case l.FixedSizeList:n=t.visitFixedSizeList;break;case l.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error("Unrecognized type '".concat(l[e],"'"))}function Qt(t){switch(t.typeId){case l.Null:return l.Null;case l.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?l.Int8:l.Uint8;case 16:return i?l.Int16:l.Uint16;case 32:return i?l.Int32:l.Uint32;case 64:return i?l.Int64:l.Uint64}return l.Int}case l.Float:switch(t.precision){case n.HALF:return l.Float16;case n.SINGLE:return l.Float32;case n.DOUBLE:return l.Float64}return l.Float;case l.Binary:return l.Binary;case l.Utf8:return l.Utf8;case l.Bool:return l.Bool;case l.Decimal:return l.Decimal;case l.Time:switch(t.unit){case o.SECOND:return l.TimeSecond;case o.MILLISECOND:return l.TimeMillisecond;case o.MICROSECOND:return l.TimeMicrosecond;case o.NANOSECOND:return l.TimeNanosecond}return l.Time;case l.Timestamp:switch(t.unit){case o.SECOND:return l.TimestampSecond;case o.MILLISECOND:return l.TimestampMillisecond;case o.MICROSECOND:return l.TimestampMicrosecond;case o.NANOSECOND:return l.TimestampNanosecond}return l.Timestamp;case l.Date:switch(t.unit){case r.DAY:return l.DateDay;case r.MILLISECOND:return l.DateMillisecond}return l.Date;case l.Interval:switch(t.unit){case s.DAY_TIME:return l.IntervalDayTime;case s.YEAR_MONTH:return l.IntervalYearMonth}return l.Interval;case l.Map:return l.Map;case l.List:return l.List;case l.Struct:return l.Struct;case l.Union:switch(t.mode){case e.Dense:return l.DenseUnion;case e.Sparse:return l.SparseUnion}return l.Union;case l.FixedSizeBinary:return l.FixedSizeBinary;case l.FixedSizeList:return l.FixedSizeList;case l.Dictionary:return l.Dictionary}throw new Error("Unrecognized type '".concat(l[t.typeId],"'"))}Jt.prototype.visitInt8=null,Jt.prototype.visitInt16=null,Jt.prototype.visitInt32=null,Jt.prototype.visitInt64=null,Jt.prototype.visitUint8=null,Jt.prototype.visitUint16=null,Jt.prototype.visitUint32=null,Jt.prototype.visitUint64=null,Jt.prototype.visitFloat16=null,Jt.prototype.visitFloat32=null,Jt.prototype.visitFloat64=null,Jt.prototype.visitDateDay=null,Jt.prototype.visitDateMillisecond=null,Jt.prototype.visitTimestampSecond=null,Jt.prototype.visitTimestampMillisecond=null,Jt.prototype.visitTimestampMicrosecond=null,Jt.prototype.visitTimestampNanosecond=null,Jt.prototype.visitTimeSecond=null,Jt.prototype.visitTimeMillisecond=null,Jt.prototype.visitTimeMicrosecond=null,Jt.prototype.visitTimeNanosecond=null,Jt.prototype.visitDenseUnion=null,Jt.prototype.visitSparseUnion=null,Jt.prototype.visitIntervalDayTime=null,Jt.prototype.visitIntervalYearMonth=null;const te=new Float64Array(1),ee=new Uint32Array(te.buffer);function ie(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class ne extends Jt{}function re(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const oe=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},se=(t,e,i,n)=>{if(i+1<e.length){const{[i]:r,[i+1]:o}=e;t.set(n.subarray(0,o-r),r)}},ae=(t,e,i)=>{let{values:n}=t;n[e]=i},le=(t,e,i)=>{let{values:n}=t;n[e]=i},he=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;te[0]=t;const e=(2147483648&ee[1])>>16&65535;let i=2146435072&ee[1],n=0;return i>=1089470464?ee[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&ee[1])>>10):i<=1056964608?(n=1048576+(1048575&ee[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&ee[1])>>10),e|i|65535&n}(i)},ce=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},ue=(t,e,i)=>{let{values:n}=t;oe(n,2*e,i.valueOf())},de=(t,e,i)=>{let{values:n}=t;return oe(n,2*e,i/1e3)},fe=(t,e,i)=>{let{values:n}=t;return oe(n,2*e,i)},pe=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},ve=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},ye=(t,e,i)=>{let{values:n}=t;n[e]=i},ge=(t,e,i)=>{let{values:n}=t;n[e]=i},be=(t,e,i)=>{let{values:n}=t;n[e]=i},me=(t,e,i)=>{let{values:n}=t;n[e]=i},we=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Se.visit(r,t.valueOffsets[e],i)},_e=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Se.visit(r,e,i)},xe=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},ke=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};ne.prototype.visitBool=re(((t,e,i)=>{let{offset:n,values:r}=t;const o=n+e;i?r[o>>3]|=1<<o%8:r[o>>3]&=~(1<<o%8)})),ne.prototype.visitInt=re(ae),ne.prototype.visitInt8=re(ae),ne.prototype.visitInt16=re(ae),ne.prototype.visitInt32=re(ae),ne.prototype.visitInt64=re(ae),ne.prototype.visitUint8=re(ae),ne.prototype.visitUint16=re(ae),ne.prototype.visitUint32=re(ae),ne.prototype.visitUint64=re(ae),ne.prototype.visitFloat=re(((t,e,i)=>{switch(t.type.precision){case n.HALF:return he(t,e,i);case n.SINGLE:case n.DOUBLE:return le(t,e,i)}})),ne.prototype.visitFloat16=re(he),ne.prototype.visitFloat32=re(le),ne.prototype.visitFloat64=re(le),ne.prototype.visitUtf8=re(((t,e,i)=>{let{values:n,valueOffsets:r}=t;se(n,r,e,U(i))})),ne.prototype.visitBinary=re(((t,e,i)=>{let{values:n,valueOffsets:r}=t;return se(n,r,e,i)})),ne.prototype.visitFixedSizeBinary=re(((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)})),ne.prototype.visitDate=re(((t,e,i)=>{t.type.unit===r.DAY?ce(t,e,i):ue(t,e,i)})),ne.prototype.visitDateDay=re(ce),ne.prototype.visitDateMillisecond=re(ue),ne.prototype.visitTimestamp=re(((t,e,i)=>{switch(t.type.unit){case o.SECOND:return de(t,e,i);case o.MILLISECOND:return fe(t,e,i);case o.MICROSECOND:return pe(t,e,i);case o.NANOSECOND:return ve(t,e,i)}})),ne.prototype.visitTimestampSecond=re(de),ne.prototype.visitTimestampMillisecond=re(fe),ne.prototype.visitTimestampMicrosecond=re(pe),ne.prototype.visitTimestampNanosecond=re(ve),ne.prototype.visitTime=re(((t,e,i)=>{switch(t.type.unit){case o.SECOND:return ye(t,e,i);case o.MILLISECOND:return ge(t,e,i);case o.MICROSECOND:return be(t,e,i);case o.NANOSECOND:return me(t,e,i)}})),ne.prototype.visitTimeSecond=re(ye),ne.prototype.visitTimeMillisecond=re(ge),ne.prototype.visitTimeMicrosecond=re(be),ne.prototype.visitTimeNanosecond=re(me),ne.prototype.visitDecimal=re(((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)})),ne.prototype.visitList=re(((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,o=Se.getVisitFn(n);if(Array.isArray(i))for(let s=-1,a=r[e],l=r[e+1];a<l;)o(n,a++,i[++s]);else for(let s=-1,a=r[e],l=r[e+1];a<l;)o(n,a++,i.get(++s))})),ne.prototype.visitStruct=re(((t,e,i)=>{const n=t.type.children.map((t=>Se.getVisitFn(t.type))),r=i instanceof Map?(o=e,s=i,(t,e,i,n)=>e&&t(e,o,s.get(i.name))):i instanceof Ui?((t,e)=>(i,n,r,o)=>n&&i(n,t,e.get(o)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,o)=>n&&i(n,t,e[o]))(e,i):((t,e)=>(i,n,r,o)=>n&&i(n,t,e[r.name]))(e,i);var o,s;t.type.children.forEach(((e,i)=>r(n[i],t.children[i],e,i)))})),ne.prototype.visitUnion=re(((t,i,n)=>{t.type.mode===e.Dense?we(t,i,n):_e(t,i,n)})),ne.prototype.visitDenseUnion=re(we),ne.prototype.visitSparseUnion=re(_e),ne.prototype.visitDictionary=re(((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)})),ne.prototype.visitInterval=re(((t,e,i)=>{t.type.unit===s.DAY_TIME?xe(t,e,i):ke(t,e,i)})),ne.prototype.visitIntervalDayTime=re(xe),ne.prototype.visitIntervalYearMonth=re(ke),ne.prototype.visitFixedSizeList=re(((t,e,i)=>{const{stride:n}=t,r=t.children[0],o=Se.getVisitFn(r);if(Array.isArray(i))for(let s=-1,a=e*n;++s<n;)o(r,a+s,i[s]);else for(let s=-1,a=e*n;++s<n;)o(r,a+s,i.get(s))})),ne.prototype.visitMap=re(((t,e,i)=>{const n=t.children[0],{valueOffsets:r}=t,o=Se.getVisitFn(n);let{[e]:s,[e+1]:a}=r;const l=i instanceof Map?i.entries():Object.entries(i);for(const h of l)if(o(n,s,h),++s>=a)break}));const Se=new ne,Oe=Symbol.for("parent"),Ee=Symbol.for("rowIndex");class Ie{constructor(t,e){return this[Oe]=t,this[Ee]=e,new Proxy(this,new Ce)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ee],e=this[Oe],i=e.type.children,n={};for(let r=-1,o=i.length;++r<o;)n[i[r].name]=Je.visit(e.children[r],t);return n}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(A(e),": ").concat(A(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Te(this[Oe],this[Ee])}}class Te{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Je.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Ie.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Oe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ee]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Ce{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Oe].type.children.map((t=>t.name))}has(t,e){return-1!==t[Oe].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Oe].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Oe].type.children.findIndex((t=>t.name===e));if(-1!==i){const n=Je.visit(t[Oe].children[i],t[Ee]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Oe].type.children.findIndex((t=>t.name===e));return-1!==n?(Se.visit(t[Oe].children[n],t[Ee],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class De extends Jt{}function Ae(t){return(e,i)=>e.getValid(i)?t(e,i):null}const Me=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Be=t=>new Date(t),Fe=(t,e,i)=>{if(i+1>=e.length)return null;const n=e[i],r=e[i+1];return t.subarray(n,r)},Pe=(t,e)=>{let{values:i}=t;return((t,e)=>Be(((t,e)=>864e5*t[e])(t,e)))(i,e)},Ne=(t,e)=>{let{values:i}=t;return((t,e)=>Be(Me(t,e)))(i,2*e)},je=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},ze=(t,e)=>{let{values:i}=t;return i[e]},Le=(t,e)=>{let{values:i}=t;return 1e3*Me(i,2*e)},Re=(t,e)=>{let{values:i}=t;return Me(i,2*e)},Ue=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},He=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},Ve=(t,e)=>{let{values:i}=t;return i[e]},We=(t,e)=>{let{values:i}=t;return i[e]},Ye=(t,e)=>{let{values:i}=t;return i[e]},qe=(t,e)=>{let{values:i}=t;return i[e]},Xe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return Je.visit(n,t.valueOffsets[e])},Ge=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return Je.visit(n,e)},Ke=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},$e=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};De.prototype.visitNull=Ae(((t,e)=>null)),De.prototype.visitBool=Ae(((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)})),De.prototype.visitInt=Ae(((t,e)=>{let{values:i}=t;return i[e]})),De.prototype.visitInt8=Ae(je),De.prototype.visitInt16=Ae(je),De.prototype.visitInt32=Ae(je),De.prototype.visitInt64=Ae(ze),De.prototype.visitUint8=Ae(je),De.prototype.visitUint16=Ae(je),De.prototype.visitUint32=Ae(je),De.prototype.visitUint64=Ae(ze),De.prototype.visitFloat=Ae(((t,e)=>{let{type:i,values:r}=t;return i.precision!==n.HALF?r[e]:ie(r[e])})),De.prototype.visitFloat16=Ae(((t,e)=>{let{stride:i,values:n}=t;return ie(n[i*e])})),De.prototype.visitFloat32=Ae(je),De.prototype.visitFloat64=Ae(je),De.prototype.visitUtf8=Ae(((t,e)=>{let{values:i,valueOffsets:n}=t;const r=Fe(i,n,e);return null!==r?L(r):null})),De.prototype.visitBinary=Ae(((t,e)=>{let{values:i,valueOffsets:n}=t;return Fe(i,n,e)})),De.prototype.visitFixedSizeBinary=Ae(((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))})),De.prototype.visitDate=Ae(((t,e)=>t.type.unit===r.DAY?Pe(t,e):Ne(t,e))),De.prototype.visitDateDay=Ae(Pe),De.prototype.visitDateMillisecond=Ae(Ne),De.prototype.visitTimestamp=Ae(((t,e)=>{switch(t.type.unit){case o.SECOND:return Le(t,e);case o.MILLISECOND:return Re(t,e);case o.MICROSECOND:return Ue(t,e);case o.NANOSECOND:return He(t,e)}})),De.prototype.visitTimestampSecond=Ae(Le),De.prototype.visitTimestampMillisecond=Ae(Re),De.prototype.visitTimestampMicrosecond=Ae(Ue),De.prototype.visitTimestampNanosecond=Ae(He),De.prototype.visitTime=Ae(((t,e)=>{switch(t.type.unit){case o.SECOND:return Ve(t,e);case o.MILLISECOND:return We(t,e);case o.MICROSECOND:return Ye(t,e);case o.NANOSECOND:return qe(t,e)}})),De.prototype.visitTimeSecond=Ae(Ve),De.prototype.visitTimeMillisecond=Ae(We),De.prototype.visitTimeMicrosecond=Ae(Ye),De.prototype.visitTimeNanosecond=Ae(qe),De.prototype.visitDecimal=Ae(((t,e)=>{let{values:i,stride:n}=t;return at.decimal(i.subarray(n*e,n*(e+1)))})),De.prototype.visitList=Ae(((t,e)=>{const{valueOffsets:i,stride:n,children:r}=t,{[e*n]:o,[e*n+1]:s}=i,a=r[0].slice(o,s-o);return new Ui([a])})),De.prototype.visitStruct=Ae(((t,e)=>new Ie(t,e))),De.prototype.visitUnion=Ae(((t,i)=>t.type.mode===e.Dense?Xe(t,i):Ge(t,i))),De.prototype.visitDenseUnion=Ae(Xe),De.prototype.visitSparseUnion=Ae(Ge),De.prototype.visitDictionary=Ae(((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])})),De.prototype.visitInterval=Ae(((t,e)=>t.type.unit===s.DAY_TIME?Ke(t,e):$e(t,e))),De.prototype.visitIntervalDayTime=Ae(Ke),De.prototype.visitIntervalYearMonth=Ae($e),De.prototype.visitFixedSizeList=Ae(((t,e)=>{const{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new Ui([r])})),De.prototype.visitMap=Ae(((t,e)=>{const{valueOffsets:i,children:n}=t,{[e]:r,[e+1]:o}=i,s=n[0];return new ti(s.slice(r,o-r))}));const Je=new De,Ze=Symbol.for("keys"),Qe=Symbol.for("vals");class ti{constructor(t){return this[Ze]=new Ui([t.children[0]]).memoize(),this[Qe]=t.children[1],new Proxy(this,new ii)}[Symbol.iterator](){return new ei(this[Ze],this[Qe])}get size(){return this[Ze].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ze],e=this[Qe],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=Je.visit(e,n);return i}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(A(e),": ").concat(A(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class ei{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Je.visit(this.vals,t)]})}}class ii{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ze].toArray().map(String)}has(t,e){return t[Ze].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[Ze].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Ze].indexOf(e);if(-1!==i){const n=Je.visit(Reflect.get(t,Qe),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Ze].indexOf(e);return-1!==n?(Se.visit(Reflect.get(t,Qe),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let ni;function ri(t,e,i,n){const{length:r=0}=t;let o="number"!==typeof e?0:e,s="number"!==typeof i?r:i;return o<0&&(o=(o%r+r)%r),s<0&&(s=(s%r+r)%r),s<o&&(ni=o,o=s,s=ni),s>r&&(s=r),n?n(t,o,s):[o,s]}Object.defineProperties(ti.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ze]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Qe]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const oi=t=>t!==t;function si(t){if("object"!==typeof t||null===t)return oi(t)?oi:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=si(n);return ai(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=si(t[i]);return ai(e)}(t):t instanceof Ui?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=si(t.get(i));return ai(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,o=i.length;++r<o;)n[r]=si(t[i[r]]);return ai(n,i)}(t,!0)}function ai(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return li(t,i,i.keys());case ti:case Ie:case Object:case void 0:return li(t,i,e||Object.keys(i))}return i instanceof Ui&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function li(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let s=0;const a=t.length;let l=o.next(),h=n.next(),c=r.next();for(;s<a&&!h.done&&!c.done&&!l.done&&(h.value===c.value&&t[s](l.value));++s,h=n.next(),c=r.next(),l=o.next());return!!(s===a&&h.done&&c.done&&l.done)||(n.return&&n.return(),r.return&&r.return(),o.return&&o.return(),!1)}class hi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function ci(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function ui(t){return t.reduce(((t,e,i)=>(t[i+1]=t[i]+e.length,t)),new Uint32Array(t.length+1))}function di(t,e,i,n){const r=[];for(let o=-1,s=t.length;++o<s;){const s=t[o],a=e[o],{length:l}=s;if(a>=n)break;if(i>=a+l)continue;if(a>=i&&a+l<=n){r.push(s);continue}const h=Math.max(0,i-a),c=Math.min(n-a,l);r.push(s.slice(h,c-h))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function fi(t,e,i,n){let r=0,o=0,s=e.length-1;do{if(r>=s-1)return i<e[s]?n(t,r,i-e[r]):null;o=r+Math.trunc(.5*(s-r)),i<e[o]?s=o:r=o}while(r<s)}function pi(t,e){return t.getValid(e)}function vi(t){function e(e,i,n){return t(e[i],n)}return function(t){return fi(this.data,this._offsets,t,e)}}function yi(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const o=fi(r,this._offsets,t,i);return e=void 0,o}}function gi(t){let e;function i(i,n,r){let o=r,s=0,a=0;for(let l=n-1,h=i.length;++l<h;){const n=i[l];if(~(s=t(n,e,o)))return a+s;o=0,a+=n.length}return-1}return function(t,n){e=t;const r=this.data,o="number"!==typeof n?i(r,0,0):fi(r,this._offsets,n,i);return e=void 0,o}}function bi(t,e,i,n){return 0!==(i&1<<n)}function mi(t,e,i,n){return(i&1<<n)>>n}function wi(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):_i(new xi(i,t,e,null,bi)).subarray(0,n)),r}return i}function _i(t){const e=[];let i=0,n=0,r=0;for(const s of t)s&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const o=new Uint8Array(e.length+7&-8);return o.set(e),o}class xi{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function ki(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new xi(t,e,i-e,t,mi))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return ki(t,e,r)+ki(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const o=new DataView(t.buffer,t.byteOffset,t.byteLength),s=void 0===i?t.byteLength:r+i;for(;s-r>=4;)n+=Si(o.getUint32(r)),r+=4;for(;s-r>=2;)n+=Si(o.getUint16(r)),r+=2;for(;s-r>=1;)n+=Si(o.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function Si(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Oi extends Jt{}function Ei(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new xi(i,t.offset+(e||0),t.length,i,bi)){if(!r)return n;++n}return-1}(t,i);const n=Je.getVisitFn(t),r=si(e);for(let o=(i||0)-1,s=t.length;++o<s;)if(r(n(t,o)))return o;return-1}function Ii(t,e,i){const n=Je.getVisitFn(t),r=si(e);for(let o=(i||0)-1,s=t.length;++o<s;)if(r(n(t,o)))return o;return-1}Oi.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Oi.prototype.visitBool=Ei,Oi.prototype.visitInt=Ei,Oi.prototype.visitInt8=Ei,Oi.prototype.visitInt16=Ei,Oi.prototype.visitInt32=Ei,Oi.prototype.visitInt64=Ei,Oi.prototype.visitUint8=Ei,Oi.prototype.visitUint16=Ei,Oi.prototype.visitUint32=Ei,Oi.prototype.visitUint64=Ei,Oi.prototype.visitFloat=Ei,Oi.prototype.visitFloat16=Ei,Oi.prototype.visitFloat32=Ei,Oi.prototype.visitFloat64=Ei,Oi.prototype.visitUtf8=Ei,Oi.prototype.visitBinary=Ei,Oi.prototype.visitFixedSizeBinary=Ei,Oi.prototype.visitDate=Ei,Oi.prototype.visitDateDay=Ei,Oi.prototype.visitDateMillisecond=Ei,Oi.prototype.visitTimestamp=Ei,Oi.prototype.visitTimestampSecond=Ei,Oi.prototype.visitTimestampMillisecond=Ei,Oi.prototype.visitTimestampMicrosecond=Ei,Oi.prototype.visitTimestampNanosecond=Ei,Oi.prototype.visitTime=Ei,Oi.prototype.visitTimeSecond=Ei,Oi.prototype.visitTimeMillisecond=Ei,Oi.prototype.visitTimeMicrosecond=Ei,Oi.prototype.visitTimeNanosecond=Ei,Oi.prototype.visitDecimal=Ei,Oi.prototype.visitList=Ei,Oi.prototype.visitStruct=Ei,Oi.prototype.visitUnion=Ei,Oi.prototype.visitDenseUnion=Ii,Oi.prototype.visitSparseUnion=Ii,Oi.prototype.visitDictionary=Ei,Oi.prototype.visitInterval=Ei,Oi.prototype.visitIntervalDayTime=Ei,Oi.prototype.visitIntervalYearMonth=Ei,Oi.prototype.visitFixedSizeList=Ei,Oi.prototype.visitMap=Ei;const Ti=new Oi;class Ci extends Jt{}function Di(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===l.Timestamp||e instanceof Dt&&64!==e.bitWidth||e instanceof zt&&64!==e.bitWidth||e instanceof Mt&&e.precision!==n.HALF))return new hi(t.data.length,(e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()}));let i=0;return new hi(t.data.length,(e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Ai(r)}))}class Ai{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ci.prototype.visitNull=Di,Ci.prototype.visitBool=Di,Ci.prototype.visitInt=Di,Ci.prototype.visitInt8=Di,Ci.prototype.visitInt16=Di,Ci.prototype.visitInt32=Di,Ci.prototype.visitInt64=Di,Ci.prototype.visitUint8=Di,Ci.prototype.visitUint16=Di,Ci.prototype.visitUint32=Di,Ci.prototype.visitUint64=Di,Ci.prototype.visitFloat=Di,Ci.prototype.visitFloat16=Di,Ci.prototype.visitFloat32=Di,Ci.prototype.visitFloat64=Di,Ci.prototype.visitUtf8=Di,Ci.prototype.visitBinary=Di,Ci.prototype.visitFixedSizeBinary=Di,Ci.prototype.visitDate=Di,Ci.prototype.visitDateDay=Di,Ci.prototype.visitDateMillisecond=Di,Ci.prototype.visitTimestamp=Di,Ci.prototype.visitTimestampSecond=Di,Ci.prototype.visitTimestampMillisecond=Di,Ci.prototype.visitTimestampMicrosecond=Di,Ci.prototype.visitTimestampNanosecond=Di,Ci.prototype.visitTime=Di,Ci.prototype.visitTimeSecond=Di,Ci.prototype.visitTimeMillisecond=Di,Ci.prototype.visitTimeMicrosecond=Di,Ci.prototype.visitTimeNanosecond=Di,Ci.prototype.visitDecimal=Di,Ci.prototype.visitList=Di,Ci.prototype.visitStruct=Di,Ci.prototype.visitUnion=Di,Ci.prototype.visitDenseUnion=Di,Ci.prototype.visitSparseUnion=Di,Ci.prototype.visitDictionary=Di,Ci.prototype.visitInterval=Di,Ci.prototype.visitIntervalDayTime=Di,Ci.prototype.visitIntervalYearMonth=Di,Ci.prototype.visitFixedSizeList=Di,Ci.prototype.visitMap=Di;const Mi=new Ci,Bi=(t,e)=>t+e;class Fi extends Jt{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===o.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,i)=>t+ji.visit(i,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,i)=>t+ji.visit(i,e)),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Pi=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:o}=t;const s=i.typeIdToChildIndex[r[e]];return 8+ji.visit(n[s],o[e])},Ni=(t,e)=>{let{children:i}=t;return 4+ji.visitMany(i,i.map((()=>e))).reduce(Bi,0)};Fi.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Fi.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Fi.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const o=r[0],{[e*n]:s}=i,{[e*n+1]:a}=i,l=ji.getVisitFn(o.type),h=o.slice(s,a-s);let c=8;for(let u=-1,d=a-s;++u<d;)c+=l(h,u);return c},Fi.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],o=r.slice(e*i,i),s=ji.getVisitFn(r.type);let a=0;for(let l=-1,h=o.length;++l<h;)a+=s(o,l);return a},Fi.prototype.visitUnion=(t,i)=>t.type.mode===e.Dense?Pi(t,i):Ni(t,i),Fi.prototype.visitDenseUnion=Pi,Fi.prototype.visitSparseUnion=Ni;const ji=new Fi;var zi;const Li={},Ri={};class Ui{constructor(t){var e,i,n;const r=t[0]instanceof Ui?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Vi))))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=Li[o.typeId],s=r[0];this.isValid=t=>pi(s,t),this.get=e=>t(s,e),this.set=(t,i)=>e(s,t,i),this.indexOf=t=>i(s,t),this.getByteLength=t=>n(s,t),this._offsets=[0,s.length];break}default:Object.setPrototypeOf(this,Ri[o.typeId]),this._offsets=ui(r)}this.data=r,this.type=o,this.stride=$t(o),this.numChildren=null!==(n=null===(i=o.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=ci(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}get VectorName(){return"".concat(l[this.type.typeId],"Vector")}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Mi.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Ui(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Ui(ri(this,t,e,((t,e,i)=>{let{data:n,_offsets:r}=t;return di(n,r,e,i)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case l.Int:case l.Float:case l.Decimal:case l.Time:case l.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce(((t,e)=>{let{values:i,length:r}=e;return t.array.set(i.subarray(0,r*n),t.offset),t.offset+=r*n,t}),{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return"[".concat([...this].join(","),"]")}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Ui(this.data.map((e=>{let{children:i}=e;return i[t]}))):null}get isMemoized(){return!!Tt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Tt.isDictionary(this.type)){const t=new Hi(this.data[0].dictionary),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Ui(e)}return new Hi(this)}unmemoize(){if(Tt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Ui(e)}return this}}zi=Symbol.toStringTag,Ui[zi]=(t=>{t.type=Tt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(l).map((t=>l[t])).filter((t=>"number"===typeof t&&t!==l.NONE));for(const i of e){const e=Je.getVisitFnByTypeId(i),n=Se.getVisitFnByTypeId(i),r=Ti.getVisitFnByTypeId(i),o=ji.getVisitFnByTypeId(i);Li[i]={get:e,set:n,indexOf:r,byteLength:o},Ri[i]=Object.create(t,{isValid:{value:vi(pi)},get:{value:vi(Je.getVisitFnByTypeId(i))},set:{value:yi(Se.getVisitFnByTypeId(i))},indexOf:{value:gi(Ti.getVisitFnByTypeId(i))},getByteLength:{value:vi(ji.getVisitFnByTypeId(i))}})}return"Vector"})(Ui.prototype);class Hi extends Ui{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Hi(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Ui(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Vi{constructor(t,e,i,n,r){let o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Vi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=$t(t),r&&((o=r[0])&&(this.valueOffsets=o),(o=r[1])&&(this.values=o),(o=r[2])&&(this.nullBitmap=o),(o=r[3])&&(this.typeIds=o))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-ki(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:n}=this,r=n+t>>3,o=(n+t)%8,s=i[r]>>o&1;return e?0===s&&(i[r]|=1<<o,this._nullCount=this.nullCount+1):1===s&&(i[r]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Vi(t,e,i,n,r,o,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,o=+(0===this._nullCount)-1,s=16===n?i:1,a=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,o,a,0===r.length||this.valueOffsets?r:this._sliceChildren(r,s*t,s*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===l.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(wi(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[h.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:o}=this;return(r=o[h.TYPE])&&(o[h.TYPE]=r.subarray(t,t+e)),(r=o[h.OFFSET])&&(o[h.OFFSET]=r.subarray(t,t+e+1))||(r=o[h.DATA])&&(o[h.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),o}_sliceChildren(t,e,i){return t.map((t=>t.slice(e,i)))}}Vi.prototype.children=Object.freeze([]);class Wi extends Jt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Vi(e,i,n,0)}visitBool(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length>>3,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=X(t.data),r=X(t.nullBitmap),o=q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,s,a,[o,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=X(t.data),r=X(t.nullBitmap),o=q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,s,a,[o,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length/$t(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length/$t(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length/$t(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length/$t(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length/$t(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=X(t.nullBitmap),o=q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,s,a,[o,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=X(t.nullBitmap),{length:o=n.reduce(((t,e)=>{let{length:i}=e;return Math.max(t,i)}),0),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=X(t.nullBitmap),o=Y(e.ArrayType,t.typeIds),{length:s=o.length,nullCount:a=(t.nullBitmap?-1:0)}=t;if(Tt.isSparseUnion(e))return new Vi(e,i,s,a,[void 0,void 0,r,o],n);const l=q(t.valueOffsets);return new Vi(e,i,s,a,[l,void 0,r,o],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.indices.ArrayType,t.data),{dictionary:o=new Ui([(new Wi).visit({type:e.dictionary})])}=t,{length:s=r.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,s,a,[void 0,r,n],[],o)}visitInterval(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=Y(e.ArrayType,t.data),{length:o=r.length/$t(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new Wi).visit({type:e.valueType})}=t,r=X(t.nullBitmap),{length:o=n.length/$t(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,o,s,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new Wi).visit({type:e.childType})}=t,r=X(t.nullBitmap),o=q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Vi(e,i,s,a,[o,void 0,r],[n])}}function Yi(t){return(new Wi).visit(t)}class qi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=Ki(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return"Schema<{ ".concat(this.fields.map(((t,e)=>"".concat(e,": ").concat(t))).join(", ")," }>")}select(t){const e=new Set(t),i=this.fields.filter((t=>e.has(t.name)));return new qi(i,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new qi(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof qi?e[0]:Array.isArray(e[0])?new qi(e[0]):new qi(e),r=[...this.fields],o=Gi(Gi(new Map,this.metadata),n.metadata),s=n.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:Gi(Gi(new Map,r[e].metadata),t.metadata)}))&&!1})),a=Ki(s,new Map);return new qi([...r,...s],o,new Map([...this.dictionaries,...a]))}}qi.prototype.fields=null,qi.prototype.metadata=null,qi.prototype.dictionaries=null;class Xi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,o,s]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===o&&(o=e[0].nullable),void 0===s&&(s=e[0].metadata)),new Xi("".concat(n),r,o,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,o,s]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:o=this.nullable,metadata:s=this.metadata}=e[0]):[n=this.name,r=this.type,o=this.nullable,s=this.metadata]=e,Xi.new(n,r,o,s)}}function Gi(t,e){return new Map([...t||new Map,...e||new Map])}function Ki(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(Tt.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&Ki(n.children,e)}return e}Xi.prototype.type=null,Xi.prototype.name=null,Xi.prototype.nullable=null,Xi.prototype.metadata=null;class $i extends Jt{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,i)=>this.compareFields(t,e[i])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function Ji(t,e){return e instanceof t.constructor}function Zi(t,e){return t===e||Ji(t,e)}function Qi(t,e){return t===e||Ji(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function tn(t,e){return t===e||Ji(t,e)&&t.precision===e.precision}function en(t,e){return t===e||Ji(t,e)&&t.unit===e.unit}function nn(t,e){return t===e||Ji(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function rn(t,e){return t===e||Ji(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function on(t,e){return t===e||Ji(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,i)=>t===e.typeIds[i]))&&an.compareManyFields(t.children,e.children)}function sn(t,e){return t===e||Ji(t,e)&&t.unit===e.unit}$i.prototype.visitNull=Zi,$i.prototype.visitBool=Zi,$i.prototype.visitInt=Qi,$i.prototype.visitInt8=Qi,$i.prototype.visitInt16=Qi,$i.prototype.visitInt32=Qi,$i.prototype.visitInt64=Qi,$i.prototype.visitUint8=Qi,$i.prototype.visitUint16=Qi,$i.prototype.visitUint32=Qi,$i.prototype.visitUint64=Qi,$i.prototype.visitFloat=tn,$i.prototype.visitFloat16=tn,$i.prototype.visitFloat32=tn,$i.prototype.visitFloat64=tn,$i.prototype.visitUtf8=Zi,$i.prototype.visitBinary=Zi,$i.prototype.visitFixedSizeBinary=function(t,e){return t===e||Ji(t,e)&&t.byteWidth===e.byteWidth},$i.prototype.visitDate=en,$i.prototype.visitDateDay=en,$i.prototype.visitDateMillisecond=en,$i.prototype.visitTimestamp=nn,$i.prototype.visitTimestampSecond=nn,$i.prototype.visitTimestampMillisecond=nn,$i.prototype.visitTimestampMicrosecond=nn,$i.prototype.visitTimestampNanosecond=nn,$i.prototype.visitTime=rn,$i.prototype.visitTimeSecond=rn,$i.prototype.visitTimeMillisecond=rn,$i.prototype.visitTimeMicrosecond=rn,$i.prototype.visitTimeNanosecond=rn,$i.prototype.visitDecimal=Zi,$i.prototype.visitList=function(t,e){return t===e||Ji(t,e)&&t.children.length===e.children.length&&an.compareManyFields(t.children,e.children)},$i.prototype.visitStruct=function(t,e){return t===e||Ji(t,e)&&t.children.length===e.children.length&&an.compareManyFields(t.children,e.children)},$i.prototype.visitUnion=on,$i.prototype.visitDenseUnion=on,$i.prototype.visitSparseUnion=on,$i.prototype.visitDictionary=function(t,e){return t===e||Ji(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&an.visit(t.indices,e.indices)&&an.visit(t.dictionary,e.dictionary)},$i.prototype.visitInterval=sn,$i.prototype.visitIntervalDayTime=sn,$i.prototype.visitIntervalYearMonth=sn,$i.prototype.visitFixedSizeList=function(t,e){return t===e||Ji(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&an.compareManyFields(t.children,e.children)},$i.prototype.visitMap=function(t,e){return t===e||Ji(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&an.compareManyFields(t.children,e.children)};const an=new $i;function ln(t,e){return an.compareSchemas(t,e)}var hn,cn;class un{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof qi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Yi({nullCount:0,type:new Ht(this.schema.fields),children:this.schema.fields.map((t=>Yi({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Vi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=dn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce(((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=Xi.new({name:i,type:t[i].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),o=new qi(i),s=Yi({type:new Ht(i),length:r,children:n,nullCount:0});[this.schema,this.data]=dn(o,s.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=fn(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Je.visit(this.data,t)}set(t,e){return Se.visit(this.data,t,e)}indexOf(t,e){return Ti.visit(this.data,t,e)}getByteLength(t){return ji.visit(this.data,t)}[Symbol.iterator](){return Mi.visit(new Ui([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new gn(this.schema,[this,...e])}slice(t,e){const[i]=new Ui([this.data]).slice(t,e).data;return new un(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Ui([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Ui([Yi({type:new Ct,length:this.numRows})]));const r=i.fields.slice(),o=n.children.slice(),s=r[t].clone({type:e.type});[r[t],o[t]]=[s,e.data[0]],i=new qi(r,new Map(this.schema.metadata)),n=Yi({type:new Ht(r),children:o})}return new un(i,n)}select(t){const e=this.schema.select(t),i=new Ht(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(n[t]=this.data.children[t])}return new un(e,Yi({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map((t=>this.data.children[t])).filter(Boolean),n=Yi({type:new Ht(e.fields),length:this.numRows,children:i});return new un(e,n)}}function dn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var n;const r=[...t.fields],o=[...e],s=(i+63&-64)>>3;for(const[a,l]of t.fields.entries()){const t=e[a];t&&t.length===i||(r[a]=l.clone({nullable:!0}),o[a]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Yi({type:l.type,length:i,nullCount:i,nullBitmap:new Uint8Array(s)}))}return[t.assign(r),Yi({type:new Ht(r),length:i,children:o})]}function fn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let n=-1,r=t.length;++n<r;){const r=t[n].type,o=e[n];if(Tt.isDictionary(r))if(i.has(r.id)){if(i.get(r.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else o.dictionary&&i.set(r.id,o.dictionary);r.children&&r.children.length>0&&fn(r.children,o.children,i)}return i}hn=Symbol.toStringTag,un[hn]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(un.prototype);class pn extends un{constructor(t){const e=t.fields.map((t=>Yi({type:t.type})));super(t,Yi({type:new Ht(t.fields),nullCount:0,children:e}))}}function vn(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let o=0,s=0,a=-1;const l=e.length;let h,c=[];for(;r.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=h=e[a].shift(),s=Math.min(s,h?h.length:s);Number.isFinite(s)&&(c=yn(i,s,c,e,r),s>0&&(n[o++]=Yi({type:new Ht(i),length:s,nullCount:0,children:c.slice()})))}return[t=t.assign(i),n.map((e=>new un(t,e)))]}(t,e.map((t=>t.data.concat())))}function yn(t,e,i,n,r){var o;const s=(e+63&-64)>>3;for(let a=-1,l=n.length;++a<l;){const l=i[a],h=null===l||void 0===l?void 0:l.length;if(h>=e)h===e?i[a]=l:(i[a]=l.slice(0,e),r.numBatches=Math.max(r.numBatches,n[a].unshift(l.slice(e,h-e))));else{const n=t[a];t[a]=n.clone({nullable:!0}),i[a]=null!==(o=null===l||void 0===l?void 0:l._changeLengthAndBackfillNullBitmap(e))&&void 0!==o?o:Yi({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(s)})}}return i}class gn{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new qi([]),this._offsets=[0],this;let o,s;n[0]instanceof qi&&(o=n.shift()),n[n.length-1]instanceof Uint32Array&&(s=n.pop());const a=t=>{if(t){if(t instanceof un)return[t];if(t instanceof gn)return t.batches;if(t instanceof Vi){if(t.type instanceof Ht)return[new un(new qi(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>a(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>a(t)));if("object"===typeof t){const e=Object.keys(t),i=e.map((e=>new Ui([t[e]]))),n=new qi(e.map(((t,e)=>new Xi(String(t),i[e].type)))),[,r]=vn(n,i);return 0===r.length?[new un(t)]:r}}}return[]},l=n.flatMap((t=>a(t)));if(o=null!==(e=null!==o&&void 0!==o?o:null===(t=l[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new qi([]),!(o instanceof qi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const h of l){if(!(h instanceof un))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!ln(o,h.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=o,this.batches=l,this._offsets=null!==s&&void 0!==s?s:ui(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=ci(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Mi.visit(new Ui(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap((t=>{let{data:e}=t;return e})));return new gn(t,r.map((e=>new un(t,e))))}slice(t,e){const i=this.schema;[t,e]=ri({length:this.numRows},t,e);const n=di(this.data,this._offsets,t,e);return new gn(i,n.map((t=>new un(i,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:i}=this.schema.fields[t],n=Yi({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Ui(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Ui([Yi({type:new Ct,length:this.numRows})]));const r=i.fields.slice(),o=r[t].clone({type:e.type}),s=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],s[t]]=[o,e],[i,n]=vn(i,s)}return new gn(i,n)}select(t){const e=this.schema.fields.reduce(((t,e,i)=>t.set(e.name,i)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map((e=>e.selectAt(t)));return new gn(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce(((t,i,n)=>{const[r,o]=t,s=e.findIndex((t=>t.name===i.name));return~s?o[s]=n:r.push(n),t}),[[],[]]),r=this.schema.assign(t.schema),o=[...e.map(((t,e)=>[e,n[e]])).map((e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)})),...i.map((e=>t.getChildAt(e)))].filter(Boolean);return new gn(...vn(r,o))}}cn=Symbol.toStringTag,gn[cn]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=vi(pi),t.get=vi(Je.getVisitFn(l.Struct)),t.set=yi(Se.getVisitFn(l.Struct)),t.indexOf=gi(Ti.getVisitFn(l.Struct)),t.getByteLength=vi(ji.getVisitFn(l.Struct)),"Table"))(gn.prototype);class bn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const mn=new Int32Array(2),wn=new Float32Array(mn.buffer),_n=new Float64Array(mn.buffer),xn=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class kn{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?kn.ZERO:new kn(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var Sn,On,En,In,Tn;kn.ZERO=new kn(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(Sn||(Sn={}));class Cn{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Cn(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new kn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new kn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return mn[0]=this.readInt32(t),wn[0]}readFloat64(t){return mn[xn?0:1]=this.readInt32(t),mn[xn?1:0]=this.readInt32(t+4),_n[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){wn[0]=e,this.writeInt32(t,mn[0])}writeFloat64(t,e){_n[0]=e,this.writeInt32(t,mn[xn?0:1]),this.writeInt32(t+4,mn[xn?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let n="",r=0;if(t+=4,e===Sn.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){let e;const i=this.readUint8(t+r++);if(i<192)e=i;else{const n=this.readUint8(t+r++);if(i<224)e=(31&i)<<6|63&n;else{const o=this.readUint8(t+r++);if(i<240)e=(15&i)<<12|(63&n)<<6|63&o;else{e=(7&i)<<18|(63&n)<<12|(63&o)<<6|63&this.readUint8(t+r++)}}}e<65536?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return n}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return kn.create(t,e)}createScalarList(t,e){const i=[];for(let n=0;n<e;++n)null!==t(n)&&i.push(t(n));return i}createObjList(t,e){const i=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&i.push(e.unpack())}return i}}class Dn{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=Cn.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=Dn.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,n=Cn.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const n=2*(i+2);this.addInt16(n);let r=0;const o=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(t)){for(let e=2;e<n;e+=2)if(this.bb.readInt16(o+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const n=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let n;const r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else{n=(r<<10)+t.charCodeAt(i++)+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,n=this.space,r=this.bb.bytes();i<e.length;i++)r[n++]=e[i];return this.endVector()}createLong(t,e){return kn.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(null===n)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class An{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new An).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new An).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return An.startKeyValue(t),An.addKey(t,e),An.addValue(t,i),An.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(On||(On={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(En||(En={})),function(t){t[t.DenseArray=0]="DenseArray"}(In||(In={}));class Mn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Mn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new Mn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return Mn.startInt(t),Mn.addBitWidth(t,e),Mn.addIsSigned(t,i),Mn.endInt(t)}}class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Bn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new Bn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Mn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):In.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,In.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(Tn||(Tn={}));class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Tn.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Bn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new An).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Tn.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Pn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):En.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new An).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,En.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,n,r){return Pn.startSchema(t),Pn.addEndianness(t,e),Pn.addFields(t,i),Pn.addCustomMetadata(t,n),Pn.addFeatures(t,r),Pn.endSchema(t)}}class Nn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Nn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Nn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):On.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Pn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new bn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new bn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new An).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,On.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var jn=kn,zn=Dn,Ln=Cn;class Rn{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=e,this.version=i,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(t){t=new Ln(X(t));const e=Nn.getRootAsFooter(t),i=qi.decode(e.schema());return new Un(i,e)}static encode(e){const i=new zn,n=qi.encode(i,e.schema);Nn.startRecordBatchesVector(i,e.numRecordBatches);for(const t of[...e.recordBatches()].slice().reverse())Hn.encode(i,t);const r=i.endVector();Nn.startDictionariesVector(i,e.numDictionaries);for(const t of[...e.dictionaryBatches()].slice().reverse())Hn.encode(i,t);const o=i.endVector();return Nn.startFooter(i),Nn.addSchema(i,n),Nn.addVersion(i,t.V4),Nn.addRecordBatches(i,r),Nn.addDictionaries(i,o),Nn.finishFooterBuffer(i,Nn.endFooter(i)),i.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Un extends Rn{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Hn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Hn.decode(e)}return null}}class Hn{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Hn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new jn(e.offset,0),r=new jn(e.bodyLength,0);return bn.createBlock(t,n,i,r)}}const Vn={fromIterable:t=>Wn(function*(t){let e,i,n,r,o=!1,s=[],a=0;function l(){return"peek"===n?W(s,r)[0]:([i,s,a]=W(s,r),i)}({cmd:n,size:r}=yield null);const h=(c=t,K(Uint8Array,c))[Symbol.iterator]();var c;try{do{if(({done:e,value:i}=Number.isNaN(r-a)?h.next():h.next(r-a)),!e&&i.byteLength>0&&(s.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield l())}while(r<a)}while(!e)}catch(u){(o=!0)&&"function"===typeof h.throw&&h.throw(u)}finally{!1===o&&"function"===typeof h.return&&h.return(null)}return null}(t)),fromAsyncIterable:t=>Wn(function(t){return P(this,arguments,(function*(){let e,i,n,r,o=!1,s=[],a=0;function l(){return"peek"===n?W(s,r)[0]:([i,s,a]=W(s,r),i)}({cmd:n,size:r}=yield yield F(null));const h=(c=t,$(Uint8Array,c))[Symbol.asyncIterator]();var c;try{do{if(({done:e,value:i}=Number.isNaN(r-a)?yield F(h.next()):yield F(h.next(r-a))),!e&&i.byteLength>0&&(s.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield yield F(l()))}while(r<a)}while(!e)}catch(u){(o=!0)&&"function"===typeof h.throw&&(yield F(h.throw(u)))}finally{!1===o&&"function"===typeof h.return&&(yield F(h.return(new Uint8Array(0))))}return yield F(null)}))}(t)),fromDOMStream:t=>Wn(function(t){return P(this,arguments,(function*(){let e,i,n,r=!1,o=!1,s=[],a=0;function l(){return"peek"===i?W(s,n)[0]:([e,s,a]=W(s,n),e)}({cmd:i,size:n}=yield yield F(null));const h=new Yn(t);try{do{if(({done:r,value:e}=Number.isNaN(n-a)?yield F(h.read()):yield F(h.read(n-a))),!r&&e.byteLength>0&&(s.push(X(e)),a+=e.byteLength),r||n<=a)do{({cmd:i,size:n}=yield yield F(l()))}while(n<a)}while(!r)}catch(c){(o=!0)&&(yield F(h.cancel(c)))}finally{!1===o?yield F(h.cancel()):t.locked&&h.releaseLock()}return yield F(null)}))}(t)),fromNodeStream:t=>Wn(function(t){return P(this,arguments,(function*(){const e=[];let i,n,r,o="error",s=!1,a=null,l=0,h=[];function c(){return"peek"===i?W(h,n)[0]:([r,h,l]=W(h,n),r)}if(({cmd:i,size:n}=yield yield F(null)),t.isTTY)return yield yield F(new Uint8Array(0)),yield F(null);try{e[0]=qn(t,"end"),e[1]=qn(t,"error");do{if(e[2]=qn(t,"readable"),[o,a]=yield F(Promise.race(e.map((t=>t[2])))),"error"===o)break;if((s="end"===o)||(Number.isFinite(n-l)?(r=X(t.read(n-l)),r.byteLength<n-l&&(r=X(t.read()))):r=X(t.read()),r.byteLength>0&&(h.push(r),l+=r.byteLength)),s||n<=l)do{({cmd:i,size:n}=yield yield F(c()))}while(n<l)}while(!s)}finally{yield F(u(e,"error"===o?a:null))}return yield F(null);function u(e,i){return r=h=null,new Promise(((n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(o){i=o||i}finally{null!=i?r(i):n()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Wn=t=>(t.next(),t);class Yn{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return M(this,void 0,void 0,(function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch((()=>{}))),i&&i.locked&&this.releaseLock()}))}read(t){return M(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=X(e)),e}))}}const qn=(t,e)=>{const i=t=>n([e,t]);let n;return[e,i,new Promise((r=>(n=r)&&t.once(e,i)))]};const Xn=Object.freeze({done:!0,value:void 0});class Gn{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Kn{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class $n extends Kn{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return M(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Xn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Vn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Vn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return M(this,void 0,void 0,(function*(){return yield this.abort(t),Xn}))}return(t){return M(this,void 0,void 0,(function*(){return yield this.close(),Xn}))}read(t){return M(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return M(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Xn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Jn extends $n{write(t){if((t=X(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?L(this.toUint8Array(!0)):this.toUint8Array(!1).then(L)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?W(this._values)[0]:(()=>M(this,void 0,void 0,(function*(){var t,e;const i=[];let n=0;try{for(var r,o=j(this);!(r=yield o.next()).done;){const t=r.value;i.push(t),n+=t.byteLength}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=o.return)&&(yield e.call(o))}finally{if(t)throw t.error}}return W(i,n)[0]})))()}}class Zn{constructor(t){t&&(this.source=new tr(Vn.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Qn{constructor(t){t instanceof Qn?this.source=t.source:t instanceof Jn?this.source=new er(Vn.fromAsyncIterable(t)):D(t)?this.source=new er(Vn.fromNodeStream(t)):C(t)?this.source=new er(Vn.fromDOMStream(t)):I(t)?this.source=new er(Vn.fromDOMStream(t.body)):x(t)?this.source=new er(Vn.fromIterable(t)):(_(t)||k(t))&&(this.source=new er(Vn.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class tr{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Xn)}return(t){return Object.create(this.source.return&&this.source.return(t)||Xn)}}class er{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return M(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return M(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return M(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return M(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return M(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Xn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return M(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Xn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class ir extends Zn{constructor(t,e){super(),this.position=0,this.buffer=X(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class nr extends Qn{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>M(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return M(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}))}seek(t){return M(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return M(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=n,o=0,s=0;const a=Math.min(i,r+Math.min(i-r,t)),l=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=s)<a&&(o+=s)<l.byteLength;)({bytesRead:s}=yield e.read(l,o,l.byteLength-o,r));return l}return null}))}readAt(t,e){return M(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),o=new Uint8Array(r-t);return(yield i.read(o,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return M(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return M(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return M(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function rr(t){return t<0&&(t=4294967295+t+1),"0x".concat(t.toString(16))}const or=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class sr{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return"".concat(rr(this.buffer[1])," ").concat(rr(this.buffer[0]))}}class ar extends sr{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return ar.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return ar.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,n=new ar(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,o=new ar(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),s=new ar(new Uint32Array([or[e],0]));n.times(s),n.plus(o),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)ar.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new ar(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ar(new Uint32Array(t.buffer)).plus(e)}}class lr extends sr{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,i=t.buffer[1]|0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return lr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return lr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length,r=new lr(e);for(let o=i?1:0;o<n;){const e=8<n-o?8:n-o,i=new lr(new Uint32Array([Number.parseInt(t.slice(o,o+e),10),0])),s=new lr(new Uint32Array([or[e],0]));r.times(s),r.plus(i),o+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)lr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new lr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new lr(new Uint32Array(t.buffer)).plus(e)}}class hr{constructor(t){this.buffer=t}high(){return new lr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new lr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new ar(new Uint32Array([this.buffer[3],0])),i=new ar(new Uint32Array([this.buffer[2],0])),n=new ar(new Uint32Array([this.buffer[1],0])),r=new ar(new Uint32Array([this.buffer[0],0])),o=new ar(new Uint32Array([t.buffer[3],0])),s=new ar(new Uint32Array([t.buffer[2],0])),a=new ar(new Uint32Array([t.buffer[1],0])),l=new ar(new Uint32Array([t.buffer[0],0]));let h=ar.multiply(r,l);this.buffer[0]=h.low();const c=new ar(new Uint32Array([h.high(),0]));h=ar.multiply(n,l),c.plus(h),h=ar.multiply(r,a),c.plus(h),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(h)?1:0,this.buffer[2]=c.high();return new ar(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ar.multiply(i,l)).plus(ar.multiply(n,a)).plus(ar.multiply(r,s)),this.buffer[3]+=ar.multiply(e,l).plus(ar.multiply(i,a)).plus(ar.multiply(n,s)).plus(ar.multiply(r,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return"".concat(rr(this.buffer[3])," ").concat(rr(this.buffer[2])," ").concat(rr(this.buffer[1])," ").concat(rr(this.buffer[0]))}static multiply(t,e){return new hr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new hr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return hr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return hr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length,r=new hr(e);for(let o=i?1:0;o<n;){const e=8<n-o?8:n-o,i=new hr(new Uint32Array([Number.parseInt(t.slice(o,o+e),10),0,0,0])),s=new hr(new Uint32Array([or[e],0,0,0]));r.times(s),r.plus(i),o+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)hr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class cr extends Jt{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Xi?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===e.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Yi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class ur extends cr{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):_i(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return Y(Uint8Array,Y(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return Y(Uint8Array,Y(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return Tt.isTimestamp(t)||(Tt.isInt(t)||Tt.isTime(t))&&64===t.bitWidth||Tt.isDate(t)&&t.unit===r.MILLISECOND?Y(Uint8Array,lr.convertArray(i[e])):Tt.isDecimal(t)?Y(Uint8Array,hr.convertArray(i[e])):Tt.isBinary(t)||Tt.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}(i[e]):Tt.isBool(t)?_i(i[e]):Tt.isUtf8(t)?U(i[e].join("")):Y(Uint8Array,Y(t.ArrayType,i[e].map((t=>+t))))}}var dr,fr,pr,vr,yr,gr,br,mr;!function(t){t[t.BUFFER=0]="BUFFER"}(dr||(dr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(fr||(fr={}));class wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new wr).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):fr.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):dr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,fr.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,dr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return wr.startBodyCompression(t),wr.addCodec(t,e),wr.addMethod(t,i),wr.endBodyCompression(t)}}class _r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class xr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new xr).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new _r).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new wr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Sr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Sr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Sr).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new kr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(pr||(pr={}));class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,pr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Or.startFloatingPoint(t),Or.addPrecision(t,e),Or.endFloatingPoint(t)}}class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,n){return Er.startDecimal(t),Er.addPrecision(t,e),Er.addScale(t,i),Er.addBitWidth(t,n),Er.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(vr||(vr={}));class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,vr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Ir.startDate(t),Ir.addUnit(t,e),Ir.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(yr||(yr={}));class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yr.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,yr.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return Tr.startTime(t),Tr.addUnit(t,e),Tr.addBitWidth(t,i),Tr.endTime(t)}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yr.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,yr.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Cr.startTimestamp(t),Cr.addUnit(t,e),Cr.addTimezone(t,i),Cr.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(gr||(gr={}));class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,gr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Dr.startInterval(t),Dr.addUnit(t,e),Dr.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(br||(br={}));class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):br.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,br.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Ar.startUnion(t),Ar.addMode(t,e),Ar.addTypeIds(t,i),Ar.endUnion(t)}}class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Mr.startFixedSizeBinary(t),Mr.addByteWidth(t,e),Mr.endFixedSizeBinary(t)}}class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Br.startFixedSizeList(t),Br.addListSize(t,e),Br.endFixedSizeList(t)}}class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Fr.startMap(t),Fr.addKeysSorted(t,e),Fr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(mr||(mr={}));class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):On.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):mr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new An).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,On.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,mr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,n,r,o){return Pr.startMessage(t),Pr.addVersion(t,e),Pr.addHeaderType(t,i),Pr.addHeader(t,n),Pr.addBodyLength(t,r),Pr.addCustomMetadata(t,o),Pr.endMessage(t)}}class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Nr.startNull(t),Nr.endNull(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return jr.startBinary(t),jr.endBinary(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return zr.startBool(t),zr.endBool(t)}}class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Lr.startUtf8(t),Lr.endUtf8(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Rr.startList(t),Rr.endList(t)}}class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Ur.startStruct_(t),Ur.endStruct_(t)}}var Hr=kn;const Vr=new class extends Jt{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Nr.startNull(e),Nr.endNull(e)}visitInt(t,e){return Mn.startInt(e),Mn.addBitWidth(e,t.bitWidth),Mn.addIsSigned(e,t.isSigned),Mn.endInt(e)}visitFloat(t,e){return Or.startFloatingPoint(e),Or.addPrecision(e,t.precision),Or.endFloatingPoint(e)}visitBinary(t,e){return jr.startBinary(e),jr.endBinary(e)}visitBool(t,e){return zr.startBool(e),zr.endBool(e)}visitUtf8(t,e){return Lr.startUtf8(e),Lr.endUtf8(e)}visitDecimal(t,e){return Er.startDecimal(e),Er.addScale(e,t.scale),Er.addPrecision(e,t.precision),Er.addBitWidth(e,t.bitWidth),Er.endDecimal(e)}visitDate(t,e){return Ir.startDate(e),Ir.addUnit(e,t.unit),Ir.endDate(e)}visitTime(t,e){return Tr.startTime(e),Tr.addUnit(e,t.unit),Tr.addBitWidth(e,t.bitWidth),Tr.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Cr.startTimestamp(e),Cr.addUnit(e,t.unit),void 0!==i&&Cr.addTimezone(e,i),Cr.endTimestamp(e)}visitInterval(t,e){return Dr.startInterval(e),Dr.addUnit(e,t.unit),Dr.endInterval(e)}visitList(t,e){return Rr.startList(e),Rr.endList(e)}visitStruct(t,e){return Ur.startStruct_(e),Ur.endStruct_(e)}visitUnion(t,e){Ar.startTypeIdsVector(e,t.typeIds.length);const i=Ar.createTypeIdsVector(e,t.typeIds);return Ar.startUnion(e),Ar.addMode(e,t.mode),Ar.addTypeIds(e,i),Ar.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Bn.startDictionaryEncoding(e),Bn.addId(e,new Hr(t.id,0)),Bn.addIsOrdered(e,t.isOrdered),void 0!==i&&Bn.addIndexType(e,i),Bn.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Mr.startFixedSizeBinary(e),Mr.addByteWidth(e,t.byteWidth),Mr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Br.startFixedSizeList(e),Br.addListSize(e,t.listSize),Br.endFixedSizeList(e)}visitMap(t,e){return Fr.startMap(e),Fr.addKeysSorted(e,t.keysSorted),Fr.endMap(e)}};function Wr(t){return new eo(t.count,qr(t.columns),Xr(t.columns))}function Yr(t,e){return(t.children||[]).filter(Boolean).map((t=>Xi.fromJSON(t,e)))}function qr(t){return(t||[]).reduce(((t,e)=>{return[...t,new ro(e.count,(i=e.VALIDITY,(i||[]).reduce(((t,e)=>t+ +(0===e)),0))),...qr(e.children)];var i}),[])}function Xr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,n=(t||[]).length;++i<n;){const n=t[i];n.VALIDITY&&e.push(new no(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new no(e.length,n.TYPE.length)),n.OFFSET&&e.push(new no(e.length,n.OFFSET.length)),n.DATA&&e.push(new no(e.length,n.DATA.length)),e=Xr(n.children,e)}return e}function Gr(t){return new Map(Object.entries(t||{}))}function Kr(t){return new Dt(t.isSigned,t.bitWidth)}function $r(t,i){const a=t.type.name;switch(a){case"NONE":case"null":return new Ct;case"binary":return new Bt;case"utf8":return new Ft;case"bool":return new Pt;case"list":return new Ut((i||[])[0]);case"struct":case"struct_":return new Ht(i||[])}switch(a){case"int":{const e=t.type;return new Dt(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Mt(n[e.precision])}case"decimal":{const e=t.type;return new Nt(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new jt(r[e.unit])}case"time":{const e=t.type;return new zt(o[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new Lt(o[e.unit],e.timezone)}case"interval":{const e=t.type;return new Rt(s[e.unit])}case"union":{const n=t.type;return new Vt(e[n.mode],n.typeIds||[],i||[])}case"fixedsizebinary":{const e=t.type;return new Wt(e.byteWidth)}case"fixedsizelist":{const e=t.type;return new Yt(e.listSize,(i||[])[0])}case"map":{const e=t.type;return new qt((i||[])[0],e.keysSorted)}}throw new Error('Unrecognized type: "'.concat(a,'"'))}var Jr=kn,Zr=Dn,Qr=Cn;class to{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(e,i){const n=new to(0,t.V4,i);return n._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return qi.fromJSON(t);case a.RecordBatch:return eo.fromJSON(t);case a.DictionaryBatch:return io.fromJSON(t)}throw new Error("Unrecognized Message type: { name: ".concat(a[e],", type: ").concat(e," }"))}}(e,i),n}static decode(t){t=new Qr(X(t));const e=Pr.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),o=new to(i,n,r);return o._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return qi.decode(t.header(new Pn));case a.RecordBatch:return eo.decode(t.header(new kr),t.version());case a.DictionaryBatch:return io.decode(t.header(new Sr),t.version())}throw new Error("Unrecognized Message type: { name: ".concat(a[e],", type: ").concat(e," }"))}}(e,r),o}static encode(e){const i=new Zr;let n=-1;return e.isSchema()?n=qi.encode(i,e.header()):e.isRecordBatch()?n=eo.encode(i,e.header()):e.isDictionaryBatch()&&(n=io.encode(i,e.header())),Pr.startMessage(i),Pr.addVersion(i,t.V4),Pr.addHeader(i,n),Pr.addHeaderType(i,e.headerType),Pr.addBodyLength(i,new Jr(e.bodyLength,0)),Pr.finishMessageBuffer(i,Pr.endMessage(i)),i.asUint8Array()}static from(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e instanceof qi)return new to(0,t.V4,a.Schema,e);if(e instanceof eo)return new to(i,t.V4,a.RecordBatch,e);if(e instanceof io)return new to(i,t.V4,a.DictionaryBatch,e);throw new Error("Unrecognized Message header: ".concat(e))}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===a.Schema}isRecordBatch(){return this.headerType===a.RecordBatch}isDictionaryBatch(){return this.headerType===a.DictionaryBatch}}class eo{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class io{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class no{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class ro{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function oo(t,e){const i=[];for(let n,r=-1,o=-1,s=t.childrenLength();++r<s;)(n=t.children(r))&&(i[++o]=Xi.decode(n,e));return i}function so(t){const e=new Map;if(t)for(let i,n,r=-1,o=Math.trunc(t.customMetadataLength());++r<o;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function ao(t){return new Dt(t.isSigned(),t.bitWidth())}function lo(t,e){const i=t.typeType();switch(i){case Tn.NONE:case Tn.Null:return new Ct;case Tn.Binary:return new Bt;case Tn.Utf8:return new Ft;case Tn.Bool:return new Pt;case Tn.List:return new Ut((e||[])[0]);case Tn.Struct_:return new Ht(e||[])}switch(i){case Tn.Int:{const e=t.type(new Mn);return new Dt(e.isSigned(),e.bitWidth())}case Tn.FloatingPoint:{const e=t.type(new Or);return new Mt(e.precision())}case Tn.Decimal:{const e=t.type(new Er);return new Nt(e.scale(),e.precision(),e.bitWidth())}case Tn.Date:{const e=t.type(new Ir);return new jt(e.unit())}case Tn.Time:{const e=t.type(new Tr);return new zt(e.unit(),e.bitWidth())}case Tn.Timestamp:{const e=t.type(new Cr);return new Lt(e.unit(),e.timezone())}case Tn.Interval:{const e=t.type(new Dr);return new Rt(e.unit())}case Tn.Union:{const i=t.type(new Ar);return new Vt(i.mode(),i.typeIdsArray()||[],e||[])}case Tn.FixedSizeBinary:{const e=t.type(new Mr);return new Wt(e.byteWidth())}case Tn.FixedSizeList:{const i=t.type(new Br);return new Yt(i.listSize(),(e||[])[0])}case Tn.Map:{const i=t.type(new Fr);return new qt((e||[])[0],i.keysSorted())}}throw new Error('Unrecognized type: "'.concat(Tn[i],'" (').concat(i,")"))}Xi.encode=function(t,e){let i=-1,n=-1,r=-1;const o=e.type;let s=e.typeId;Tt.isDictionary(o)?(s=o.dictionary.typeId,r=Vr.visit(o,t),n=Vr.visit(o.dictionary,t)):n=Vr.visit(o,t);const a=(o.children||[]).map((e=>Xi.encode(t,e))),l=Fn.createChildrenVector(t,a),h=e.metadata&&e.metadata.size>0?Fn.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString("".concat(i)),o=t.createString("".concat(n));return An.startKeyValue(t),An.addKey(t,r),An.addValue(t,o),An.endKeyValue(t)}))):-1;e.name&&(i=t.createString(e.name));Fn.startField(t),Fn.addType(t,n),Fn.addTypeType(t,s),Fn.addChildren(t,l),Fn.addNullable(t,!!e.nullable),-1!==i&&Fn.addName(t,i);-1!==r&&Fn.addDictionary(t,r);-1!==h&&Fn.addCustomMetadata(t,h);return Fn.endField(t)},Xi.decode=function(t,e){let i,n,r,o,s,a;e&&(a=t.dictionary())?e.has(i=a.id().low)?(o=(o=a.indexType())?ao(o):new At,s=new Kt(e.get(i),o,i,a.isOrdered()),n=new Xi(t.name(),s,t.nullable(),so(t))):(o=(o=a.indexType())?ao(o):new At,e.set(i,r=lo(t,oo(t,e))),s=new Kt(r,o,i,a.isOrdered()),n=new Xi(t.name(),s,t.nullable(),so(t))):(r=lo(t,oo(t,e)),n=new Xi(t.name(),r,t.nullable(),so(t)));return n||null},Xi.fromJSON=function(t,e){let i,n,r,o,s,a;return e&&(o=t.dictionary)?e.has(i=o.id)?(n=(n=o.indexType)?Kr(n):new At,a=new Kt(e.get(i),n,i,o.isOrdered),r=new Xi(t.name,a,t.nullable,Gr(t.customMetadata))):(n=(n=o.indexType)?Kr(n):new At,e.set(i,s=$r(t,Yr(t,e))),a=new Kt(s,n,i,o.isOrdered),r=new Xi(t.name,a,t.nullable,Gr(t.customMetadata))):(s=$r(t,Yr(t,e)),r=new Xi(t.name,s,t.nullable,Gr(t.customMetadata))),r||null},qi.encode=function(t,e){const i=e.fields.map((e=>Xi.encode(t,e)));Pn.startFieldsVector(t,i.length);const n=Pn.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?Pn.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString("".concat(i)),o=t.createString("".concat(n));return An.startKeyValue(t),An.addKey(t,r),An.addValue(t,o),An.endKeyValue(t)}))):-1;Pn.startSchema(t),Pn.addFields(t,n),Pn.addEndianness(t,ho?En.Little:En.Big),-1!==r&&Pn.addCustomMetadata(t,r);return Pn.endSchema(t)},qi.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let n,r=-1,o=-1,s=t.fieldsLength();++r<s;)(n=t.fields(r))&&(i[++o]=Xi.decode(n,e));return i}(t,e);return new qi(i,so(t),e)},qi.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new qi(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>Xi.fromJSON(t,e)))}(t,e),Gr(t.customMetadata),e)},eo.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];kr.startNodesVector(t,i.length);for(const s of i.slice().reverse())ro.encode(t,s);const r=t.endVector();kr.startBuffersVector(t,n.length);for(const s of n.slice().reverse())no.encode(t,s);const o=t.endVector();return kr.startRecordBatch(t),kr.addLength(t,new Jr(e.length,0)),kr.addNodes(t,r),kr.addBuffers(t,o),kr.endRecordBatch(t)},eo.decode=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;if(null!==e.compression())throw new Error("Record batch compression not implemented");return new eo(e.length(),function(t){const e=[];for(let i,n=-1,r=-1,o=t.nodesLength();++n<o;)(i=t.nodes(n))&&(e[++r]=ro.decode(i));return e}(e),function(e,i){const n=[];for(let r,o=-1,s=-1,a=e.buffersLength();++o<a;)(r=e.buffers(o))&&(i<t.V4&&(r.bb_pos+=8*(o+1)),n[++s]=no.decode(r));return n}(e,i))},eo.fromJSON=Wr,io.encode=function(t,e){const i=eo.encode(t,e.data);return Sr.startDictionaryBatch(t),Sr.addId(t,new Jr(e.id,0)),Sr.addIsDelta(t,e.isDelta),Sr.addData(t,i),Sr.endDictionaryBatch(t)},io.decode=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;return new io(eo.decode(e.data(),i),e.id(),e.isDelta())},io.fromJSON=function(t){return new io(Wr(t.data),t.id,t.isDelta)},ro.encode=function(t,e){return xr.createFieldNode(t,new Jr(e.length,0),new Jr(e.nullCount,0))},ro.decode=function(t){return new ro(t.length(),t.nullCount())},no.encode=function(t,e){return _r.createBuffer(t,new Jr(e.offset,0),new Jr(e.length,0))},no.decode=function(t){return new no(t.offset(),t.length())};const ho=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),co=t=>"Expected ".concat(a[t]," Message in stream, but was null or length 0."),uo=t=>"Header pointer of flatbuffer-encoded ".concat(a[t]," Message is null or length 0."),fo=(t,e)=>"Expected to read ".concat(t," metadata bytes, but only read ").concat(e,"."),po=(t,e)=>"Expected to read ".concat(t," bytes for message body, but only read ").concat(e,".");class vo{constructor(t){this.source=t instanceof Zn?t:new Zn(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Xn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(co(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=X(this.source.read(t));if(e.byteLength<t)throw new Error(po(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=a.Schema,i=this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(uo(e));return n}readMetadataLength(){const t=this.source.read(bo),e=t&&new Cn(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Xn;if(e.byteLength<t)throw new Error(fo(t,e.byteLength));return{done:!1,value:to.decode(e)}}}class yo{constructor(t,e){this.source=t instanceof Qn?t:E(t)?new nr(t,e):new Qn(t)}[Symbol.asyncIterator](){return this}next(){return M(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Xn:t}))}throw(t){return M(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return M(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return M(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(co(t));return e.value}))}readMessageBody(t){return M(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=X(yield this.source.read(t));if(e.byteLength<t)throw new Error(po(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return M(this,void 0,void 0,(function*(){const e=a.Schema,i=yield this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(uo(e));return n}))}readMetadataLength(){return M(this,void 0,void 0,(function*(){const t=yield this.source.read(bo),e=t&&new Cn(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}))}readMetadata(t){return M(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Xn;if(e.byteLength<t)throw new Error(fo(t,e.byteLength));return{done:!1,value:to.decode(e)}}))}}class go extends vo{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Gn?t:new Gn(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:to.fromJSON(t.schema,a.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:to.fromJSON(e,a.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:to.fromJSON(e,a.RecordBatch)}}return this._body=[],Xn}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(co(t));return e.value}readSchema(){const t=a.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(uo(t));return i}}const bo=4,mo="ARROW1",wo=new Uint8Array(6);for(let i=0;i<6;i+=1)wo[i]=mo.codePointAt(i);function _o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=wo.length;++i<n;)if(wo[i]!==t[e+i])return!1;return!0}const xo=wo.length,ko=xo+bo,So=2*xo+bo;class Oo extends Kn{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return _(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Vn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Vn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Oo?t:S(t)?function(t){return new Eo(new Po(t))}(t):E(t)?function(t){return M(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),i=new nr(t,e);return e>=So&&_o(yield i.readAt(0,xo+7&-8))?new Co(new Fo(i)):new Io(new Mo(i))}))}(t):_(t)?(()=>M(this,void 0,void 0,(function*(){return yield Oo.from(yield t)})))():I(t)||C(t)||D(t)||k(t)?function(t){return M(this,void 0,void 0,(function*(){const e=yield t.peek(xo+7&-8);return e&&e.byteLength>=4?_o(e)?new To(new Bo(yield t.read())):new Io(new Mo(t)):new Io(new Mo(function(){return P(this,arguments,(function*(){}))}()))}))}(new Qn(t)):function(t){const e=t.peek(xo+7&-8);return e&&e.byteLength>=4?_o(e)?new To(new Bo(t.read())):new Eo(new Ao(t)):new Eo(new Ao(function*(){}()))}(new Zn(t))}static readAll(t){return t instanceof Oo?t.isSync()?jo(t):zo(t):S(t)||ArrayBuffer.isView(t)||x(t)||O(t)?jo(t):zo(t)}}class Eo extends Oo{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return P(this,arguments,(function*(){yield F(yield*N(j(this[Symbol.iterator]())))}))}}class Io extends Oo{constructor(t){super(t),this._impl=t}readAll(){var t,e;return M(this,void 0,void 0,(function*(){const i=new Array;try{for(var n,r=j(this);!(n=yield r.next()).done;){const t=n.value;i.push(t)}}catch(o){t={error:o}}finally{try{n&&!n.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return i}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class To extends Eo{constructor(t){super(t),this._impl=t}}class Co extends Io{constructor(t){super(t),this._impl=t}}class Do{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),n=Yi({type:new Ht(this.schema.fields),length:t.length,children:i});return new un(this.schema,n)}_loadDictionaryBatch(t,e){const{id:i,isDelta:n}=t,{dictionaries:r,schema:o}=this,s=r.get(i);if(n||!s){const r=o.dictionaries.get(i),a=this._loadVectors(t.data,e,[r]);return(s&&n?s.concat(new Ui(a)):new Ui(a)).memoize()}return s.memoize()}_loadVectors(t,e,i){return new cr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Ao extends Do{constructor(t,e){super(e),this._reader=S(t)?new go(this._handle=t):new vo(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=No(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Xn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Xn}next(){if(this.closed)return Xn;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new pn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Mo extends Do{constructor(t,e){super(e),this._reader=new yo(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return M(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return M(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=No(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return M(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Xn}))}return(t){return M(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Xn}))}next(){return M(this,void 0,void 0,(function*(){if(this.closed)return Xn;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new pn(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return M(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class Bo extends Ao{constructor(t,e){super(t instanceof ir?t:new ir(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-ko,i=t.readInt32(e),n=t.readAt(e-i,i);return Rn.decode(n)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class Fo extends Mo{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,o=i[0]instanceof Map?i.shift():void 0;super(t instanceof nr?t:new nr(t,r),o)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return M(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return M(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}))}_readDictionaryBatch(t){var e;return M(this,void 0,void 0,(function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}))}_readFooter(){return M(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-ko,i=yield t.readInt32(e),n=yield t.readAt(e-i,i);return Rn.decode(n)}))}_readNextMessageAndValidate(t){return M(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class Po extends Ao{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new ur(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function No(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*jo(t){const e=Oo.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function zo(t){return P(this,arguments,(function*(){const e=yield F(Oo.from(t));try{if(!(yield F(e.open({autoDestroy:!1}))).closed)do{yield yield F(e)}while(!(yield F(e.reset().open())).closed)}finally{yield F(e.cancel())}}))}class Lo extends Jt{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof un?e.data.children:e.data)),e=new Lo;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.visitMany(t(n)),e}visit(t){if(t instanceof Ui)return this.visitMany(t.data),this;const{type:e}=t;if(!Tt.isDictionary(e)){const{length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Tt.isNull(e)||Ro.call(this,n<=0?new Uint8Array(0):wi(t.offset,i,t.nullBitmap)),this.nodes.push(new ro(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ro(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new no(this._byteLength,e)),this._byteLength+=e,this}function Uo(t){return Ro.call(this,t.values.subarray(0,t.length*t.stride))}function Ho(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],o=n[e],s=Math.min(o-r,i.byteLength-r);return Ro.call(this,J(-n[0],e,n)),Ro.call(this,i.subarray(r,r+s)),this}function Vo(t){const{length:e,valueOffsets:i}=t;return i&&Ro.call(this,J(i[0],e,i)),this.visit(t.children[0])}function Wo(t){return this.visitMany(t.type.children.map(((e,i)=>t.children[i])).filter(Boolean))[0]}Lo.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?Ro.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Ro.call(this,wi(t.offset,t.length,e)):Ro.call(this,_i(t.values))},Lo.prototype.visitInt=Uo,Lo.prototype.visitFloat=Uo,Lo.prototype.visitUtf8=Ho,Lo.prototype.visitBinary=Ho,Lo.prototype.visitFixedSizeBinary=Uo,Lo.prototype.visitDate=Uo,Lo.prototype.visitTimestamp=Uo,Lo.prototype.visitTime=Uo,Lo.prototype.visitDecimal=Uo,Lo.prototype.visitList=Vo,Lo.prototype.visitStruct=Wo,Lo.prototype.visitUnion=function(t){const{type:i,length:n,typeIds:r,valueOffsets:o}=t;if(Ro.call(this,r),i.mode===e.Sparse)return Wo.call(this,t);if(i.mode===e.Dense){if(t.offset<=0)return Ro.call(this,o),Wo.call(this,t);{const e=r.reduce(((t,e)=>Math.max(t,e)),r[0]),s=new Int32Array(e+1),a=new Int32Array(e+1).fill(-1),l=new Int32Array(n),h=J(-o[0],n,o);for(let t,i,o=-1;++o<n;)-1===(i=a[t=r[o]])&&(i=a[t]=h[t]),l[o]=h[o]-i,++s[t];Ro.call(this,l);for(let r,o=-1,c=i.children.length;++o<c;)if(r=t.children[o]){const t=i.typeIds[o],e=Math.min(n,s[t]);this.visit(r.slice(a[t],e))}}}return this},Lo.prototype.visitInterval=Uo,Lo.prototype.visitFixedSizeList=Vo,Lo.prototype.visitMap=Vo;class Yo extends Kn{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Jn,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,w(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return _(t)?t.then((t=>this.writeAll(t))):k(t)?Ko(this,t):Go(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i;return t===this._sink||t instanceof Jn?this._sink=t:(this._sink=new Jn,t&&(w(i=t)&&m(i.abort)&&m(i.getWriter)&&!T(i))?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>w(t)&&m(t.end)&&m(t.write)&&b(t.writable)&&!T(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&ln(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof gn&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof un&&!(e=t.schema))return this.finish()&&void 0;if(e&&!ln(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof un?t instanceof pn||this._writeRecordBatch(t):t instanceof gn?this.writeAll(t.batches):x(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=to.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,o=n+r+e&~e,s=o-n-r;return t.headerType===a.RecordBatch?this._recordBatchBlocks.push(new Hn(o,t.bodyLength,this._position)):t.headerType===a.DictionaryBatch&&this._dictionaryBlocks.push(new Hn(o,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-r)),n>0&&this._write(i),this._writePadding(s)}_write(t){if(this._started){const e=X(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(to.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(wo)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=Lo.assemble(t),o=new eo(t.numRows,i,n),s=to.from(o,e);return this._writeDictionaries(t)._writeMessage(s)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:o,buffers:s}=Lo.assemble(new Ui([t])),a=new eo(t.length,r,o),l=new io(a,e,i),h=to.from(l,n);return this._writeMessage(h)._writeBodyBuffers(s)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,o=t.length;++r<o;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const n of i.data)this._writeDictionaryBatch(n,e,t>0),t+=n.length}return this}}class qo extends Yo{static writeAll(t,e){const i=new qo(e);return _(t)?t.then((t=>i.writeAll(t))):k(t)?Ko(i,t):Go(i,t)}}class Xo extends Yo{static writeAll(t){const e=new Xo;return _(t)?t.then((t=>e.writeAll(t))):k(t)?Ko(e,t):Go(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(e){const i=Rn.encode(new Rn(e,t.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(i)._write(Int32Array.of(i.byteLength))._writeMagic()}}function Go(t,e){let i=e;e instanceof gn&&(i=e.batches,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}function Ko(t,e){var i,n,r,o;return M(this,void 0,void 0,(function*(){try{for(i=j(e);!(n=yield i.next()).done;){const e=n.value;t.write(e)}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i.return)&&(yield o.call(i))}finally{if(r)throw r.error}}return t.finish()}))}function $o(t){const e=Oo.from(t);return _(e)?e.then((t=>$o(t))):e.isAsync()?e.readAll().then((t=>new gn(t))):new gn(e.readAll())}function Jo(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?qo:Xo).writeAll(t).toUint8Array(!0)}var Zo,Qo=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,o=t<r.headerRows&&e>=r.headerColumns;if(i){var s=["blank"];return e>0&&s.push("level"+t),{type:"blank",classNames:s.join(" "),content:""}}if(o)return{type:"columns",classNames:(s=["col_heading","level"+t,"col"+(l=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,l,t)};if(n){s=["row_heading","level"+e,"row"+(a=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(a),classNames:s.join(" "),content:r.getContent(r.indexTable,a,e)}}s=["data","row"+(a=t-r.headerRows),"col"+(l=e-r.headerColumns)];var a,l,h=r.styler?r.getContent(r.styler.displayValuesTable,a,l):r.getContent(r.dataTable,a,l);return{type:"data",id:"T_".concat(r.uuid,"row").concat(a,"_col").concat(l),classNames:s.join(" "),content:h}},this.getContent=function(t,e,i){var n=t.getChildAt(i);return null===n?"":r.getColumnTypeId(t,i)===l.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=$o(t),this.indexTable=$o(e),this.columnsTable=$o(i),this.styler=n?{caption:n.caption,displayValuesTable:$o(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:Jo(this.dataTable),index:Jo(this.indexTable),columns:Jo(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),ts=function(){return ts=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ts.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(Zo||(Zo={}));var es=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(Zo.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(Zo.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof Qo?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(i){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(Zo.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=ts(ts({},i),n);var r=Boolean(e.disabled),o=e.theme;o&&is(o);var s={disabled:r,args:i,theme:o},a=new CustomEvent(t.RENDER_EVENT,{detail:s});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,n=e.index,r=e.columns,o=e.styler;return new Qo(i,n,r,o)},t.sendBackMsg=function(t,e){window.parent.postMessage(ts({isStreamlitMessage:!0,type:t},e),"*")},t}(),is=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var ns=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ns(e,t),e.prototype.componentDidMount=function(){es.setFrameHeight()},e.prototype.componentDidUpdate=function(){es.setFrameHeight()}}(c.PureComponent);var rs=i(212);es.events.addEventListener(es.RENDER_EVENT,(function(t){const e=t.detail;var i=document.getElementById("vis-network-container");i.style.height=e.args.height,i.style.width=e.args.width;var n={nodes:e.args.nodes,edges:e.args.edges},r=new rs.Network(i,n,e.args.options);r.on("selectNode",(t=>{if(t.nodes.length>0){const e=t.nodes[0];r.focus(e,{scale:1.5,animation:{duration:500,easingFunction:"easeInOutQuad"}}),es.setComponentValue(e)}})),r.on("deselectNode",(()=>{es.setComponentValue(null)})),r.redraw(),es.setFrameHeight()})),es.setComponentReady()})()})();
//# sourceMappingURL=main.249804f0.js.map